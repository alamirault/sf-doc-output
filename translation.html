        
<!DOCTYPE html>
<!--[if IE 8]>
<html class="no-js lt-ie9" lang="en"> <![endif]-->
<!--[if gt IE 8]><!-->
<html class="no-js" lang="en"> <!--<![endif]-->
<head><base href="/">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
            
                                
    
    <link rel="stylesheet" href="assets/css/theme.css" type="text/css" />
    <link rel="stylesheet" href="assets/css/highlightjs.css" type="text/css" />
    <link rel="stylesheet" href="assets/css/badge_only.css" type="text/css" />

</head>

<body class="wy-body-for-nav">
 <div class="wy-grid-for-nav">

        <nav data-toggle="wy-nav-shift" class="wy-nav-side">
        <div class="wy-side-scroll">
            <div class="wy-side-nav-search">
                
                                                                                                    
                                                                                                                                                                        </div>

            <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
                                                                                                                                                                                                                                                                                                                            </div>
        </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

                                                        

        <div class="wy-nav-content">                <div class="rst-content">
                                        <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">                            <div itemprop="articleBody">
                                    <div class="section">
<h1 id="translations">
    Translations
    <a class="headerlink" href="#translations" title="Permalink to this headline">¶</a>
</h1>
<p>The term &quot;internationalization&quot; (often abbreviated <a href="https://en.wikipedia.org/wiki/Internationalization_and_localization" class="reference external" rel="external noopener noreferrer" target="_blank">i18n</a>) refers to the
process of abstracting strings and other locale-specific pieces out of your
application into a layer where they can be translated and converted based
on the user's locale (i.e. language and country). For text, this means
wrapping each with a function capable of translating the text (or &quot;message&quot;)
into the language of the user:</p>
<div translate="no" class="highlight-php notranslate">
    <table class="highlighttable">
        <tbody>
            <tr>
                <td class="linenos">
                    <div class="linenodiv">
                        <pre>1
2
3
4
5
6</pre>
                    </div>
                </td>
                <td class="code">
                    <div class="highlight">
                        <pre class="hljs php"><span class="hljs-comment">// text will *always* print out in English</span>
<span class="hljs-keyword">echo</span> <span class="hljs-string">'Hello World'</span>;

<span class="hljs-comment">// text can be translated into the end-user's language or</span>
<span class="hljs-comment">// default to English</span>
<span class="hljs-keyword">echo</span> <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>translator</span><span class="hljs-operator">-&gt;</span>trans(<span class="hljs-string">'Hello World'</span>);</pre>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
<div class="admonition admonition-note ">
    <p class="admonition-title">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" width="24" height="24" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z" /></svg>
                <span>Note</span>
    </p><p>The term <em>locale</em> refers roughly to the user's language and country. It
can be any string that your application uses to manage translations and
other format differences (e.g. currency format). The <a href="https://en.wikipedia.org/wiki/List_of_ISO_639-1_codes" class="reference external" rel="external noopener noreferrer" target="_blank">ISO 639-1</a>
<em>language</em> code, an underscore (<code translate="no" class="notranslate">_</code>), then the <a href="https://en.wikipedia.org/wiki/ISO_3166-1#Current_codes" class="reference external" rel="external noopener noreferrer" target="_blank">ISO 3166-1 alpha-2</a>
<em>country</em> code (e.g. <code translate="no" class="notranslate">fr_FR</code> for French/France) is recommended.</p>
</div>
<p>Translations can be organized into groups, called <strong>domains</strong>. By default, all
messages use the default <code translate="no" class="notranslate">messages</code> domain:</p>
<div translate="no" class="highlight-php notranslate">
    <table class="highlighttable">
        <tbody>
            <tr>
                <td class="linenos">
                    <div class="linenodiv">
                        <pre>1</pre>
                    </div>
                </td>
                <td class="code">
                    <div class="highlight">
                        <pre class="hljs php"><span class="hljs-keyword">echo</span> <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>translator</span><span class="hljs-operator">-&gt;</span>trans(<span class="hljs-string">'Hello World'</span>, domain: <span class="hljs-string">'messages'</span>);</pre>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
<p>The translation process has several steps:</p>
<ol class="arabic">
    <li><a href="translation.html#translation-configuration" class="reference internal">Enable and configure</a> Symfony's
translation service;</li>
<li>Abstract strings (i.e. &quot;messages&quot;) by wrapping them in calls to the
<code translate="no" class="notranslate">Translator</code> (&quot;<a href="translation.html#translation-basic" class="reference internal">Translations</a>&quot;);</li>
<li><a href="translation.html#translation-resources" class="reference internal">Create translation resources/files</a>
for each supported locale that translate each message in the application;</li>
<li>Determine, <a href="translation.html#translation-locale" class="reference internal">set and manage the user's locale</a>
for the request and optionally
<a href="session.html#locale-sticky-session" class="reference internal">on the user's entire session</a>.</li>
</ol>
<div class="section">
<h2 id="installation">
    Installation
    <a class="headerlink" href="#installation" title="Permalink to this headline">¶</a>
</h2>
<p>First, run this command to install the translator before using it:</p>
<div translate="no" class="highlight-terminal highlight-bash notranslate">
    <table class="highlighttable">
        <tbody>
            <tr>
                <td class="linenos">
                    <div class="linenodiv">
                        <pre>1</pre>
                    </div>
                </td>
                <td class="code">
                    <div class="highlight">
                        <pre class="hljs terminal bash"><span class="hljs-prompt">$ </span>composer require symfony/translation</pre>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
<span id="translation-configuration"></span>
</div>
<div class="section">
<h2 id="configuration">
    Configuration
    <a class="headerlink" href="#configuration" title="Permalink to this headline">¶</a>
</h2>
<p>The previous command creates an initial config file where you can define the
default locale of the application and the directory where the translation files
are located:</p>
<div class="configuration-block">
    <div role="tablist" aria-label="Configuration formats" class="configuration-tabs configuration-tabs-length-3">
                    <button role="tab" type="button" data-language="yaml"
                aria-controls="configuration-block-tabpanel-59a4709b6eb80a268a2afbdfbd5ea5eb478fe798" aria-selected="true"
                data-active="true" >
                <span>YAML</span>
            </button>
                    <button role="tab" type="button" data-language="xml"
                aria-controls="configuration-block-tabpanel-79fe25b5b8036c4c00d4c63b586c0318e6767993" aria-selected="false"
                 tabindex="-1">
                <span>XML</span>
            </button>
                    <button role="tab" type="button" data-language="php"
                aria-controls="configuration-block-tabpanel-e9b653f6c1ae8326c0be53f42f80214deb57c1ae" aria-selected="false"
                 tabindex="-1">
                <span>PHP</span>
            </button>
            </div>

            <div role="tabpanel" id="configuration-block-tabpanel-59a4709b6eb80a268a2afbdfbd5ea5eb478fe798" aria-label="YAML" class="configuration-codeblock" data-language="yaml" style="">
            <div translate="no" class="highlight-yaml notranslate">
    <table class="highlighttable">
        <tbody>
            <tr>
                <td class="linenos">
                    <div class="linenodiv">
                        <pre>1
2
3
4
5</pre>
                    </div>
                </td>
                <td class="code">
                    <div class="highlight">
                        <pre class="hljs yaml"><span class="hljs-comment"># config/packages/translation.yaml</span>
<span class="hljs-attr">framework:</span>
    <span class="hljs-attr">default_locale:</span> <span class="hljs-string">'en'</span>
    <span class="hljs-attr">translator:</span>
        <span class="hljs-attr">default_path:</span> <span class="hljs-string">'%kernel.project_dir%/translations'</span></pre>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
        </div>
            <div role="tabpanel" id="configuration-block-tabpanel-79fe25b5b8036c4c00d4c63b586c0318e6767993" aria-label="XML" class="configuration-codeblock" data-language="xml" style="display: none">
            <div translate="no" class="highlight-xml notranslate">
    <table class="highlighttable">
        <tbody>
            <tr>
                <td class="linenos">
                    <div class="linenodiv">
                        <pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17</pre>
                    </div>
                </td>
                <td class="code">
                    <div class="highlight">
                        <pre class="hljs xml"><span class="hljs-comment">&lt;!-- config/packages/translation.xml --&gt;</span>
<span class="hljs-meta">&lt;?xml version="1.0" encoding="UTF-8" ?&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">container</span> <span class="hljs-attr">xmlns</span>=<span class="hljs-string">"http://symfony.com/schema/dic/services"</span>
    <span class="hljs-attr">xmlns:xsi</span>=<span class="hljs-string">"http://www.w3.org/2001/XMLSchema-instance"</span>
    <span class="hljs-attr">xmlns:framework</span>=<span class="hljs-string">"http://symfony.com/schema/dic/symfony"</span>
    <span class="hljs-attr">xsi:schemaLocation</span>=<span class="hljs-string">"http://symfony.com/schema/dic/services
        https://symfony.com/schema/dic/services/services-1.0.xsd
        http://symfony.com/schema/dic/symfony
        https://symfony.com/schema/dic/symfony/symfony-1.0.xsd"</span>&gt;</span>

    <span class="hljs-tag">&lt;<span class="hljs-name">framework:config</span> <span class="hljs-attr">default-locale</span>=<span class="hljs-string">"en"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">framework:translator</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">framework:default-path</span>&gt;</span>'%kernel.project_dir%/translations'<span class="hljs-tag">&lt;/<span class="hljs-name">framework:default-path</span>&gt;</span>
            <span class="hljs-comment">&lt;!-- ... --&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">framework:translator</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">framework:config</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">container</span>&gt;</span></pre>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
        </div>
            <div role="tabpanel" id="configuration-block-tabpanel-e9b653f6c1ae8326c0be53f42f80214deb57c1ae" aria-label="PHP" class="configuration-codeblock" data-language="php" style="display: none">
            <div translate="no" class="highlight-php notranslate">
    <table class="highlighttable">
        <tbody>
            <tr>
                <td class="linenos">
                    <div class="linenodiv">
                        <pre>1
2
3
4
5
6
7
8
9
10
11</pre>
                    </div>
                </td>
                <td class="code">
                    <div class="highlight">
                        <pre class="hljs php"><span class="hljs-comment">// config/packages/translation.php</span>
<span class="hljs-keyword">use</span> <span class="hljs-title">Symfony</span>\<span class="hljs-title">Config</span>\<span class="hljs-title">FrameworkConfig</span>;

<span class="hljs-keyword">return</span> <span class="hljs-keyword">static</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(FrameworkConfig <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>framework</span>)</span> </span>{
    <span class="hljs-comment">// ...</span>
    <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>framework</span>
        <span class="hljs-operator">-&gt;</span>defaultLocale(<span class="hljs-string">'en'</span>)
        <span class="hljs-operator">-&gt;</span>translator()
            <span class="hljs-operator">-&gt;</span>defaultPath(<span class="hljs-string">'%kernel.project_dir%/translations'</span>)
    ;
};</pre>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
        </div>
    </div>
<span id="translation-basic"></span>
</div>
<div class="section">
<h2 id="basic-translation">
    Basic Translation
    <a class="headerlink" href="#basic-translation" title="Permalink to this headline">¶</a>
</h2>
<p>Translation of text is done through the <code translate="no" class="notranslate">translator</code> service
(<a href="https://github.com/symfony/symfony/blob/5.4/src/Symfony/Component/Translation/Translator.php" class="reference external" title="Symfony\Component\Translation\Translator" rel="external noopener noreferrer" target="_blank">Translator</a>). To translate a block of
text (called a <em>message</em>), use the
<a href="https://github.com/symfony/symfony/blob/5.4/src/Symfony/Component/Translation/Translator.php#method_trans" class="reference external" title="Symfony\Component\Translation\Translator::trans()" rel="external noopener noreferrer" target="_blank">trans()</a> method. Suppose,
for example, that you're translating a static message from inside a
controller:</p>
<div translate="no" class="highlight-php notranslate">
    <table class="highlighttable">
        <tbody>
            <tr>
                <td class="linenos">
                    <div class="linenodiv">
                        <pre>1
2
3
4
5
6
7
8
9</pre>
                    </div>
                </td>
                <td class="code">
                    <div class="highlight">
                        <pre class="hljs php"><span class="hljs-comment">// ...</span>
<span class="hljs-keyword">use</span> <span class="hljs-title">Symfony</span>\<span class="hljs-title">Contracts</span>\<span class="hljs-title">Translation</span>\<span class="hljs-title">TranslatorInterface</span>;

<span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">index</span><span class="hljs-params">(TranslatorInterface <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>translator</span>)</span>
</span>{
    <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>translated</span> = <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>translator</span><span class="hljs-operator">-&gt;</span>trans(<span class="hljs-string">'Symfony is great'</span>);

    <span class="hljs-comment">// ...</span>
}</pre>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
<span id="translation-resources"></span>
<p>When this code is run, Symfony will attempt to translate the message
&quot;Symfony is great&quot; based on the <code translate="no" class="notranslate">locale</code> of the user. For this to work,
you need to tell Symfony how to translate the message via a &quot;translation
resource&quot;, which is usually a file that contains a collection of translations
for a given locale. This &quot;dictionary&quot; of translations can be created in several
different formats:</p>
<div class="configuration-block">
    <div role="tablist" aria-label="Configuration formats" class="configuration-tabs configuration-tabs-length-3">
                    <button role="tab" type="button" data-language="yaml"
                aria-controls="configuration-block-tabpanel-2ee9387d4c1fca3fcb4b7988659317d33ea37e50" aria-selected="true"
                data-active="true" >
                <span>YAML</span>
            </button>
                    <button role="tab" type="button" data-language="xml"
                aria-controls="configuration-block-tabpanel-7dc40c12e03dadc619efaa18a0de77112d846d70" aria-selected="false"
                 tabindex="-1">
                <span>XML</span>
            </button>
                    <button role="tab" type="button" data-language="php"
                aria-controls="configuration-block-tabpanel-2c25b0ed073ad9dbf9abea13950b1c122e29a987" aria-selected="false"
                 tabindex="-1">
                <span>PHP</span>
            </button>
            </div>

            <div role="tabpanel" id="configuration-block-tabpanel-2ee9387d4c1fca3fcb4b7988659317d33ea37e50" aria-label="YAML" class="configuration-codeblock" data-language="yaml" style="">
            <div translate="no" class="highlight-yaml notranslate">
    <table class="highlighttable">
        <tbody>
            <tr>
                <td class="linenos">
                    <div class="linenodiv">
                        <pre>1
2</pre>
                    </div>
                </td>
                <td class="code">
                    <div class="highlight">
                        <pre class="hljs yaml"><span class="hljs-comment"># translations/messages.fr.yaml</span>
<span class="hljs-attr">Symfony is great:</span> <span class="hljs-string">J'aime</span> <span class="hljs-string">Symfony</span></pre>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
        </div>
            <div role="tabpanel" id="configuration-block-tabpanel-7dc40c12e03dadc619efaa18a0de77112d846d70" aria-label="XML" class="configuration-codeblock" data-language="xml" style="display: none">
            <div translate="no" class="highlight-xml notranslate">
    <table class="highlighttable">
        <tbody>
            <tr>
                <td class="linenos">
                    <div class="linenodiv">
                        <pre>1
2
3
4
5
6
7
8
9
10
11
12</pre>
                    </div>
                </td>
                <td class="code">
                    <div class="highlight">
                        <pre class="hljs xml"><span class="hljs-comment">&lt;!-- translations/messages.fr.xlf --&gt;</span>
<span class="hljs-meta">&lt;?xml version="1.0" encoding="UTF-8" ?&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">xliff</span> <span class="hljs-attr">version</span>=<span class="hljs-string">"1.2"</span> <span class="hljs-attr">xmlns</span>=<span class="hljs-string">"urn:oasis:names:tc:xliff:document:1.2"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">file</span> <span class="hljs-attr">source-language</span>=<span class="hljs-string">"en"</span> <span class="hljs-attr">datatype</span>=<span class="hljs-string">"plaintext"</span> <span class="hljs-attr">original</span>=<span class="hljs-string">"file.ext"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">trans-unit</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"symfony_is_great"</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">source</span>&gt;</span>Symfony is great<span class="hljs-tag">&lt;/<span class="hljs-name">source</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">target</span>&gt;</span>J'aime Symfony<span class="hljs-tag">&lt;/<span class="hljs-name">target</span>&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-name">trans-unit</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">file</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">xliff</span>&gt;</span></pre>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
        </div>
            <div role="tabpanel" id="configuration-block-tabpanel-2c25b0ed073ad9dbf9abea13950b1c122e29a987" aria-label="PHP" class="configuration-codeblock" data-language="php" style="display: none">
            <div translate="no" class="highlight-php notranslate">
    <table class="highlighttable">
        <tbody>
            <tr>
                <td class="linenos">
                    <div class="linenodiv">
                        <pre>1
2
3
4</pre>
                    </div>
                </td>
                <td class="code">
                    <div class="highlight">
                        <pre class="hljs php"><span class="hljs-comment">// translations/messages.fr.php</span>
<span class="hljs-keyword">return</span> [
    <span class="hljs-string">'Symfony is great'</span> =&gt; <span class="hljs-string">"J'aime Symfony"</span>,
];</pre>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
        </div>
    </div>
<p>For information on where these files should be located, see
<a href="translation.html#translation-resource-locations" class="reference internal">Translations</a>.</p>
<p>Now, if the language of the user's locale is French (e.g. <code translate="no" class="notranslate">fr_FR</code> or <code translate="no" class="notranslate">fr_BE</code>),
the message will be translated into <code translate="no" class="notranslate">J&#039;aime Symfony</code>. You can also translate
the message inside your <a href="translation.html#translation-in-templates" class="reference internal">templates</a>.</p>
<span id="translation-real-vs-keyword-messages"></span>
<div class="section">
<h3 id="using-real-or-keyword-messages">
    Using Real or Keyword Messages
    <a class="headerlink" href="#using-real-or-keyword-messages" title="Permalink to this headline">¶</a>
</h3>
<p>This example illustrates the two different philosophies when creating
messages to be translated:</p>
<div translate="no" class="highlight-php notranslate">
    <table class="highlighttable">
        <tbody>
            <tr>
                <td class="linenos">
                    <div class="linenodiv">
                        <pre>1
2
3</pre>
                    </div>
                </td>
                <td class="code">
                    <div class="highlight">
                        <pre class="hljs php"><span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>translator</span><span class="hljs-operator">-&gt;</span>trans(<span class="hljs-string">'Symfony is great'</span>);

<span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>translator</span><span class="hljs-operator">-&gt;</span>trans(<span class="hljs-string">'symfony.great'</span>);</pre>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
<p>In the first method, messages are written in the language of the default
locale (English in this case). That message is then used as the &quot;id&quot;
when creating translations.</p>
<p>In the second method, messages are actually &quot;keywords&quot; that convey the
idea of the message. The keyword message is then used as the &quot;id&quot; for
any translations. In this case, translations must be made for the default
locale (i.e. to translate <code translate="no" class="notranslate">symfony.great</code> to <code translate="no" class="notranslate">Symfony is great</code>).</p>
<p>The second method is handy because the message key won't need to be changed
in every translation file if you decide that the message should actually
read &quot;Symfony is really great&quot; in the default locale.</p>
<p>The choice of which method to use is entirely up to you, but the &quot;keyword&quot;
format is often recommended for multi-language applications, whereas for
shared bundles that contain translation resources we recommend the real
message, so your application can choose to disable the translator layer
and you will see a readable message.</p>
<p>Additionally, the <code translate="no" class="notranslate">php</code> and <code translate="no" class="notranslate">yaml</code> file formats support nested ids to
avoid repeating yourself if you use keywords instead of real text for your
ids:</p>
<div class="configuration-block">
    <div role="tablist" aria-label="Configuration formats" class="configuration-tabs configuration-tabs-length-2">
                    <button role="tab" type="button" data-language="yaml"
                aria-controls="configuration-block-tabpanel-f57a541522101c43df084384bb4e80769c739818" aria-selected="true"
                data-active="true" >
                <span>YAML</span>
            </button>
                    <button role="tab" type="button" data-language="php"
                aria-controls="configuration-block-tabpanel-64f493ea5a5d443dec23ad6bdf3cc003b72fcb00" aria-selected="false"
                 tabindex="-1">
                <span>PHP</span>
            </button>
            </div>

            <div role="tabpanel" id="configuration-block-tabpanel-f57a541522101c43df084384bb4e80769c739818" aria-label="YAML" class="configuration-codeblock" data-language="yaml" style="">
            <div translate="no" class="highlight-yaml notranslate">
    <table class="highlighttable">
        <tbody>
            <tr>
                <td class="linenos">
                    <div class="linenodiv">
                        <pre>1
2
3
4
5
6
7
8
9
10
11
12</pre>
                    </div>
                </td>
                <td class="code">
                    <div class="highlight">
                        <pre class="hljs yaml"><span class="hljs-attr">symfony:</span>
    <span class="hljs-attr">is:</span>
        <span class="hljs-comment"># id is symfony.is.great</span>
        <span class="hljs-attr">great:</span> <span class="hljs-string">Symfony</span> <span class="hljs-string">is</span> <span class="hljs-string">great</span>
        <span class="hljs-comment"># id is symfony.is.amazing</span>
        <span class="hljs-attr">amazing:</span> <span class="hljs-string">Symfony</span> <span class="hljs-string">is</span> <span class="hljs-string">amazing</span>
    <span class="hljs-attr">has:</span>
        <span class="hljs-comment"># id is symfony.has.bundles</span>
        <span class="hljs-attr">bundles:</span> <span class="hljs-string">Symfony</span> <span class="hljs-string">has</span> <span class="hljs-string">bundles</span>
<span class="hljs-attr">user:</span>
    <span class="hljs-comment"># id is user.login</span>
    <span class="hljs-attr">login:</span> <span class="hljs-string">Login</span></pre>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
        </div>
            <div role="tabpanel" id="configuration-block-tabpanel-64f493ea5a5d443dec23ad6bdf3cc003b72fcb00" aria-label="PHP" class="configuration-codeblock" data-language="php" style="display: none">
            <div translate="no" class="highlight-php notranslate">
    <table class="highlighttable">
        <tbody>
            <tr>
                <td class="linenos">
                    <div class="linenodiv">
                        <pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18</pre>
                    </div>
                </td>
                <td class="code">
                    <div class="highlight">
                        <pre class="hljs php">[
    <span class="hljs-string">'symfony'</span> =&gt; [
        <span class="hljs-string">'is'</span> =&gt; [
            <span class="hljs-comment">// id is symfony.is.great</span>
            <span class="hljs-string">'great'</span>   =&gt; <span class="hljs-string">'Symfony is great'</span>,
            <span class="hljs-comment">// id is symfony.is.amazing</span>
            <span class="hljs-string">'amazing'</span> =&gt; <span class="hljs-string">'Symfony is amazing'</span>,
        ],
        <span class="hljs-string">'has'</span> =&gt; [
            <span class="hljs-comment">// id is symfony.has.bundles</span>
            <span class="hljs-string">'bundles'</span> =&gt; <span class="hljs-string">'Symfony has bundles'</span>,
        ],
    ],
    <span class="hljs-string">'user'</span> =&gt; [
        <span class="hljs-comment">// id is user.login</span>
        <span class="hljs-string">'login'</span> =&gt; <span class="hljs-string">'Login'</span>,
    ],
];</pre>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
        </div>
    </div>
</div>
<div class="section">
<h3 id="the-translation-process">
    The Translation Process
    <a class="headerlink" href="#the-translation-process" title="Permalink to this headline">¶</a>
</h3>
<p>To actually translate the message, Symfony uses the following process when
using the <code translate="no" class="notranslate">trans()</code> method:</p>
<ol class="arabic">
    <li>The <code translate="no" class="notranslate">locale</code> of the current user, which is stored on the request is
determined; this is typically set via a <code translate="no" class="notranslate">_locale</code> attribute on your routes
(see <a href="translation.html#translation-locale-url" class="reference internal">Translations</a>);</li>
<li>A catalog of translated messages is loaded from translation resources
defined for the <code translate="no" class="notranslate">locale</code> (e.g. <code translate="no" class="notranslate">fr_FR</code>). Messages from the
<a href="translation.html#translation-fallback" class="reference internal">fallback locale</a> are also loaded and added to
the catalog if they don't already exist. The end result is a large
&quot;dictionary&quot; of translations.</li>
<li>If the message is located in the catalog, the translation is returned. If
not, the translator returns the original message.</li>
</ol>
<span id="message-placeholders"></span>
<span id="pluralization"></span>
</div>
</div>
<div class="section">
<h2 id="message-format">
    Message Format
    <a class="headerlink" href="#message-format" title="Permalink to this headline">¶</a>
</h2>
<p>Sometimes, a message containing a variable needs to be translated:</p>
<div translate="no" class="highlight-php notranslate">
    <table class="highlighttable">
        <tbody>
            <tr>
                <td class="linenos">
                    <div class="linenodiv">
                        <pre>1
2</pre>
                    </div>
                </td>
                <td class="code">
                    <div class="highlight">
                        <pre class="hljs php"><span class="hljs-comment">// ...</span>
<span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>translated</span> = <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>translator</span><span class="hljs-operator">-&gt;</span>trans(<span class="hljs-string">'Hello '</span>.<span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>name</span>);</pre>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
<p>However, creating a translation for this string is impossible since the
translator will try to look up the message including the variable portions
(e.g. <em>&quot;Hello Ryan&quot;</em> or <em>&quot;Hello Fabien&quot;</em>).</p>
<p>Another complication is when you have translations that may or may not be
plural, based on some variable:</p>
<div translate="no" class="highlight-text notranslate">
    <table class="highlighttable">
        <tbody>
            <tr>
                <td class="linenos">
                    <div class="linenodiv">
                        <pre>1
2</pre>
                    </div>
                </td>
                <td class="code">
                    <div class="highlight">
                        <pre class="hljs text">There is one apple.
There are 5 apples.</pre>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
<p>To manage these situations, Symfony follows the <a href="https://unicode-org.github.io/icu/userguide/format_parse/messages/" class="reference external" rel="external noopener noreferrer" target="_blank">ICU MessageFormat</a> syntax by
using PHP's <a href="https://secure.php.net/manual/en/class.messageformatter.php" class="reference external" title="MessageFormatter" rel="external noopener noreferrer" target="_blank">MessageFormatter</a> class. Read more about this in
<a href="reference/formats/message_format.html" class="reference internal">How to Translate Messages using the ICU MessageFormat</a>.</p>
<span id="translatable-objects"></span>
</div>
<div class="section">
<h2 id="translatable-objects">
    Translatable Objects
    <a class="headerlink" href="#translatable-objects" title="Permalink to this headline">¶</a>
</h2>
<p>Sometimes translating contents in templates is cumbersome because you need the
original message, the translation parameters and the translation domain for
each content. Making the translation in the controller or services simplifies
your templates, but requires injecting the translator service in different
parts of your application and mocking it in your tests.</p>
<p>Instead of translating a string at the time of creation, you can use a
&quot;translatable object&quot;, which is an instance of the
<a href="https://github.com/symfony/symfony/blob/5.4/src/Symfony/Component/Translation/TranslatableMessage.php" class="reference external" title="Symfony\Component\Translation\TranslatableMessage" rel="external noopener noreferrer" target="_blank">TranslatableMessage</a> class. This object stores
all the information needed to fully translate its contents when needed:</p>
<div translate="no" class="highlight-php notranslate">
    <table class="highlighttable">
        <tbody>
            <tr>
                <td class="linenos">
                    <div class="linenodiv">
                        <pre>1
2
3
4
5
6
7</pre>
                    </div>
                </td>
                <td class="code">
                    <div class="highlight">
                        <pre class="hljs php"><span class="hljs-keyword">use</span> <span class="hljs-title">Symfony</span>\<span class="hljs-title">Component</span>\<span class="hljs-title">Translation</span>\<span class="hljs-title">TranslatableMessage</span>;

<span class="hljs-comment">// the first argument is required and it's the original message</span>
<span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>message</span> = <span class="hljs-keyword">new</span> TranslatableMessage(<span class="hljs-string">'Symfony is great!'</span>);
<span class="hljs-comment">// the optional second argument defines the translation parameters and</span>
<span class="hljs-comment">// the optional third argument is the translation domain</span>
<span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>status</span> = <span class="hljs-keyword">new</span> TranslatableMessage(<span class="hljs-string">'order.status'</span>, [<span class="hljs-string">'%status%'</span> =&gt; <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>order</span><span class="hljs-operator">-&gt;</span>getStatus()], <span class="hljs-string">'store'</span>);</pre>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
<p>Templates are now much simpler because you can pass translatable objects to the
<code translate="no" class="notranslate">trans</code> filter:</p>
<div translate="no" class="highlight-html+twig highlight-twig notranslate">
    <table class="highlighttable">
        <tbody>
            <tr>
                <td class="linenos">
                    <div class="linenodiv">
                        <pre>1
2</pre>
                    </div>
                </td>
                <td class="code">
                    <div class="highlight">
                        <pre class="hljs html+twig twig"><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span></span><span class="hljs-template-variable">{{ message|trans }}</span><span class="xml"><span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span></span><span class="hljs-template-variable">{{ status|trans }}</span><span class="xml"><span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span></span></pre>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
<div class="admonition admonition-tip ">
    <p class="admonition-title">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" width="24" height="24" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z" /></svg>
                <span>Tip</span>
    </p><p>The translation parameters can also be a <a href="https://github.com/symfony/symfony/blob/5.4/src/Symfony/Component/Translation/TranslatableMessage.php" class="reference external" title="Symfony\Component\Translation\TranslatableMessage" rel="external noopener noreferrer" target="_blank">TranslatableMessage</a>.</p>
</div>
<div class="admonition admonition-tip ">
    <p class="admonition-title">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" width="24" height="24" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z" /></svg>
                <span>Tip</span>
    </p><p>There's also a <a href="reference/twig_reference.html#reference-twig-function-t" class="reference internal">function called t()</a>,
available both in Twig and PHP, as a shortcut to create translatable objects.</p>
</div>
<span id="translation-in-templates"></span>
</div>
<div class="section">
<h2 id="translations-in-templates">
    Translations in Templates
    <a class="headerlink" href="#translations-in-templates" title="Permalink to this headline">¶</a>
</h2>
<p>Most of the time, translation occurs in templates. Symfony provides native
support for both Twig and PHP templates.</p>
<span id="translation-filters"></span>
<div class="section">
<h3 id="using-twig-filters">
    Using Twig Filters
    <a class="headerlink" href="#using-twig-filters" title="Permalink to this headline">¶</a>
</h3>
<p>The <code translate="no" class="notranslate">trans</code> filter can be used to translate <em>variable texts</em> and complex expressions:</p>
<div translate="no" class="highlight-twig notranslate">
    <table class="highlighttable">
        <tbody>
            <tr>
                <td class="linenos">
                    <div class="linenodiv">
                        <pre>1
2
3</pre>
                    </div>
                </td>
                <td class="code">
                    <div class="highlight">
                        <pre class="hljs twig"><span class="hljs-template-variable">{{ message|trans }}</span><span class="xml">

</span><span class="hljs-template-variable">{{ message|trans({'%name%': 'Fabien'}, 'app') }}</span></pre>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
<div class="admonition admonition-tip ">
    <p class="admonition-title">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" width="24" height="24" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z" /></svg>
                <span>Tip</span>
    </p><p>You can set the translation domain for an entire Twig template with a single tag:</p>
<div translate="no" class="highlight-twig notranslate">
    <table class="highlighttable">
        <tbody>
            <tr>
                <td class="linenos">
                    <div class="linenodiv">
                        <pre>1</pre>
                    </div>
                </td>
                <td class="code">
                    <div class="highlight">
                        <pre class="hljs twig"><span class="hljs-template-tag">{% <span class="hljs-name">trans_default_domain</span> 'app' %}</span></pre>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
<p>Note that this only influences the current template, not any &quot;included&quot;
template (in order to avoid side effects).</p>
</div>
<p>By default, the translated messages are output escaped; apply the <code translate="no" class="notranslate">raw</code>
filter after the translation filter to avoid the automatic escaping:</p>
<div translate="no" class="highlight-html+twig highlight-twig notranslate">
    <table class="highlighttable">
        <tbody>
            <tr>
                <td class="linenos">
                    <div class="linenodiv">
                        <pre>1
2
3
4
5</pre>
                    </div>
                </td>
                <td class="code">
                    <div class="highlight">
                        <pre class="hljs html+twig twig"><span class="hljs-template-tag">{% <span class="hljs-name"><span class="hljs-keyword">set</span></span> message = '&lt;h3&gt;foo&lt;/h3&gt;' %}</span><span class="xml">

</span><span class="hljs-comment">{# strings and variables translated via a filter are escaped by default #}</span><span class="xml">
</span><span class="hljs-template-variable">{{ message|trans|<span class="hljs-keyword">raw</span> }}</span><span class="xml">
</span><span class="hljs-template-variable">{{ '&lt;h3&gt;bar&lt;/h3&gt;'|trans|<span class="hljs-keyword">raw</span> }}</span></pre>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
<span id="translation-tags"></span>
</div>
<div class="section">
<h3 id="using-twig-tags">
    Using Twig Tags
    <a class="headerlink" href="#using-twig-tags" title="Permalink to this headline">¶</a>
</h3>
<p>Symfony provides a specialized Twig tag <code translate="no" class="notranslate">trans</code> to help with message
translation of <em>static blocks of text</em>:</p>
<div translate="no" class="highlight-twig notranslate">
    <table class="highlighttable">
        <tbody>
            <tr>
                <td class="linenos">
                    <div class="linenodiv">
                        <pre>1</pre>
                    </div>
                </td>
                <td class="code">
                    <div class="highlight">
                        <pre class="hljs twig"><span class="hljs-template-tag">{% <span class="hljs-name">trans</span> %}</span><span class="xml">Hello %name%</span><span class="hljs-template-tag">{% <span class="hljs-name">endtrans</span> %}</span></pre>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
<div class="admonition admonition-caution ">
    <p class="admonition-title">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" width="24" height="24" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" /></svg>
                <span>Caution</span>
    </p><p>The <code translate="no" class="notranslate">%var%</code> notation of placeholders is required when translating in
Twig templates using the tag.</p>
</div>
<div class="admonition admonition-tip ">
    <p class="admonition-title">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" width="24" height="24" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z" /></svg>
                <span>Tip</span>
    </p><p>If you need to use the percent character (<code translate="no" class="notranslate">%</code>) in a string, escape it by
doubling it: <code translate="no" class="notranslate">{% trans %}Percent: %percent%%%{% endtrans %}</code></p>
</div>
<p>You can also specify the message domain and pass some additional variables:</p>
<div translate="no" class="highlight-twig notranslate">
    <table class="highlighttable">
        <tbody>
            <tr>
                <td class="linenos">
                    <div class="linenodiv">
                        <pre>1
2
3</pre>
                    </div>
                </td>
                <td class="code">
                    <div class="highlight">
                        <pre class="hljs twig"><span class="hljs-template-tag">{% <span class="hljs-name">trans</span> with {'%name%': 'Fabien'} from 'app' %}</span><span class="xml">Hello %name%</span><span class="hljs-template-tag">{% <span class="hljs-name">endtrans</span> %}</span><span class="xml">

</span><span class="hljs-template-tag">{% <span class="hljs-name">trans</span> with {'%name%': 'Fabien'} from 'app' into 'fr' %}</span><span class="xml">Hello %name%</span><span class="hljs-template-tag">{% <span class="hljs-name">endtrans</span> %}</span></pre>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
<div class="admonition admonition-caution ">
    <p class="admonition-title">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" width="24" height="24" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" /></svg>
                <span>Caution</span>
    </p><p>Using the translation tag has the same effect as the filter, but with one
major difference: automatic output escaping is <strong>not</strong> applied to translations
using a tag.</p>
</div>
</div>
</div>
<div class="section">
<h2 id="forcing-the-translator-locale">
    Forcing the Translator Locale
    <a class="headerlink" href="#forcing-the-translator-locale" title="Permalink to this headline">¶</a>
</h2>
<p>When translating a message, the translator uses the specified locale or the
<code translate="no" class="notranslate">fallback</code> locale if necessary. You can also manually specify the locale to
use for translation:</p>
<div translate="no" class="highlight-php notranslate">
    <table class="highlighttable">
        <tbody>
            <tr>
                <td class="linenos">
                    <div class="linenodiv">
                        <pre>1</pre>
                    </div>
                </td>
                <td class="code">
                    <div class="highlight">
                        <pre class="hljs php"><span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>translator</span><span class="hljs-operator">-&gt;</span>trans(<span class="hljs-string">'Symfony is great'</span>, locale: <span class="hljs-string">'fr_FR'</span>);</pre>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
</div>
<div class="section">
<h2 id="extracting-translation-contents-and-updating-catalogs-automatically">
    Extracting Translation Contents and Updating Catalogs Automatically
    <a class="headerlink" href="#extracting-translation-contents-and-updating-catalogs-automatically" title="Permalink to this headline">¶</a>
</h2>
<p>The most time-consuming task when translating an application is to extract all
the template contents to be translated and to keep all the translation files in
sync. Symfony includes a command called <code translate="no" class="notranslate">translation:extract</code> that helps you
with these tasks:</p>
<div translate="no" class="highlight-terminal highlight-bash notranslate">
    <table class="highlighttable">
        <tbody>
            <tr>
                <td class="linenos">
                    <div class="linenodiv">
                        <pre>1
2
3
4
5
6
7
8</pre>
                    </div>
                </td>
                <td class="code">
                    <div class="highlight">
                        <pre class="hljs terminal bash"><span class="hljs-comment"># shows all the messages that should be translated for the French language</span>
<span class="hljs-prompt">$ </span>php bin/console translation:extract --dump-messages fr

<span class="hljs-comment"># updates the French translation files with the missing strings for that locale</span>
<span class="hljs-prompt">$ </span>php bin/console translation:extract --force fr

<span class="hljs-comment"># check out the command help to see its options (prefix, output format, domain, sorting, etc.)</span>
<span class="hljs-prompt">$ </span>php bin/console translation:extract --<span class="hljs-built_in">help</span></pre>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
<p>The <code translate="no" class="notranslate">translation:extract</code> command looks for missing translations in:</p>
<ul>
    <li>Templates stored in the <code translate="no" class="notranslate">templates/</code> directory (or any other directory
defined in the <a href="reference/configuration/twig.html#config-twig-default-path" class="reference internal">twig.default_path</a> and
<a href="reference/configuration/twig.html#config-twig-paths" class="reference internal">twig.paths</a> config options);</li>
<li>Any PHP file/class that injects or <a href="service_container/autowiring.html" class="reference internal">autowires</a>
the <code translate="no" class="notranslate">translator</code> service and makes calls to the <code translate="no" class="notranslate">trans()</code> method.</li>
<li>Any PHP file/class stored in the <code translate="no" class="notranslate">src/</code> directory that creates
<a href="translation.html#translatable-objects" class="reference internal">Translations</a> using the constructor or the <code translate="no" class="notranslate">t()</code> method or calls
the <code translate="no" class="notranslate">trans()</code> method.</li>
<li>Any PHP file/class stored in the <code translate="no" class="notranslate">src/</code> directory that uses
<a href="validation.html#validation-constraints" class="reference internal">Constraints Attributes</a>  with <code translate="no" class="notranslate">*message</code> named argument(s).</li>
</ul>
<div class="admonition admonition-versionadded ">
    <p class="admonition-title">
                                    <span>6.2</span>
    </p><p>The support of PHP files/classes that use constraint attributes was
introduced in Symfony 6.2.</p>
</div>
<span id="translation-resource-locations"></span>
</div>
<div class="section">
<h2 id="translation-resource-file-names-and-locations">
    Translation Resource/File Names and Locations
    <a class="headerlink" href="#translation-resource-file-names-and-locations" title="Permalink to this headline">¶</a>
</h2>
<p>Symfony looks for message files (i.e. translations) in the following default locations:</p>
<ul>
    <li>the <code translate="no" class="notranslate">translations/</code> directory (at the root of the project);</li>
<li>the <code translate="no" class="notranslate">translations/</code> directory inside of any bundle (and also their
<code translate="no" class="notranslate">Resources/translations/</code> directory, which is no longer recommended for bundles).</li>
</ul>
<p>The locations are listed here with the highest priority first. That is, you can
override the translation messages of a bundle in the first directory.</p>
<p>The override mechanism works at a key level: only the overridden keys need
to be listed in a higher priority message file. When a key is not found
in a message file, the translator will automatically fall back to the lower
priority message files.</p>
<p>The filename of the translation files is also important: each message file
must be named according to the following path: <code translate="no" class="notranslate">domain.locale.loader</code>:</p>
<ul>
    <li><strong>domain</strong>: The translation domain;</li>
<li><strong>locale</strong>: The locale that the translations are for (e.g. <code translate="no" class="notranslate">en_GB</code>, <code translate="no" class="notranslate">en</code>, etc);</li>
<li><strong>loader</strong>: How Symfony should load and parse the file (e.g. <code translate="no" class="notranslate">xlf</code>,
<code translate="no" class="notranslate">php</code>, <code translate="no" class="notranslate">yaml</code>, etc).</li>
</ul>
<p>The loader can be the name of any registered loader. By default, Symfony
provides many loaders which are selected based on the following file extensions:</p>
<ul>
    <li><code translate="no" class="notranslate">.yaml</code>: YAML file (you can also use the <code translate="no" class="notranslate">.yml</code> file extension);</li>
<li><code translate="no" class="notranslate">.xlf</code>: XLIFF file (you can also use the <code translate="no" class="notranslate">.xliff</code> file extension);</li>
<li><code translate="no" class="notranslate">.php</code>: a PHP file that returns an array with the translations;</li>
<li><code translate="no" class="notranslate">.csv</code>: CSV file;</li>
<li><code translate="no" class="notranslate">.json</code>: JSON file;</li>
<li><code translate="no" class="notranslate">.ini</code>: INI file;</li>
<li><code translate="no" class="notranslate">.dat</code>, <code translate="no" class="notranslate">.res</code>: <a href="https://github.com/unicode-org/icu-docs/blob/main/design/bnf_rb.txt" class="reference external" rel="external noopener noreferrer" target="_blank">ICU resource bundle</a>;</li>
<li><code translate="no" class="notranslate">.mo</code>: <a href="https://www.gnu.org/software/gettext/manual/html_node/MO-Files.html" class="reference external" rel="external noopener noreferrer" target="_blank">Machine object format</a>;</li>
<li><code translate="no" class="notranslate">.po</code>: <a href="https://www.gnu.org/software/gettext/manual/html_node/PO-Files.html" class="reference external" rel="external noopener noreferrer" target="_blank">Portable object format</a>;</li>
<li><code translate="no" class="notranslate">.qt</code>: <a href="https://doc.qt.io/qt-5/linguist-ts-file-format.html" class="reference external" rel="external noopener noreferrer" target="_blank">QT Translations TS XML</a> file;</li>
</ul>
<div class="admonition admonition-versionadded ">
    <p class="admonition-title">
                                    <span>6.1</span>
    </p><p>The <code translate="no" class="notranslate">.xliff</code> file extension support was introduced in Symfony 6.1.</p>
</div>
<p>The choice of which loader to use is entirely up to you and is a matter of
taste. The recommended option is to use YAML for simple projects and use XLIFF
if you're generating translations with specialized programs or teams.</p>
<div class="admonition admonition-caution ">
    <p class="admonition-title">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" width="24" height="24" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" /></svg>
                <span>Caution</span>
    </p><p>Each time you create a <em>new</em> message catalog (or install a bundle
that includes a translation catalog), be sure to clear your cache so
that Symfony can discover the new translation resources:</p>
<div translate="no" class="highlight-terminal highlight-bash notranslate">
    <table class="highlighttable">
        <tbody>
            <tr>
                <td class="linenos">
                    <div class="linenodiv">
                        <pre>1</pre>
                    </div>
                </td>
                <td class="code">
                    <div class="highlight">
                        <pre class="hljs terminal bash"><span class="hljs-prompt">$ </span>php bin/console cache:clear</pre>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
</div>
<div class="admonition admonition-note ">
    <p class="admonition-title">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" width="24" height="24" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z" /></svg>
                <span>Note</span>
    </p><p>You can add other directories with the <a href="reference/configuration/framework.html#reference-translator-paths" class="reference internal">paths</a>
option in the configuration:</p>
<div class="configuration-block">
    <div role="tablist" aria-label="Configuration formats" class="configuration-tabs configuration-tabs-length-3">
                    <button role="tab" type="button" data-language="yaml"
                aria-controls="configuration-block-tabpanel-46877ff26c466b877f10dc668f93ae339c3dd223" aria-selected="true"
                data-active="true" >
                <span>YAML</span>
            </button>
                    <button role="tab" type="button" data-language="xml"
                aria-controls="configuration-block-tabpanel-b87cce2f14016eae5436b21627771c48e60a8028" aria-selected="false"
                 tabindex="-1">
                <span>XML</span>
            </button>
                    <button role="tab" type="button" data-language="php"
                aria-controls="configuration-block-tabpanel-f65a9b71d516ac266c4f6233e37515b1b85d6225" aria-selected="false"
                 tabindex="-1">
                <span>PHP</span>
            </button>
            </div>

            <div role="tabpanel" id="configuration-block-tabpanel-46877ff26c466b877f10dc668f93ae339c3dd223" aria-label="YAML" class="configuration-codeblock" data-language="yaml" style="">
            <div translate="no" class="highlight-yaml notranslate">
    <table class="highlighttable">
        <tbody>
            <tr>
                <td class="linenos">
                    <div class="linenodiv">
                        <pre>1
2
3
4
5</pre>
                    </div>
                </td>
                <td class="code">
                    <div class="highlight">
                        <pre class="hljs yaml"><span class="hljs-comment"># config/packages/translation.yaml</span>
<span class="hljs-attr">framework:</span>
    <span class="hljs-attr">translator:</span>
        <span class="hljs-attr">paths:</span>
            <span class="hljs-bullet">-</span> <span class="hljs-string">'%kernel.project_dir%/custom/path/to/translations'</span></pre>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
        </div>
            <div role="tabpanel" id="configuration-block-tabpanel-b87cce2f14016eae5436b21627771c48e60a8028" aria-label="XML" class="configuration-codeblock" data-language="xml" style="display: none">
            <div translate="no" class="highlight-xml notranslate">
    <table class="highlighttable">
        <tbody>
            <tr>
                <td class="linenos">
                    <div class="linenodiv">
                        <pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16</pre>
                    </div>
                </td>
                <td class="code">
                    <div class="highlight">
                        <pre class="hljs xml"><span class="hljs-comment">&lt;!-- config/packages/translation.xml --&gt;</span>
<span class="hljs-meta">&lt;?xml version="1.0" encoding="UTF-8" ?&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">container</span> <span class="hljs-attr">xmlns</span>=<span class="hljs-string">"http://symfony.com/schema/dic/services"</span>
    <span class="hljs-attr">xmlns:framework</span>=<span class="hljs-string">"http://symfony.com/schema/dic/symfony"</span>
    <span class="hljs-attr">xmlns:xsi</span>=<span class="hljs-string">"http://www.w3.org/2001/XMLSchema-Instance"</span>
    <span class="hljs-attr">xsi:schemaLocation</span>=<span class="hljs-string">"http://symfony.com/schema/dic/services
        https://symfony.com/schema/dic/services/services-1.0.xsd
        http://symfony.com/schema/dic/symfony
        https://symfony.com/schema/dic/symfony/symfony-1.0.xsd"</span>&gt;</span>

    <span class="hljs-tag">&lt;<span class="hljs-name">framework:config</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">framework:translator</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">framework:path</span>&gt;</span>%kernel.project_dir%/custom/path/to/translations<span class="hljs-tag">&lt;/<span class="hljs-name">framework:path</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">framework:translator</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">framework:config</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">container</span>&gt;</span></pre>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
        </div>
            <div role="tabpanel" id="configuration-block-tabpanel-f65a9b71d516ac266c4f6233e37515b1b85d6225" aria-label="PHP" class="configuration-codeblock" data-language="php" style="display: none">
            <div translate="no" class="highlight-php notranslate">
    <table class="highlighttable">
        <tbody>
            <tr>
                <td class="linenos">
                    <div class="linenodiv">
                        <pre>1
2
3
4
5
6
7
8</pre>
                    </div>
                </td>
                <td class="code">
                    <div class="highlight">
                        <pre class="hljs php"><span class="hljs-comment">// config/packages/translation.php</span>
<span class="hljs-keyword">use</span> <span class="hljs-title">Symfony</span>\<span class="hljs-title">Config</span>\<span class="hljs-title">FrameworkConfig</span>;

<span class="hljs-keyword">return</span> <span class="hljs-keyword">static</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(FrameworkConfig <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>framework</span>)</span> </span>{
    <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>framework</span><span class="hljs-operator">-&gt;</span>translator()
        <span class="hljs-operator">-&gt;</span>paths([<span class="hljs-string">'%kernel.project_dir%/custom/path/to/translations'</span>])
    ;
};</pre>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
        </div>
    </div>
</div>
<div class="admonition admonition-note ">
    <p class="admonition-title">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" width="24" height="24" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z" /></svg>
                <span>Note</span>
    </p><p>You can also store translations in a database; it can be handled by
Doctrine through the <a href="https://github.com/doctrine-extensions/DoctrineExtensions/blob/main/doc/translatable.md" class="reference external" rel="external noopener noreferrer" target="_blank">Translatable Extension</a> or the <a href="https://github.com/KnpLabs/DoctrineBehaviors" class="reference external" rel="external noopener noreferrer" target="_blank">Translatable Behavior</a>
(PHP 5.4+). For more information, see the documentation for these libraries.</p>
<p>For any other storage, you need to provide a custom class implementing the
<a href="https://github.com/symfony/symfony/blob/5.4/src/Symfony/Component/Translation/Loader/LoaderInterface.php" class="reference external" title="Symfony\Component\Translation\Loader\LoaderInterface" rel="external noopener noreferrer" target="_blank">LoaderInterface</a>
interface. See the <a href="reference/dic_tags.html#dic-tags-translation-loader" class="reference internal">Built-in Symfony Service Tags</a> tag for more
information.</p>
</div>
<span id="translation-providers"></span>
</div>
<div class="section">
<h2 id="translation-providers">
    Translation Providers
    <a class="headerlink" href="#translation-providers" title="Permalink to this headline">¶</a>
</h2>
<p>When using external translators to translate your application, you must send
them the new contents to translate frequently and merge the results back in the
application.</p>
<p>Instead of doing this manually, Symfony provides integration with several
third-party translation services. You can upload and download (called &quot;push&quot;
and &quot;pull&quot;) translations to/from these services and merge the results
automatically in the application.</p>
<div class="section">
<h3 id="installing-and-configuring-a-third-party-provider">
    Installing and Configuring a Third Party Provider
    <a class="headerlink" href="#installing-and-configuring-a-third-party-provider" title="Permalink to this headline">¶</a>
</h3>
<p>Before pushing/pulling translations to a third-party provider, you must install
the package that provides integration with that provider:</p>
<div class="table-wrapper">
<table>
            <thead>
                            <tr>
                                            <th>Provider</th>
                                            <th>Install with</th>
                                    </tr>
                    </thead>
        <tbody>
                    <tr>
                                    <td>Crowdin</td>
                                    <td><code translate="no" class="notranslate">composer require symfony/crowdin-translation-provider</code></td>
                            </tr>
                    <tr>
                                    <td>Loco (localise.biz)</td>
                                    <td><code translate="no" class="notranslate">composer require symfony/loco-translation-provider</code></td>
                            </tr>
                    <tr>
                                    <td>Lokalise</td>
                                    <td><code translate="no" class="notranslate">composer require symfony/lokalise-translation-provider</code></td>
                            </tr>
            </tbody>
</table>
</div>
<p>Each library includes a <a href="setup.html#symfony-flex" class="reference internal">Symfony Flex recipe</a> that will add
a configuration example to your <code translate="no" class="notranslate">.env</code> file. For example, suppose you want to
use Loco. First, install it:</p>
<div translate="no" class="highlight-terminal highlight-bash notranslate">
    <table class="highlighttable">
        <tbody>
            <tr>
                <td class="linenos">
                    <div class="linenodiv">
                        <pre>1</pre>
                    </div>
                </td>
                <td class="code">
                    <div class="highlight">
                        <pre class="hljs terminal bash"><span class="hljs-prompt">$ </span>composer require symfony/loco-translation-provider</pre>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
<p>You'll now have a new line in your <code translate="no" class="notranslate">.env</code> file that you can uncomment:</p>
<div translate="no" class="highlight-env highlight-bash notranslate">
    <table class="highlighttable">
        <tbody>
            <tr>
                <td class="linenos">
                    <div class="linenodiv">
                        <pre>1
2</pre>
                    </div>
                </td>
                <td class="code">
                    <div class="highlight">
                        <pre class="hljs env bash"><span class="hljs-comment"># .env</span>
LOCO_DSN=loco://API_KEY@default</pre>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
<p>The <code translate="no" class="notranslate">LOCO_DSN</code> isn't a <em>real</em> address: it's a convenient format that offloads
most of the configuration work to Symfony. The <code translate="no" class="notranslate">loco</code> scheme activates the
Loco provider that you just installed, which knows all about how to push and
pull translations via Loco. The <em>only</em> part you need to change is the
<code translate="no" class="notranslate">API_KEY</code> placeholder.</p>
<p>This table shows the full list of available DSN formats for each provider:</p>
<div class="table-wrapper">
<table>
            <thead>
                            <tr>
                                            <th>Provider</th>
                                            <th>DSN</th>
                                    </tr>
                    </thead>
        <tbody>
                    <tr>
                                    <td>Crowdin</td>
                                    <td><a href="crowdin://PROJECT_ID:API_TOKEN@ORGANIZATION_DOMAIN.default" class="reference external">crowdin://PROJECT_ID:API_TOKEN@ORGANIZATION_DOMAIN.default</a></td>
                            </tr>
                    <tr>
                                    <td>Loco (localise.biz)</td>
                                    <td><a href="loco://API_KEY@default" class="reference external">loco://API_KEY@default</a></td>
                            </tr>
                    <tr>
                                    <td>Lokalise</td>
                                    <td><a href="lokalise://PROJECT_ID:API_KEY@default" class="reference external">lokalise://PROJECT_ID:API_KEY@default</a></td>
                            </tr>
            </tbody>
</table>
</div>
<p>To enable a translation provider, customize the DSN in your <code translate="no" class="notranslate">.env</code> file and
configure the <code translate="no" class="notranslate">providers</code> option:</p>
<div class="configuration-block">
    <div role="tablist" aria-label="Configuration formats" class="configuration-tabs configuration-tabs-length-3">
                    <button role="tab" type="button" data-language="yaml"
                aria-controls="configuration-block-tabpanel-6f88f617cf9b5f3e5382ff6c993da7a07e2b1ee1" aria-selected="true"
                data-active="true" >
                <span>YAML</span>
            </button>
                    <button role="tab" type="button" data-language="xml"
                aria-controls="configuration-block-tabpanel-8896acbc0932c71560e5cefe797843f50d1704b4" aria-selected="false"
                 tabindex="-1">
                <span>XML</span>
            </button>
                    <button role="tab" type="button" data-language="php"
                aria-controls="configuration-block-tabpanel-043b3d610dbb4e001c922e2079a52d21c7a780f5" aria-selected="false"
                 tabindex="-1">
                <span>PHP</span>
            </button>
            </div>

            <div role="tabpanel" id="configuration-block-tabpanel-6f88f617cf9b5f3e5382ff6c993da7a07e2b1ee1" aria-label="YAML" class="configuration-codeblock" data-language="yaml" style="">
            <div translate="no" class="highlight-yaml notranslate">
    <table class="highlighttable">
        <tbody>
            <tr>
                <td class="linenos">
                    <div class="linenodiv">
                        <pre>1
2
3
4
5
6
7
8</pre>
                    </div>
                </td>
                <td class="code">
                    <div class="highlight">
                        <pre class="hljs yaml"><span class="hljs-comment"># config/packages/translation.yaml</span>
<span class="hljs-attr">framework:</span>
    <span class="hljs-attr">translator:</span>
        <span class="hljs-attr">providers:</span>
            <span class="hljs-attr">loco:</span>
                <span class="hljs-attr">dsn:</span> <span class="hljs-string">'%env(LOCO_DSN)%'</span>
                <span class="hljs-attr">domains:</span> <span class="hljs-string">['messages']</span>
                <span class="hljs-attr">locales:</span> <span class="hljs-string">['en',</span> <span class="hljs-string">'fr'</span><span class="hljs-string">]</span></pre>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
        </div>
            <div role="tabpanel" id="configuration-block-tabpanel-8896acbc0932c71560e5cefe797843f50d1704b4" aria-label="XML" class="configuration-codeblock" data-language="xml" style="display: none">
            <div translate="no" class="highlight-xml notranslate">
    <table class="highlighttable">
        <tbody>
            <tr>
                <td class="linenos">
                    <div class="linenodiv">
                        <pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22</pre>
                    </div>
                </td>
                <td class="code">
                    <div class="highlight">
                        <pre class="hljs xml"><span class="hljs-comment">&lt;!-- config/packages/translation.xml --&gt;</span>
<span class="hljs-meta">&lt;?xml version="1.0" encoding="UTF-8" ?&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">container</span> <span class="hljs-attr">xmlns</span>=<span class="hljs-string">"http://symfony.com/schema/dic/services"</span>
    <span class="hljs-attr">xmlns:xsi</span>=<span class="hljs-string">"http://www.w3.org/2001/XMLSchema-instance"</span>
    <span class="hljs-attr">xmlns:framework</span>=<span class="hljs-string">"http://symfony.com/schema/dic/symfony"</span>
    <span class="hljs-attr">xsi:schemaLocation</span>=<span class="hljs-string">"http://symfony.com/schema/dic/services
        https://symfony.com/schema/dic/services/services-1.0.xsd
        http://symfony.com/schema/dic/symfony
        https://symfony.com/schema/dic/symfony/symfony-1.0.xsd"</span>&gt;</span>

    <span class="hljs-tag">&lt;<span class="hljs-name">framework:config</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">framework:translator</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">framework:provider</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"loco"</span> <span class="hljs-attr">dsn</span>=<span class="hljs-string">"%env(LOCO_DSN)%"</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">framework:domain</span>&gt;</span>messages<span class="hljs-tag">&lt;/<span class="hljs-name">framework:domain</span>&gt;</span>
                <span class="hljs-comment">&lt;!-- ... --&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">framework:locale</span>&gt;</span>en<span class="hljs-tag">&lt;/<span class="hljs-name">framework:locale</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">framework:locale</span>&gt;</span>fr<span class="hljs-tag">&lt;/<span class="hljs-name">framework:locale</span>&gt;</span>
                <span class="hljs-comment">&lt;!-- ... --&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-name">framework:provider</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">framework:translator</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">framework:config</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">container</span>&gt;</span></pre>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
        </div>
            <div role="tabpanel" id="configuration-block-tabpanel-043b3d610dbb4e001c922e2079a52d21c7a780f5" aria-label="PHP" class="configuration-codeblock" data-language="php" style="display: none">
            <div translate="no" class="highlight-php notranslate">
    <table class="highlighttable">
        <tbody>
            <tr>
                <td class="linenos">
                    <div class="linenodiv">
                        <pre>1
2
3
4
5
6
7
8
9
10
11
12</pre>
                    </div>
                </td>
                <td class="code">
                    <div class="highlight">
                        <pre class="hljs php"><span class="hljs-comment"># config/packages/translation.php</span>
<span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>container</span><span class="hljs-operator">-&gt;</span>loadFromExtension(<span class="hljs-string">'framework'</span>, [
    <span class="hljs-string">'translator'</span> =&gt; [
        <span class="hljs-string">'providers'</span> =&gt; [
            <span class="hljs-string">'loco'</span> =&gt; [
                <span class="hljs-string">'dsn'</span> =&gt; env(<span class="hljs-string">'LOCO_DSN'</span>),
                <span class="hljs-string">'domains'</span> =&gt; [<span class="hljs-string">'messages'</span>],
                <span class="hljs-string">'locales'</span> =&gt; [<span class="hljs-string">'en'</span>, <span class="hljs-string">'fr'</span>],
            ],
        ],
    ],
]);</pre>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
        </div>
    </div>
<div class="admonition admonition-tip ">
    <p class="admonition-title">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" width="24" height="24" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z" /></svg>
                <span>Tip</span>
    </p><p>If you use Lokalise as a provider and a locale format following the <a href="https://en.wikipedia.org/wiki/List_of_ISO_639-1_codes" class="reference external" rel="external noopener noreferrer" target="_blank">ISO 639-1</a> (e.g. &quot;en&quot; or &quot;fr&quot;), you have to set the <a href="https://docs.lokalise.com/en/articles/1400492-uploading-files#custom-language-codes" class="reference external" rel="external noopener noreferrer" target="_blank">Custom Language Name setting</a>
in Lokalise for each of your locales, in order to override the
default value (which follow the <a href="https://en.wikipedia.org/wiki/List_of_ISO_639-1_codes" class="reference external" rel="external noopener noreferrer" target="_blank">ISO 639-1</a> succeeded by a sub-code in
capital letters that specifies the national variety (e.g. &quot;GB&quot; or &quot;US&quot;
according to <a href="https://en.wikipedia.org/wiki/ISO_3166-1#Current_codes" class="reference external" rel="external noopener noreferrer" target="_blank">ISO 3166-1 alpha-2</a>)).</p>
</div>
</div>
<div class="section">
<h3 id="pushing-and-pulling-translations">
    Pushing and Pulling Translations
    <a class="headerlink" href="#pushing-and-pulling-translations" title="Permalink to this headline">¶</a>
</h3>
<p>After configuring the credentials to access the translation provider, you can
now use the following commands to push (upload) and pull (download) translations:</p>
<div translate="no" class="highlight-terminal highlight-bash notranslate">
    <table class="highlighttable">
        <tbody>
            <tr>
                <td class="linenos">
                    <div class="linenodiv">
                        <pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17</pre>
                    </div>
                </td>
                <td class="code">
                    <div class="highlight">
                        <pre class="hljs terminal bash"><span class="hljs-comment"># push all local translations to the Loco provider for the locales and domains</span>
<span class="hljs-comment"># configured in config/packages/translation.yaml file.</span>
<span class="hljs-comment"># it will update existing translations already on the provider.</span>
<span class="hljs-prompt">$ </span>php bin/console translation:push loco --force

<span class="hljs-comment"># push new local translations to the Loco provider for the French locale</span>
<span class="hljs-comment"># and the validators domain.</span>
<span class="hljs-comment"># it will **not** update existing translations already on the provider.</span>
<span class="hljs-prompt">$ </span>php bin/console translation:push loco --locales fr --domains validators

<span class="hljs-comment"># push new local translations and delete provider's translations that not</span>
<span class="hljs-comment"># exists anymore in local files for the French locale and the validators domain.</span>
<span class="hljs-comment"># it will **not** update existing translations already on the provider.</span>
<span class="hljs-prompt">$ </span>php bin/console translation:push loco --delete-missing --locales fr --domains validators

<span class="hljs-comment"># check out the command help to see its options (format, domains, locales, etc.)</span>
<span class="hljs-prompt">$ </span>php bin/console translation:push --<span class="hljs-built_in">help</span></pre>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
<div translate="no" class="highlight-terminal highlight-bash notranslate">
    <table class="highlighttable">
        <tbody>
            <tr>
                <td class="linenos">
                    <div class="linenodiv">
                        <pre>1
2
3
4
5
6
7
8
9
10
11
12</pre>
                    </div>
                </td>
                <td class="code">
                    <div class="highlight">
                        <pre class="hljs terminal bash"><span class="hljs-comment"># pull all provider's translations to local files for the locales and domains</span>
<span class="hljs-comment"># configured in config/packages/translation.yaml file.</span>
<span class="hljs-comment"># it will overwrite completely your local files.</span>
<span class="hljs-prompt">$ </span>php bin/console translation:pull loco --force

<span class="hljs-comment"># pull new translations from the Loco provider to local files for the French</span>
<span class="hljs-comment"># locale and the validators domain.</span>
<span class="hljs-comment"># it will **not** overwrite your local files, only add new translations.</span>
<span class="hljs-prompt">$ </span>php bin/console translation:pull loco --locales fr --domains validators

<span class="hljs-comment"># check out the command help to see its options (format, domains, locales, intl-icu, etc.)</span>
<span class="hljs-prompt">$ </span>php bin/console translation:pull --<span class="hljs-built_in">help</span></pre>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
<span id="translation-locale"></span>
</div>
</div>
<div class="section">
<h2 id="handling-the-user-s-locale">
    Handling the User's Locale
    <a class="headerlink" href="#handling-the-user-s-locale" title="Permalink to this headline">¶</a>
</h2>
<p>Translating happens based on the user's locale. The locale of the current user
is stored in the request and is accessible via the <code translate="no" class="notranslate">Request</code> object:</p>
<div translate="no" class="highlight-php notranslate">
    <table class="highlighttable">
        <tbody>
            <tr>
                <td class="linenos">
                    <div class="linenodiv">
                        <pre>1
2
3
4
5
6</pre>
                    </div>
                </td>
                <td class="code">
                    <div class="highlight">
                        <pre class="hljs php"><span class="hljs-keyword">use</span> <span class="hljs-title">Symfony</span>\<span class="hljs-title">Component</span>\<span class="hljs-title">HttpFoundation</span>\<span class="hljs-title">Request</span>;

<span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">index</span><span class="hljs-params">(Request <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>request</span>)</span>
</span>{
    <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>locale</span> = <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>request</span><span class="hljs-operator">-&gt;</span>getLocale();
}</pre>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
<p>To set the user's locale, you may want to create a custom event listener so
that it's set before any other parts of the system (i.e. the translator) need
it:</p>
<div translate="no" class="highlight-php notranslate">
    <table class="highlighttable">
        <tbody>
            <tr>
                <td class="linenos">
                    <div class="linenodiv">
                        <pre>1
2
3
4
5
6
7</pre>
                    </div>
                </td>
                <td class="code">
                    <div class="highlight">
                        <pre class="hljs php"><span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">onKernelRequest</span><span class="hljs-params">(RequestEvent <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>event</span>)</span>
</span>{
    <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>request</span> = <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>event</span><span class="hljs-operator">-&gt;</span>getRequest();

    <span class="hljs-comment">// some logic to determine the $locale</span>
    <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>request</span><span class="hljs-operator">-&gt;</span>setLocale(<span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>locale</span>);
}</pre>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
<div class="admonition admonition-note ">
    <p class="admonition-title">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" width="24" height="24" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z" /></svg>
                <span>Note</span>
    </p><p>The custom listener must be called <strong>before</strong> <code translate="no" class="notranslate">LocaleListener</code>, which
initializes the locale based on the current request. To do so, set your
listener priority to a higher value than <code translate="no" class="notranslate">LocaleListener</code> priority (which
you can obtain by running the <code translate="no" class="notranslate">debug:event kernel.request</code> command).</p>
</div>
<p>Read <a href="session.html#locale-sticky-session" class="reference internal">Sessions</a> for more information on making the user's
locale &quot;sticky&quot; to their session.</p>
<div class="admonition admonition-note ">
    <p class="admonition-title">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" width="24" height="24" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z" /></svg>
                <span>Note</span>
    </p><p>Setting the locale using <code translate="no" class="notranslate">$request-&gt;setLocale()</code> in the controller is
too late to affect the translator. Either set the locale via a listener
(like above), the URL (see next) or call <code translate="no" class="notranslate">setLocale()</code> directly on the
<code translate="no" class="notranslate">translator</code> service.</p>
</div>
<p>See the <a href="translation.html#translation-locale-url" class="reference internal">Translations</a> section below about setting the
locale via routing.</p>
<span id="translation-locale-url"></span>
<div class="section">
<h3 id="the-locale-and-the-url">
    The Locale and the URL
    <a class="headerlink" href="#the-locale-and-the-url" title="Permalink to this headline">¶</a>
</h3>
<p>Since you can store the locale of the user in the session, it may be tempting
to use the same URL to display a resource in different languages based on the
user's locale. For example, <code translate="no" class="notranslate">http://www.example.com/contact</code> could show
content in English for one user and French for another user. Unfortunately,
this violates a fundamental rule of the Web: that a particular URL returns the
same resource regardless of the user. To further muddy the problem, which
version of the content would be indexed by search engines?</p>
<p>A better policy is to include the locale in the URL using the
<a href="routing.html#routing-locale-parameter" class="reference internal">special _locale parameter</a>:</p>
<div class="configuration-block">
    <div role="tablist" aria-label="Configuration formats" class="configuration-tabs configuration-tabs-length-4">
                    <button role="tab" type="button" data-language="php-attributes"
                aria-controls="configuration-block-tabpanel-5e687c9d7f4bef0d075f55bc9e9089d3420f82aa" aria-selected="true"
                data-active="true" >
                <span>Attributes</span>
            </button>
                    <button role="tab" type="button" data-language="yaml"
                aria-controls="configuration-block-tabpanel-8b12d0dd623c2772047bdf14afe7087250288ff2" aria-selected="false"
                 tabindex="-1">
                <span>YAML</span>
            </button>
                    <button role="tab" type="button" data-language="xml"
                aria-controls="configuration-block-tabpanel-8becfa11a06e6ed03b1abbc8626c11728e24ed99" aria-selected="false"
                 tabindex="-1">
                <span>XML</span>
            </button>
                    <button role="tab" type="button" data-language="php"
                aria-controls="configuration-block-tabpanel-494022e561f48f515e1ccb5271fd792b3a84d954" aria-selected="false"
                 tabindex="-1">
                <span>PHP</span>
            </button>
            </div>

            <div role="tabpanel" id="configuration-block-tabpanel-5e687c9d7f4bef0d075f55bc9e9089d3420f82aa" aria-label="Attributes" class="configuration-codeblock" data-language="php-attributes" style="">
            <div translate="no" class="highlight-php-attributes highlight-php notranslate">
    <table class="highlighttable">
        <tbody>
            <tr>
                <td class="linenos">
                    <div class="linenodiv">
                        <pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17</pre>
                    </div>
                </td>
                <td class="code">
                    <div class="highlight">
                        <pre class="hljs php-attributes php"><span class="hljs-comment">// src/Controller/ContactController.php</span>
<span class="hljs-keyword">namespace</span> <span class="hljs-title">App</span>\<span class="hljs-title">Controller</span>;

<span class="hljs-comment">// ...</span>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">ContactController</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">AbstractController</span>
</span>{
    <span class="hljs-comment">#[Route(</span>
        path: <span class="hljs-string">'/{_locale}/contact'</span>,
        name: <span class="hljs-string">'contact'</span>,
        requirements: [
            <span class="hljs-string">'_locale'</span> =&gt; <span class="hljs-string">'en|fr|de'</span>,
        ],
    )]
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">contact</span><span class="hljs-params">()</span>
    </span>{
    }
}</pre>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
        </div>
            <div role="tabpanel" id="configuration-block-tabpanel-8b12d0dd623c2772047bdf14afe7087250288ff2" aria-label="YAML" class="configuration-codeblock" data-language="yaml" style="display: none">
            <div translate="no" class="highlight-yaml notranslate">
    <table class="highlighttable">
        <tbody>
            <tr>
                <td class="linenos">
                    <div class="linenodiv">
                        <pre>1
2
3
4
5
6</pre>
                    </div>
                </td>
                <td class="code">
                    <div class="highlight">
                        <pre class="hljs yaml"><span class="hljs-comment"># config/routes.yaml</span>
<span class="hljs-attr">contact:</span>
    <span class="hljs-attr">path:</span>       <span class="hljs-string">/{_locale}/contact</span>
    <span class="hljs-attr">controller:</span> <span class="hljs-string">App\Controller\ContactController::index</span>
    <span class="hljs-attr">requirements:</span>
        <span class="hljs-attr">_locale:</span> <span class="hljs-string">en|fr|de</span></pre>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
        </div>
            <div role="tabpanel" id="configuration-block-tabpanel-8becfa11a06e6ed03b1abbc8626c11728e24ed99" aria-label="XML" class="configuration-codeblock" data-language="xml" style="display: none">
            <div translate="no" class="highlight-xml notranslate">
    <table class="highlighttable">
        <tbody>
            <tr>
                <td class="linenos">
                    <div class="linenodiv">
                        <pre>1
2
3
4
5
6
7
8
9
10
11
12</pre>
                    </div>
                </td>
                <td class="code">
                    <div class="highlight">
                        <pre class="hljs xml"><span class="hljs-comment">&lt;!-- config/routes.xml --&gt;</span>
<span class="hljs-meta">&lt;?xml version="1.0" encoding="UTF-8" ?&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">routes</span> <span class="hljs-attr">xmlns</span>=<span class="hljs-string">"http://symfony.com/schema/routing"</span>
    <span class="hljs-attr">xmlns:xsi</span>=<span class="hljs-string">"http://www.w3.org/2001/XMLSchema-instance"</span>
    <span class="hljs-attr">xsi:schemaLocation</span>=<span class="hljs-string">"http://symfony.com/schema/routing
        https://symfony.com/schema/routing/routing-1.0.xsd"</span>&gt;</span>

    <span class="hljs-tag">&lt;<span class="hljs-name">route</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"contact"</span> <span class="hljs-attr">path</span>=<span class="hljs-string">"/{_locale}/contact"</span>&gt;</span>
        controller="App\Controller\ContactController::index"&gt;
        <span class="hljs-tag">&lt;<span class="hljs-name">requirement</span> <span class="hljs-attr">key</span>=<span class="hljs-string">"_locale"</span>&gt;</span>en|fr|de<span class="hljs-tag">&lt;/<span class="hljs-name">requirement</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">route</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">routes</span>&gt;</span></pre>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
        </div>
            <div role="tabpanel" id="configuration-block-tabpanel-494022e561f48f515e1ccb5271fd792b3a84d954" aria-label="PHP" class="configuration-codeblock" data-language="php" style="display: none">
            <div translate="no" class="highlight-php notranslate">
    <table class="highlighttable">
        <tbody>
            <tr>
                <td class="linenos">
                    <div class="linenodiv">
                        <pre>1
2
3
4
5
6
7
8
9
10
11
12</pre>
                    </div>
                </td>
                <td class="code">
                    <div class="highlight">
                        <pre class="hljs php"><span class="hljs-comment">// config/routes.php</span>
<span class="hljs-keyword">use</span> <span class="hljs-title">App</span>\<span class="hljs-title">Controller</span>\<span class="hljs-title">ContactController</span>;
<span class="hljs-keyword">use</span> <span class="hljs-title">Symfony</span>\<span class="hljs-title">Component</span>\<span class="hljs-title">Routing</span>\<span class="hljs-title">Loader</span>\<span class="hljs-title">Configurator</span>\<span class="hljs-title">RoutingConfigurator</span>;

<span class="hljs-keyword">return</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(RoutingConfigurator <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>routes</span>)</span> </span>{
    <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>routes</span><span class="hljs-operator">-&gt;</span>add(<span class="hljs-string">'contact'</span>, <span class="hljs-string">'/{_locale}/contact'</span>)
        <span class="hljs-operator">-&gt;</span>controller([ContactController<span class="hljs-operator">::</span>class, <span class="hljs-string">'index'</span>])
        <span class="hljs-operator">-&gt;</span>requirements([
            <span class="hljs-string">'_locale'</span> =&gt; <span class="hljs-string">'en|fr|de'</span>,
        ])
    ;
};</pre>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
        </div>
    </div>
<p>When using the special <code translate="no" class="notranslate">_locale</code> parameter in a route, the matched locale
is <em>automatically set on the Request</em> and can be retrieved via the
<a href="https://github.com/symfony/symfony/blob/5.4/src/Symfony/Component/HttpFoundation/Request.php#method_getLocale" class="reference external" title="Symfony\Component\HttpFoundation\Request::getLocale()" rel="external noopener noreferrer" target="_blank">getLocale()</a> method. In
other words, if a user visits the URI <code translate="no" class="notranslate">/fr/contact</code>, the locale <code translate="no" class="notranslate">fr</code> will
automatically be set as the locale for the current request.</p>
<p>You can now use the locale to create routes to other translated pages in your
application.</p>
<div class="admonition admonition-tip ">
    <p class="admonition-title">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" width="24" height="24" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z" /></svg>
                <span>Tip</span>
    </p><p>Define the locale requirement as a <a href="configuration.html#configuration-parameters" class="reference internal">container parameter</a>
to avoid hardcoding its value in all your routes.</p>
</div>
<span id="translation-default-locale"></span>
</div>
<div class="section">
<h3 id="setting-a-default-locale">
    Setting a Default Locale
    <a class="headerlink" href="#setting-a-default-locale" title="Permalink to this headline">¶</a>
</h3>
<p>What if the user's locale hasn't been determined? You can guarantee that a
locale is set on each user's request by defining a <code translate="no" class="notranslate">default_locale</code> for
the framework:</p>
<div class="configuration-block">
    <div role="tablist" aria-label="Configuration formats" class="configuration-tabs configuration-tabs-length-3">
                    <button role="tab" type="button" data-language="yaml"
                aria-controls="configuration-block-tabpanel-5db3386dcf5da17605cbd0a98eb3119db634438a" aria-selected="true"
                data-active="true" >
                <span>YAML</span>
            </button>
                    <button role="tab" type="button" data-language="xml"
                aria-controls="configuration-block-tabpanel-d9b51508cda20cf62db64833fe834c8783b3cb21" aria-selected="false"
                 tabindex="-1">
                <span>XML</span>
            </button>
                    <button role="tab" type="button" data-language="php"
                aria-controls="configuration-block-tabpanel-ef45b749809c330bcc905547cc833af21feaed7b" aria-selected="false"
                 tabindex="-1">
                <span>PHP</span>
            </button>
            </div>

            <div role="tabpanel" id="configuration-block-tabpanel-5db3386dcf5da17605cbd0a98eb3119db634438a" aria-label="YAML" class="configuration-codeblock" data-language="yaml" style="">
            <div translate="no" class="highlight-yaml notranslate">
    <table class="highlighttable">
        <tbody>
            <tr>
                <td class="linenos">
                    <div class="linenodiv">
                        <pre>1
2
3</pre>
                    </div>
                </td>
                <td class="code">
                    <div class="highlight">
                        <pre class="hljs yaml"><span class="hljs-comment"># config/packages/translation.yaml</span>
<span class="hljs-attr">framework:</span>
    <span class="hljs-attr">default_locale:</span> <span class="hljs-string">en</span></pre>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
        </div>
            <div role="tabpanel" id="configuration-block-tabpanel-d9b51508cda20cf62db64833fe834c8783b3cb21" aria-label="XML" class="configuration-codeblock" data-language="xml" style="display: none">
            <div translate="no" class="highlight-xml notranslate">
    <table class="highlighttable">
        <tbody>
            <tr>
                <td class="linenos">
                    <div class="linenodiv">
                        <pre>1
2
3
4
5
6
7
8
9
10
11
12</pre>
                    </div>
                </td>
                <td class="code">
                    <div class="highlight">
                        <pre class="hljs xml"><span class="hljs-comment">&lt;!-- config/packages/translation.xml --&gt;</span>
<span class="hljs-meta">&lt;?xml version="1.0" encoding="UTF-8" ?&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">container</span> <span class="hljs-attr">xmlns</span>=<span class="hljs-string">"http://symfony.com/schema/dic/services"</span>
    <span class="hljs-attr">xmlns:xsi</span>=<span class="hljs-string">"http://www.w3.org/2001/XMLSchema-instance"</span>
    <span class="hljs-attr">xmlns:framework</span>=<span class="hljs-string">"http://symfony.com/schema/dic/symfony"</span>
    <span class="hljs-attr">xsi:schemaLocation</span>=<span class="hljs-string">"http://symfony.com/schema/dic/services
        https://symfony.com/schema/dic/services/services-1.0.xsd
        http://symfony.com/schema/dic/symfony
        https://symfony.com/schema/dic/symfony/symfony-1.0.xsd"</span>&gt;</span>

    <span class="hljs-tag">&lt;<span class="hljs-name">framework:config</span> <span class="hljs-attr">default-locale</span>=<span class="hljs-string">"en"</span>/&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">container</span>&gt;</span></pre>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
        </div>
            <div role="tabpanel" id="configuration-block-tabpanel-ef45b749809c330bcc905547cc833af21feaed7b" aria-label="PHP" class="configuration-codeblock" data-language="php" style="display: none">
            <div translate="no" class="highlight-php notranslate">
    <table class="highlighttable">
        <tbody>
            <tr>
                <td class="linenos">
                    <div class="linenodiv">
                        <pre>1
2
3
4
5
6</pre>
                    </div>
                </td>
                <td class="code">
                    <div class="highlight">
                        <pre class="hljs php"><span class="hljs-comment">// config/packages/translation.php</span>
<span class="hljs-keyword">use</span> <span class="hljs-title">Symfony</span>\<span class="hljs-title">Config</span>\<span class="hljs-title">FrameworkConfig</span>;

<span class="hljs-keyword">return</span> <span class="hljs-keyword">static</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(FrameworkConfig <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>framework</span>)</span> </span>{
    <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>framework</span><span class="hljs-operator">-&gt;</span>defaultLocale(<span class="hljs-string">'en'</span>);
};</pre>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
        </div>
    </div>
<span id="translation-fallback"></span>
</div>
</div>
<div class="section">
<h2 id="fallback-translation-locales">
    Fallback Translation Locales
    <a class="headerlink" href="#fallback-translation-locales" title="Permalink to this headline">¶</a>
</h2>
<p>Imagine that the user's locale is <code translate="no" class="notranslate">es_AR</code> and that you're translating the
key <code translate="no" class="notranslate">Symfony is great</code>. To find the Spanish translation, Symfony actually
checks translation resources for several locales:</p>
<ol class="arabic">
    <li>First, Symfony looks for the translation in a <code translate="no" class="notranslate">es_AR</code> (Argentinean
Spanish) translation resource (e.g. <code translate="no" class="notranslate">messages.es_AR.yaml</code>);</li>
<li>If it wasn't found, Symfony looks for the translation in the
parent locale, which is automatically defined only for some locales. In
this example, the parent locale is <code translate="no" class="notranslate">es_419</code> (Latin American Spanish);</li>
<li>If it wasn't found, Symfony looks for the translation in a <code translate="no" class="notranslate">es</code>
(Spanish) translation resource (e.g. <code translate="no" class="notranslate">messages.es.yaml</code>);</li>
<li><p>If the translation still isn't found, Symfony uses the <code translate="no" class="notranslate">fallbacks</code> option,
which can be configured as follows:</p>
<div class="configuration-block">
    <div role="tablist" aria-label="Configuration formats" class="configuration-tabs configuration-tabs-length-3">
                    <button role="tab" type="button" data-language="yaml"
                aria-controls="configuration-block-tabpanel-86c120fc1f7c4b47a4f1f6e6801d30125ab99a83" aria-selected="true"
                data-active="true" >
                <span>YAML</span>
            </button>
                    <button role="tab" type="button" data-language="xml"
                aria-controls="configuration-block-tabpanel-042f9c396177a9f2fd628028f483eaab0fbbd06c" aria-selected="false"
                 tabindex="-1">
                <span>XML</span>
            </button>
                    <button role="tab" type="button" data-language="php"
                aria-controls="configuration-block-tabpanel-141dd8b363d38184f7098db76487a67e80018d37" aria-selected="false"
                 tabindex="-1">
                <span>PHP</span>
            </button>
            </div>

            <div role="tabpanel" id="configuration-block-tabpanel-86c120fc1f7c4b47a4f1f6e6801d30125ab99a83" aria-label="YAML" class="configuration-codeblock" data-language="yaml" style="">
            <div translate="no" class="highlight-yaml notranslate">
    <table class="highlighttable">
        <tbody>
            <tr>
                <td class="linenos">
                    <div class="linenodiv">
                        <pre>1
2
3
4
5</pre>
                    </div>
                </td>
                <td class="code">
                    <div class="highlight">
                        <pre class="hljs yaml"><span class="hljs-comment"># config/packages/translation.yaml</span>
<span class="hljs-attr">framework:</span>
    <span class="hljs-attr">translator:</span>
        <span class="hljs-attr">fallbacks:</span> <span class="hljs-string">['en']</span>
        <span class="hljs-comment"># ...</span></pre>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
        </div>
            <div role="tabpanel" id="configuration-block-tabpanel-042f9c396177a9f2fd628028f483eaab0fbbd06c" aria-label="XML" class="configuration-codeblock" data-language="xml" style="display: none">
            <div translate="no" class="highlight-xml notranslate">
    <table class="highlighttable">
        <tbody>
            <tr>
                <td class="linenos">
                    <div class="linenodiv">
                        <pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17</pre>
                    </div>
                </td>
                <td class="code">
                    <div class="highlight">
                        <pre class="hljs xml"><span class="hljs-comment">&lt;!-- config/packages/translation.xml --&gt;</span>
<span class="hljs-meta">&lt;?xml version="1.0" encoding="UTF-8" ?&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">container</span> <span class="hljs-attr">xmlns</span>=<span class="hljs-string">"http://symfony.com/schema/dic/services"</span>
    <span class="hljs-attr">xmlns:xsi</span>=<span class="hljs-string">"http://www.w3.org/2001/XMLSchema-instance"</span>
    <span class="hljs-attr">xmlns:framework</span>=<span class="hljs-string">"http://symfony.com/schema/dic/symfony"</span>
    <span class="hljs-attr">xsi:schemaLocation</span>=<span class="hljs-string">"http://symfony.com/schema/dic/services
        https://symfony.com/schema/dic/services/services-1.0.xsd
        http://symfony.com/schema/dic/symfony
        https://symfony.com/schema/dic/symfony/symfony-1.0.xsd"</span>&gt;</span>

    <span class="hljs-tag">&lt;<span class="hljs-name">framework:config</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">framework:translator</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">framework:fallback</span>&gt;</span>en<span class="hljs-tag">&lt;/<span class="hljs-name">framework:fallback</span>&gt;</span>
            <span class="hljs-comment">&lt;!-- ... --&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">framework:translator</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">framework:config</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">container</span>&gt;</span></pre>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
        </div>
            <div role="tabpanel" id="configuration-block-tabpanel-141dd8b363d38184f7098db76487a67e80018d37" aria-label="PHP" class="configuration-codeblock" data-language="php" style="display: none">
            <div translate="no" class="highlight-php notranslate">
    <table class="highlighttable">
        <tbody>
            <tr>
                <td class="linenos">
                    <div class="linenodiv">
                        <pre>1
2
3
4
5
6
7
8
9</pre>
                    </div>
                </td>
                <td class="code">
                    <div class="highlight">
                        <pre class="hljs php"><span class="hljs-comment">// config/packages/translation.php</span>
<span class="hljs-keyword">use</span> <span class="hljs-title">Symfony</span>\<span class="hljs-title">Config</span>\<span class="hljs-title">FrameworkConfig</span>;

 <span class="hljs-keyword">return</span> <span class="hljs-keyword">static</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(FrameworkConfig <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>framework</span>)</span> </span>{
     <span class="hljs-comment">// ...</span>
     <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>framework</span><span class="hljs-operator">-&gt;</span>translator()
         <span class="hljs-operator">-&gt;</span>fallbacks([<span class="hljs-string">'en'</span>])
     ;
 };</pre>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
        </div>
    </div></li>
</ol>
<div class="admonition admonition-note ">
    <p class="admonition-title">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" width="24" height="24" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z" /></svg>
                <span>Note</span>
    </p><p>When Symfony can't find a translation in the given locale, it will
add the missing translation to the log file. For details,
see <a href="reference/configuration/framework.html#reference-framework-translator-logging" class="reference internal">Framework Configuration Reference (FrameworkBundle)</a>.</p>
</div>
</div>
<div class="section">
<h2 id="switch-locale-programmatically">
    Switch Locale Programmatically
    <a class="headerlink" href="#switch-locale-programmatically" title="Permalink to this headline">¶</a>
</h2>
<div class="admonition admonition-versionadded ">
    <p class="admonition-title">
                                    <span>6.1</span>
    </p><p>The <code translate="no" class="notranslate">LocaleSwitcher</code> was introduced in Symfony 6.1.</p>
</div>
<p>Sometimes you need to change the locale of the application dynamically
just to run some code. Imagine a console command that renders Twig templates
of emails in different languages. You need to change the locale only to
render those templates.</p>
<p>The <code translate="no" class="notranslate">LocaleSwitcher</code> class allows you to change at once the locale
of:</p>
<ul>
    <li>All the services that are tagged with <code translate="no" class="notranslate">kernel.locale_aware</code>;</li>
<li><code translate="no" class="notranslate">\Locale::setDefault()</code>;</li>
<li><p>If the <code translate="no" class="notranslate">RequestContext</code> service is available, the <code translate="no" class="notranslate">_locale</code>
parameter (so urls are generated with the new locale):</p>
<div translate="no" class="highlight-php notranslate">
    <table class="highlighttable">
        <tbody>
            <tr>
                <td class="linenos">
                    <div class="linenodiv">
                        <pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34</pre>
                    </div>
                </td>
                <td class="code">
                    <div class="highlight">
                        <pre class="hljs php"><span class="hljs-keyword">use</span> <span class="hljs-title">Symfony</span>\<span class="hljs-title">Component</span>\<span class="hljs-title">Translation</span>\<span class="hljs-title">LocaleSwitcher</span>;

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">SomeService</span>
</span>{
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">__construct</span><span class="hljs-params">(
        private LocaleSwitcher <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>localeSwitcher</span>,
    )</span> </span>{
    }

    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">someMethod</span><span class="hljs-params">()</span>
    </span>{
        <span class="hljs-comment">// you can get the current application locale like this:</span>
        <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>currentLocale</span> = <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>this</span><span class="hljs-operator">-&gt;</span>localeSwitcher<span class="hljs-operator">-&gt;</span>getLocale();

        <span class="hljs-comment">// you can set the locale for the entire application like this:</span>
        <span class="hljs-comment">// (from now on, the application will use 'fr' (French) as the</span>
        <span class="hljs-comment">// locale; including the default locale used to translate Twig templates)</span>
        <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>this</span><span class="hljs-operator">-&gt;</span>localeSwitcher<span class="hljs-operator">-&gt;</span>setLocale(<span class="hljs-string">'fr'</span>);

        <span class="hljs-comment">// reset the current locale of your application to the configured default locale</span>
        <span class="hljs-comment">// in config/packages/translation.yaml, by option 'default_locale'</span>
        <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>this</span><span class="hljs-operator">-&gt;</span>localeSwitcher<span class="hljs-operator">-&gt;</span>reset();

        <span class="hljs-comment">// you can also run some code with a certain locale, without</span>
        <span class="hljs-comment">// changing the locale for the rest of the application</span>
        <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>this</span><span class="hljs-operator">-&gt;</span>localeSwitcher<span class="hljs-operator">-&gt;</span>runWithLocale(<span class="hljs-string">'es'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> </span>{

            <span class="hljs-comment">// e.g. render here some Twig templates using 'es' (Spanish) locale</span>

        });

        <span class="hljs-comment">// ...</span>
    }
}</pre>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div></li>
</ul>
<p>When using <a href="service_container.html#services-autowire" class="reference internal">autowiring</a>, type-hint any controller or
service argument with the <a href="https://github.com/symfony/symfony/blob/5.4/src/Symfony/Component/Translation/LocaleSwitcher.php" class="reference external" title="Symfony\Component\Translation\LocaleSwitcher" rel="external noopener noreferrer" target="_blank">LocaleSwitcher</a>
class to inject the locale switcher service. Otherwise, configure your services
manually and inject the <code translate="no" class="notranslate">translation.locale_switcher</code> service.</p>
<span id="translation-debug"></span>
</div>
<div class="section">
<h2 id="how-to-find-missing-or-unused-translation-messages">
    How to Find Missing or Unused Translation Messages
    <a class="headerlink" href="#how-to-find-missing-or-unused-translation-messages" title="Permalink to this headline">¶</a>
</h2>
<p>When you work with many translation messages in different languages, it can be
hard to keep track which translations are missing and which are not used
anymore. The <code translate="no" class="notranslate">debug:translation</code> command helps you to find these missing or
unused translation messages templates:</p>
<div translate="no" class="highlight-twig notranslate">
    <table class="highlighttable">
        <tbody>
            <tr>
                <td class="linenos">
                    <div class="linenodiv">
                        <pre>1
2
3
4</pre>
                    </div>
                </td>
                <td class="code">
                    <div class="highlight">
                        <pre class="hljs twig"><span class="hljs-comment">{# messages can be found when using the trans filter and tag #}</span><span class="xml">
</span><span class="hljs-template-tag">{% <span class="hljs-name">trans</span> %}</span><span class="xml">Symfony is great</span><span class="hljs-template-tag">{% <span class="hljs-name">endtrans</span> %}</span><span class="xml">

</span><span class="hljs-template-variable">{{ 'Symfony is great'|trans }}</span></pre>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
<div class="admonition admonition-caution ">
    <p class="admonition-title">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" width="24" height="24" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" /></svg>
                <span>Caution</span>
    </p><p>The extractors can't find messages translated outside templates (like form
labels or controllers) unless using <a href="translation.html#translatable-objects" class="reference internal">Translations</a> or calling
the <code translate="no" class="notranslate">trans()</code> method on a translator (since Symfony 5.3). Dynamic
translations using variables or expressions in templates are not
detected either:</p>
<div translate="no" class="highlight-twig notranslate">
    <table class="highlighttable">
        <tbody>
            <tr>
                <td class="linenos">
                    <div class="linenodiv">
                        <pre>1
2
3</pre>
                    </div>
                </td>
                <td class="code">
                    <div class="highlight">
                        <pre class="hljs twig"><span class="hljs-comment">{# this translation uses a Twig variable, so it won't be detected #}</span><span class="xml">
</span><span class="hljs-template-tag">{% <span class="hljs-name"><span class="hljs-keyword">set</span></span> message = 'Symfony is great' %}</span><span class="xml">
</span><span class="hljs-template-variable">{{ message|trans }}</span></pre>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
</div>
<p>Suppose your application's default_locale is <code translate="no" class="notranslate">fr</code> and you have configured
<code translate="no" class="notranslate">en</code> as the fallback locale (see <a href="translation.html#translation-configuration" class="reference internal">Translations</a> and
<a href="translation.html#translation-fallback" class="reference internal">Translations</a> for how to configure these). And suppose
you've already setup some translations for the <code translate="no" class="notranslate">fr</code> locale:</p>
<div class="configuration-block">
    <div role="tablist" aria-label="Configuration formats" class="configuration-tabs configuration-tabs-length-3">
                    <button role="tab" type="button" data-language="xml"
                aria-controls="configuration-block-tabpanel-f2d7e6f574817b0a0b583c23a13cfb52d0742da2" aria-selected="true"
                data-active="true" >
                <span>XML</span>
            </button>
                    <button role="tab" type="button" data-language="yaml"
                aria-controls="configuration-block-tabpanel-2ee9387d4c1fca3fcb4b7988659317d33ea37e50" aria-selected="false"
                 tabindex="-1">
                <span>YAML</span>
            </button>
                    <button role="tab" type="button" data-language="php"
                aria-controls="configuration-block-tabpanel-5a177a3361c8a206fc2d6780f3036b269f7c67af" aria-selected="false"
                 tabindex="-1">
                <span>PHP</span>
            </button>
            </div>

            <div role="tabpanel" id="configuration-block-tabpanel-f2d7e6f574817b0a0b583c23a13cfb52d0742da2" aria-label="XML" class="configuration-codeblock" data-language="xml" style="">
            <div translate="no" class="highlight-xml notranslate">
    <table class="highlighttable">
        <tbody>
            <tr>
                <td class="linenos">
                    <div class="linenodiv">
                        <pre>1
2
3
4
5
6
7
8
9
10
11
12</pre>
                    </div>
                </td>
                <td class="code">
                    <div class="highlight">
                        <pre class="hljs xml"><span class="hljs-comment">&lt;!-- translations/messages.fr.xlf --&gt;</span>
<span class="hljs-meta">&lt;?xml version="1.0" encoding="UTF-8" ?&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">xliff</span> <span class="hljs-attr">version</span>=<span class="hljs-string">"1.2"</span> <span class="hljs-attr">xmlns</span>=<span class="hljs-string">"urn:oasis:names:tc:xliff:document:1.2"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">file</span> <span class="hljs-attr">source-language</span>=<span class="hljs-string">"en"</span> <span class="hljs-attr">datatype</span>=<span class="hljs-string">"plaintext"</span> <span class="hljs-attr">original</span>=<span class="hljs-string">"file.ext"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">trans-unit</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"1"</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">source</span>&gt;</span>Symfony is great<span class="hljs-tag">&lt;/<span class="hljs-name">source</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">target</span>&gt;</span>J'aime Symfony<span class="hljs-tag">&lt;/<span class="hljs-name">target</span>&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-name">trans-unit</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">file</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">xliff</span>&gt;</span></pre>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
        </div>
            <div role="tabpanel" id="configuration-block-tabpanel-2ee9387d4c1fca3fcb4b7988659317d33ea37e50" aria-label="YAML" class="configuration-codeblock" data-language="yaml" style="display: none">
            <div translate="no" class="highlight-yaml notranslate">
    <table class="highlighttable">
        <tbody>
            <tr>
                <td class="linenos">
                    <div class="linenodiv">
                        <pre>1
2</pre>
                    </div>
                </td>
                <td class="code">
                    <div class="highlight">
                        <pre class="hljs yaml"><span class="hljs-comment"># translations/messages.fr.yaml</span>
<span class="hljs-attr">Symfony is great:</span> <span class="hljs-string">J'aime</span> <span class="hljs-string">Symfony</span></pre>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
        </div>
            <div role="tabpanel" id="configuration-block-tabpanel-5a177a3361c8a206fc2d6780f3036b269f7c67af" aria-label="PHP" class="configuration-codeblock" data-language="php" style="display: none">
            <div translate="no" class="highlight-php notranslate">
    <table class="highlighttable">
        <tbody>
            <tr>
                <td class="linenos">
                    <div class="linenodiv">
                        <pre>1
2
3
4</pre>
                    </div>
                </td>
                <td class="code">
                    <div class="highlight">
                        <pre class="hljs php"><span class="hljs-comment">// translations/messages.fr.php</span>
<span class="hljs-keyword">return</span> [
    <span class="hljs-string">'Symfony is great'</span> =&gt; <span class="hljs-string">'J\'aime Symfony'</span>,
];</pre>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
        </div>
    </div>
<p>and for the <code translate="no" class="notranslate">en</code> locale:</p>
<div class="configuration-block">
    <div role="tablist" aria-label="Configuration formats" class="configuration-tabs configuration-tabs-length-3">
                    <button role="tab" type="button" data-language="xml"
                aria-controls="configuration-block-tabpanel-08295ae70b57e3246495728b12d08d48f58d6e12" aria-selected="true"
                data-active="true" >
                <span>XML</span>
            </button>
                    <button role="tab" type="button" data-language="yaml"
                aria-controls="configuration-block-tabpanel-f7cd8c280bf2f9bb58e356a0dcaebe09fe310159" aria-selected="false"
                 tabindex="-1">
                <span>YAML</span>
            </button>
                    <button role="tab" type="button" data-language="php"
                aria-controls="configuration-block-tabpanel-1772613fb20e68fc31c2a1b9c9ae9d520ec34750" aria-selected="false"
                 tabindex="-1">
                <span>PHP</span>
            </button>
            </div>

            <div role="tabpanel" id="configuration-block-tabpanel-08295ae70b57e3246495728b12d08d48f58d6e12" aria-label="XML" class="configuration-codeblock" data-language="xml" style="">
            <div translate="no" class="highlight-xml notranslate">
    <table class="highlighttable">
        <tbody>
            <tr>
                <td class="linenos">
                    <div class="linenodiv">
                        <pre>1
2
3
4
5
6
7
8
9
10
11
12</pre>
                    </div>
                </td>
                <td class="code">
                    <div class="highlight">
                        <pre class="hljs xml"><span class="hljs-comment">&lt;!-- translations/messages.en.xlf --&gt;</span>
<span class="hljs-meta">&lt;?xml version="1.0" encoding="UTF-8" ?&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">xliff</span> <span class="hljs-attr">version</span>=<span class="hljs-string">"1.2"</span> <span class="hljs-attr">xmlns</span>=<span class="hljs-string">"urn:oasis:names:tc:xliff:document:1.2"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">file</span> <span class="hljs-attr">source-language</span>=<span class="hljs-string">"en"</span> <span class="hljs-attr">datatype</span>=<span class="hljs-string">"plaintext"</span> <span class="hljs-attr">original</span>=<span class="hljs-string">"file.ext"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">trans-unit</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"1"</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">source</span>&gt;</span>Symfony is great<span class="hljs-tag">&lt;/<span class="hljs-name">source</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">target</span>&gt;</span>Symfony is great<span class="hljs-tag">&lt;/<span class="hljs-name">target</span>&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-name">trans-unit</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">file</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">xliff</span>&gt;</span></pre>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
        </div>
            <div role="tabpanel" id="configuration-block-tabpanel-f7cd8c280bf2f9bb58e356a0dcaebe09fe310159" aria-label="YAML" class="configuration-codeblock" data-language="yaml" style="display: none">
            <div translate="no" class="highlight-yaml notranslate">
    <table class="highlighttable">
        <tbody>
            <tr>
                <td class="linenos">
                    <div class="linenodiv">
                        <pre>1
2</pre>
                    </div>
                </td>
                <td class="code">
                    <div class="highlight">
                        <pre class="hljs yaml"><span class="hljs-comment"># translations/messages.en.yaml</span>
<span class="hljs-attr">Symfony is great:</span> <span class="hljs-string">Symfony</span> <span class="hljs-string">is</span> <span class="hljs-string">great</span></pre>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
        </div>
            <div role="tabpanel" id="configuration-block-tabpanel-1772613fb20e68fc31c2a1b9c9ae9d520ec34750" aria-label="PHP" class="configuration-codeblock" data-language="php" style="display: none">
            <div translate="no" class="highlight-php notranslate">
    <table class="highlighttable">
        <tbody>
            <tr>
                <td class="linenos">
                    <div class="linenodiv">
                        <pre>1
2
3
4</pre>
                    </div>
                </td>
                <td class="code">
                    <div class="highlight">
                        <pre class="hljs php"><span class="hljs-comment">// translations/messages.en.php</span>
<span class="hljs-keyword">return</span> [
    <span class="hljs-string">'Symfony is great'</span> =&gt; <span class="hljs-string">'Symfony is great'</span>,
];</pre>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
        </div>
    </div>
<p>To inspect all messages in the <code translate="no" class="notranslate">fr</code> locale for the application, run:</p>
<div translate="no" class="highlight-terminal highlight-bash notranslate">
    <table class="highlighttable">
        <tbody>
            <tr>
                <td class="linenos">
                    <div class="linenodiv">
                        <pre>1
2
3
4
5
6
7</pre>
                    </div>
                </td>
                <td class="code">
                    <div class="highlight">
                        <pre class="hljs terminal bash"><span class="hljs-prompt">$ </span>php bin/console debug:translation fr

---------  ------------------  ----------------------  -------------------------------
 State      Id                  Message Preview (fr)    Fallback Message Preview (en)
---------  ------------------  ----------------------  -------------------------------
 unused     Symfony is great    J<span class="hljs-string">'aime Symfony          Symfony is great
---------  ------------------  ----------------------  -------------------------------</span></pre>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
<p>It shows you a table with the result when translating the message in the <code translate="no" class="notranslate">fr</code>
locale and the result when the fallback locale <code translate="no" class="notranslate">en</code> would be used. On top
of that, it will also show you when the translation is the same as the fallback
translation (this could indicate that the message was not correctly translated).
Furthermore, it indicates that the message <code translate="no" class="notranslate">Symfony is great</code> is unused
because it is translated, but you haven't used it anywhere yet.</p>
<p>Now, if you translate the message in one of your templates, you will get this
output:</p>
<div translate="no" class="highlight-terminal highlight-bash notranslate">
    <table class="highlighttable">
        <tbody>
            <tr>
                <td class="linenos">
                    <div class="linenodiv">
                        <pre>1
2
3
4
5
6
7</pre>
                    </div>
                </td>
                <td class="code">
                    <div class="highlight">
                        <pre class="hljs terminal bash"><span class="hljs-prompt">$ </span>php bin/console debug:translation fr

---------  ------------------  ----------------------  -------------------------------
 State      Id                  Message Preview (fr)    Fallback Message Preview (en)
---------  ------------------  ----------------------  -------------------------------
            Symfony is great    J<span class="hljs-string">'aime Symfony          Symfony is great
---------  ------------------  ----------------------  -------------------------------</span></pre>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
<p>The state is empty which means the message is translated in the <code translate="no" class="notranslate">fr</code> locale
and used in one or more templates.</p>
<p>If you delete the message <code translate="no" class="notranslate">Symfony is great</code> from your translation file
for the <code translate="no" class="notranslate">fr</code> locale and run the command, you will get:</p>
<div translate="no" class="highlight-terminal highlight-bash notranslate">
    <table class="highlighttable">
        <tbody>
            <tr>
                <td class="linenos">
                    <div class="linenodiv">
                        <pre>1
2
3
4
5
6
7</pre>
                    </div>
                </td>
                <td class="code">
                    <div class="highlight">
                        <pre class="hljs terminal bash"><span class="hljs-prompt">$ </span>php bin/console debug:translation fr

---------  ------------------  ----------------------  -------------------------------
 State      Id                  Message Preview (fr)    Fallback Message Preview (en)
---------  ------------------  ----------------------  -------------------------------
 missing    Symfony is great    Symfony is great        Symfony is great
---------  ------------------  ----------------------  -------------------------------</pre>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
<p>The state indicates the message is missing because it is not translated in
the <code translate="no" class="notranslate">fr</code> locale but it is still used in the template. Moreover, the message
in the <code translate="no" class="notranslate">fr</code> locale equals to the message in the <code translate="no" class="notranslate">en</code> locale. This is a
special case because the untranslated message id equals its translation in
the <code translate="no" class="notranslate">en</code> locale.</p>
<p>If you copy the content of the translation file in the <code translate="no" class="notranslate">en</code> locale to the
translation file in the <code translate="no" class="notranslate">fr</code> locale and run the command, you will get:</p>
<div translate="no" class="highlight-terminal highlight-bash notranslate">
    <table class="highlighttable">
        <tbody>
            <tr>
                <td class="linenos">
                    <div class="linenodiv">
                        <pre>1
2
3
4
5
6
7</pre>
                    </div>
                </td>
                <td class="code">
                    <div class="highlight">
                        <pre class="hljs terminal bash"><span class="hljs-prompt">$ </span>php bin/console debug:translation fr

----------  ------------------  ----------------------  -------------------------------
 State       Id                  Message Preview (fr)    Fallback Message Preview (en)
----------  ------------------  ----------------------  -------------------------------
 fallback    Symfony is great    Symfony is great        Symfony is great
----------  ------------------  ----------------------  -------------------------------</pre>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
<p>You can see that the translations of the message are identical in the <code translate="no" class="notranslate">fr</code>
and <code translate="no" class="notranslate">en</code> locales which means this message was probably copied from English
to French and maybe you forgot to translate it.</p>
<p>By default, all domains are inspected, but it is possible to specify a single
domain:</p>
<div translate="no" class="highlight-terminal highlight-bash notranslate">
    <table class="highlighttable">
        <tbody>
            <tr>
                <td class="linenos">
                    <div class="linenodiv">
                        <pre>1</pre>
                    </div>
                </td>
                <td class="code">
                    <div class="highlight">
                        <pre class="hljs terminal bash"><span class="hljs-prompt">$ </span>php bin/console debug:translation en --domain=messages</pre>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
<p>When the application has a lot of messages, it is useful to display only the
unused or only the missing messages, by using the <code translate="no" class="notranslate">--only-unused</code> or
<code translate="no" class="notranslate">--only-missing</code> options:</p>
<div translate="no" class="highlight-terminal highlight-bash notranslate">
    <table class="highlighttable">
        <tbody>
            <tr>
                <td class="linenos">
                    <div class="linenodiv">
                        <pre>1
2</pre>
                    </div>
                </td>
                <td class="code">
                    <div class="highlight">
                        <pre class="hljs terminal bash"><span class="hljs-prompt">$ </span>php bin/console debug:translation en --only-unused
<span class="hljs-prompt">$ </span>php bin/console debug:translation en --only-missing</pre>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
<div class="section">
<h3 id="debug-command-exit-codes">
    Debug Command Exit Codes
    <a class="headerlink" href="#debug-command-exit-codes" title="Permalink to this headline">¶</a>
</h3>
<p>The exit code of the <code translate="no" class="notranslate">debug:translation</code> command changes depending on the
status of the translations. Use the following public constants to check it:</p>
<div translate="no" class="highlight-php notranslate">
    <table class="highlighttable">
        <tbody>
            <tr>
                <td class="linenos">
                    <div class="linenodiv">
                        <pre>1
2
3
4
5
6
7
8
9
10
11
12
13</pre>
                    </div>
                </td>
                <td class="code">
                    <div class="highlight">
                        <pre class="hljs php"><span class="hljs-keyword">use</span> <span class="hljs-title">Symfony</span>\<span class="hljs-title">Bundle</span>\<span class="hljs-title">FrameworkBundle</span>\<span class="hljs-title">Command</span>\<span class="hljs-title">TranslationDebugCommand</span>;

<span class="hljs-comment">// generic failure (e.g. there are no translations)</span>
TranslationDebugCommand<span class="hljs-operator">::</span>EXIT_CODE_GENERAL_ERROR;

<span class="hljs-comment">// there are missing translations</span>
TranslationDebugCommand<span class="hljs-operator">::</span>EXIT_CODE_MISSING;

<span class="hljs-comment">// there are unused translations</span>
TranslationDebugCommand<span class="hljs-operator">::</span>EXIT_CODE_UNUSED;

<span class="hljs-comment">// some translations are using the fallback translation</span>
TranslationDebugCommand<span class="hljs-operator">::</span>EXIT_CODE_FALLBACK;</pre>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
<p>These constants are defined as &quot;bit masks&quot;, so you can combine them as follows:</p>
<div translate="no" class="highlight-php notranslate">
    <table class="highlighttable">
        <tbody>
            <tr>
                <td class="linenos">
                    <div class="linenodiv">
                        <pre>1
2
3</pre>
                    </div>
                </td>
                <td class="code">
                    <div class="highlight">
                        <pre class="hljs php"><span class="hljs-keyword">if</span> (TranslationDebugCommand<span class="hljs-operator">::</span>EXIT_CODE_MISSING | TranslationDebugCommand<span class="hljs-operator">::</span>EXIT_CODE_UNUSED) {
    <span class="hljs-comment">// ... there are missing and/or unused translations</span>
}</pre>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
<span id="translation-lint"></span>
</div>
</div>
<div class="section">
<h2 id="how-to-find-errors-in-translation-files">
    How to Find Errors in Translation Files
    <a class="headerlink" href="#how-to-find-errors-in-translation-files" title="Permalink to this headline">¶</a>
</h2>
<p>Symfony processes all the application translation files as part of the process
that compiles the application code before executing it. If there's an error in
any translation file, you'll see an error message explaining the problem.</p>
<p>If you prefer, you can also validate the contents of any YAML and XLIFF
translation file using the <code translate="no" class="notranslate">lint:yaml</code> and <code translate="no" class="notranslate">lint:xliff</code> commands:</p>
<div translate="no" class="highlight-terminal highlight-bash notranslate">
    <table class="highlighttable">
        <tbody>
            <tr>
                <td class="linenos">
                    <div class="linenodiv">
                        <pre>1
2
3
4
5
6
7
8
9
10
11</pre>
                    </div>
                </td>
                <td class="code">
                    <div class="highlight">
                        <pre class="hljs terminal bash"><span class="hljs-comment"># lint a single file</span>
<span class="hljs-prompt">$ </span>php bin/console lint:yaml translations/messages.en.yaml
<span class="hljs-prompt">$ </span>php bin/console lint:xliff translations/messages.en.xlf

<span class="hljs-comment"># lint a whole directory</span>
<span class="hljs-prompt">$ </span>php bin/console lint:yaml translations
<span class="hljs-prompt">$ </span>php bin/console lint:xliff translations

<span class="hljs-comment"># lint multiple files or directories</span>
<span class="hljs-prompt">$ </span>php bin/console lint:yaml translations path/to/trans
<span class="hljs-prompt">$ </span>php bin/console lint:xliff translations/messages.en.xlf translations/messages.es.xlf</pre>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
<p>The linter results can be exported to JSON using the <code translate="no" class="notranslate">--format</code> option:</p>
<div translate="no" class="highlight-terminal highlight-bash notranslate">
    <table class="highlighttable">
        <tbody>
            <tr>
                <td class="linenos">
                    <div class="linenodiv">
                        <pre>1
2</pre>
                    </div>
                </td>
                <td class="code">
                    <div class="highlight">
                        <pre class="hljs terminal bash"><span class="hljs-prompt">$ </span>php bin/console lint:yaml translations/ --format=json
<span class="hljs-prompt">$ </span>php bin/console lint:xliff translations/ --format=json</pre>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
<p>When running these linters inside <a href="https://docs.github.com/en/free-pro-team@latest/actions" class="reference external" rel="external noopener noreferrer" target="_blank">GitHub Actions</a>, the output is automatically
adapted to the format required by GitHub, but you can force that format too:</p>
<div translate="no" class="highlight-terminal highlight-bash notranslate">
    <table class="highlighttable">
        <tbody>
            <tr>
                <td class="linenos">
                    <div class="linenodiv">
                        <pre>1
2</pre>
                    </div>
                </td>
                <td class="code">
                    <div class="highlight">
                        <pre class="hljs terminal bash"><span class="hljs-prompt">$ </span>php bin/console lint:yaml translations/ --format=github
<span class="hljs-prompt">$ </span>php bin/console lint:xliff translations/ --format=github</pre>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
<div class="admonition admonition-tip ">
    <p class="admonition-title">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" width="24" height="24" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z" /></svg>
                <span>Tip</span>
    </p><p>The Yaml component provides a stand-alone <code translate="no" class="notranslate">yaml-lint</code> binary allowing
you to lint YAML files without having to create a console application:</p>
<div translate="no" class="highlight-terminal highlight-bash notranslate">
    <table class="highlighttable">
        <tbody>
            <tr>
                <td class="linenos">
                    <div class="linenodiv">
                        <pre>1</pre>
                    </div>
                </td>
                <td class="code">
                    <div class="highlight">
                        <pre class="hljs terminal bash"><span class="hljs-prompt">$ </span>php vendor/bin/yaml-lint translations/</pre>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
</div>
</div>
<div class="section">
<h2 id="summary">
    Summary
    <a class="headerlink" href="#summary" title="Permalink to this headline">¶</a>
</h2>
<p>With the Symfony Translation component, creating an internationalized application
no longer needs to be a painful process and boils down to these steps:</p>
<ul>
    <li>Abstract messages in your application by wrapping each in the
<a href="https://github.com/symfony/symfony/blob/5.4/src/Symfony/Component/Translation/Translator.php#method_trans" class="reference external" title="Symfony\Component\Translation\Translator::trans()" rel="external noopener noreferrer" target="_blank">trans()</a> method;</li>
<li>Translate each message into multiple locales by creating translation message
files. Symfony discovers and processes each file because its name follows
a specific convention;</li>
<li>Manage the user's locale, which is stored on the request, but can also
be set on the user's session.</li>
</ul>
</div>
<div class="section">
<h2 id="learn-more">
    Learn more
    <a class="headerlink" href="#learn-more" title="Permalink to this headline">¶</a>
</h2>
<div class="toctree-wrapper toc-size-md"><ul class="toctree toctree-level-1 toctree-length-2"><li><a href="reference/formats/message_format.html">How to Translate Messages using the ICU MessageFormat</a></li><li><a href="reference/formats/xliff.html">The XLIFF format</a></li></ul></div>
</div>
</div>

                            </div>                    </div>
                                    </div>        </div>

    </section>

</div>


<script type="text/javascript" src="assets/js/theme.js"></script>
<script type="text/javascript" src="assets/js/badge_only.js"></script>

 
</body>
</html>