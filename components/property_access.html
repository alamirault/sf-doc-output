        
<!DOCTYPE html>
<!--[if IE 8]>
<html class="no-js lt-ie9" lang="en"> <![endif]-->
<!--[if gt IE 8]><!-->
<html class="no-js" lang="en"> <!--<![endif]-->
<head><base href="/">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
            
                                
    
    <link rel="stylesheet" href="assets/css/theme.css" type="text/css" />
    <link rel="stylesheet" href="assets/css/highlightjs.css" type="text/css" />
    <link rel="stylesheet" href="assets/css/badge_only.css" type="text/css" />

</head>

<body class="wy-body-for-nav">
 <div class="wy-grid-for-nav">

        <nav data-toggle="wy-nav-shift" class="wy-nav-side">
        <div class="wy-side-scroll">
            <div class="wy-side-nav-search">
                
                                                                                                    
                                                                                                                                                                        </div>

            <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
                                                                                                                                                                                                                                                                                                                            </div>
        </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

                                                        

        <div class="wy-nav-content">                <div class="rst-content">
                                        <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">                            <div itemprop="articleBody">
                                    <div class="section">
<h1 id="the-propertyaccess-component">
    The PropertyAccess Component
    <a class="headerlink" href="#the-propertyaccess-component" title="Permalink to this headline">¶</a>
</h1>
<blockquote><p>The PropertyAccess component provides functions to read and write from/to an
object or array using a simple string notation.</p>
</blockquote>
<div class="section">
<h2 id="installation">
    Installation
    <a class="headerlink" href="#installation" title="Permalink to this headline">¶</a>
</h2>
<div translate="no" class="highlight-terminal highlight-bash notranslate">
    <table class="highlighttable">
        <tbody>
            <tr>
                <td class="linenos">
                    <div class="linenodiv">
                        <pre>1</pre>
                    </div>
                </td>
                <td class="code">
                    <div class="highlight">
                        <pre class="hljs terminal bash"><span class="hljs-prompt">$ </span>composer require symfony/property-access</pre>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
<div class="admonition admonition-note ">
    <p class="admonition-title">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" width="24" height="24" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z" /></svg>
                <span>Note</span>
    </p><p>If you install this component outside of a Symfony application, you must
require the <code translate="no" class="notranslate">vendor/autoload.php</code> file in your code to enable the class
autoloading mechanism provided by Composer. Read
<a href="using_components.html" class="reference internal">this article</a> for more details.</p>
</div>
</div>
<div class="section">
<h2 id="usage">
    Usage
    <a class="headerlink" href="#usage" title="Permalink to this headline">¶</a>
</h2>
<p>The entry point of this component is the
<a href="https://github.com/symfony/symfony/blob/5.4/src/Symfony/Component/PropertyAccess/PropertyAccess.php#method_createPropertyAccessor" class="reference external" title="Symfony\Component\PropertyAccess\PropertyAccess::createPropertyAccessor()" rel="external noopener noreferrer" target="_blank">createPropertyAccessor()</a>
factory. This factory will create a new instance of the
<a href="https://github.com/symfony/symfony/blob/5.4/src/Symfony/Component/PropertyAccess/PropertyAccessor.php" class="reference external" title="Symfony\Component\PropertyAccess\PropertyAccessor" rel="external noopener noreferrer" target="_blank">PropertyAccessor</a> class with the
default configuration:</p>
<div translate="no" class="highlight-php notranslate">
    <table class="highlighttable">
        <tbody>
            <tr>
                <td class="linenos">
                    <div class="linenodiv">
                        <pre>1
2
3</pre>
                    </div>
                </td>
                <td class="code">
                    <div class="highlight">
                        <pre class="hljs php"><span class="hljs-keyword">use</span> <span class="hljs-title">Symfony</span>\<span class="hljs-title">Component</span>\<span class="hljs-title">PropertyAccess</span>\<span class="hljs-title">PropertyAccess</span>;

<span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>propertyAccessor</span> = PropertyAccess<span class="hljs-operator">::</span>createPropertyAccessor();</pre>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
</div>
<div class="section">
<h2 id="reading-from-arrays">
    Reading from Arrays
    <a class="headerlink" href="#reading-from-arrays" title="Permalink to this headline">¶</a>
</h2>
<p>You can read an array with the
<a href="https://github.com/symfony/symfony/blob/5.4/src/Symfony/Component/PropertyAccess/PropertyAccessor.php#method_getValue" class="reference external" title="Symfony\Component\PropertyAccess\PropertyAccessor::getValue()" rel="external noopener noreferrer" target="_blank">getValue()</a> method.
This is done using the index notation that is used in PHP:</p>
<div translate="no" class="highlight-php notranslate">
    <table class="highlighttable">
        <tbody>
            <tr>
                <td class="linenos">
                    <div class="linenodiv">
                        <pre>1
2
3
4
5
6
7</pre>
                    </div>
                </td>
                <td class="code">
                    <div class="highlight">
                        <pre class="hljs php"><span class="hljs-comment">// ...</span>
<span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>person</span> = [
    <span class="hljs-string">'first_name'</span> =&gt; <span class="hljs-string">'Wouter'</span>,
];

var_dump(<span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>propertyAccessor</span><span class="hljs-operator">-&gt;</span>getValue(<span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>person</span>, <span class="hljs-string">'[first_name]'</span>)); <span class="hljs-comment">// 'Wouter'</span>
var_dump(<span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>propertyAccessor</span><span class="hljs-operator">-&gt;</span>getValue(<span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>person</span>, <span class="hljs-string">'[age]'</span>)); <span class="hljs-comment">// null</span></pre>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
<p>As you can see, the method will return <code translate="no" class="notranslate">null</code> if the index does not exist.
But you can change this behavior with the
<a href="https://github.com/symfony/symfony/blob/5.4/src/Symfony/Component/PropertyAccess/PropertyAccessorBuilder.php#method_enableExceptionOnInvalidIndex" class="reference external" title="Symfony\Component\PropertyAccess\PropertyAccessorBuilder::enableExceptionOnInvalidIndex()" rel="external noopener noreferrer" target="_blank">enableExceptionOnInvalidIndex()</a>
method:</p>
<div translate="no" class="highlight-php notranslate">
    <table class="highlighttable">
        <tbody>
            <tr>
                <td class="linenos">
                    <div class="linenodiv">
                        <pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15</pre>
                    </div>
                </td>
                <td class="code">
                    <div class="highlight">
                        <pre class="hljs php"><span class="hljs-comment">// ...</span>
<span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>propertyAccessor</span> = PropertyAccess<span class="hljs-operator">::</span>createPropertyAccessorBuilder()
    <span class="hljs-operator">-&gt;</span>enableExceptionOnInvalidIndex()
    <span class="hljs-operator">-&gt;</span>getPropertyAccessor();

<span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>person</span> = [
    <span class="hljs-string">'first_name'</span> =&gt; <span class="hljs-string">'Wouter'</span>,
];

<span class="hljs-comment">// instead of returning null, the code now throws an exception of type</span>
<span class="hljs-comment">// Symfony\Component\PropertyAccess\Exception\NoSuchIndexException</span>
<span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>value</span> = <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>propertyAccessor</span><span class="hljs-operator">-&gt;</span>getValue(<span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>person</span>, <span class="hljs-string">'[age]'</span>);

<span class="hljs-comment">// You can avoid the exception by adding the nullsafe operator</span>
<span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>value</span> = <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>propertyAccessor</span><span class="hljs-operator">-&gt;</span>getValue(<span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>person</span>, <span class="hljs-string">'[age?]'</span>);</pre>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
<p>You can also use multi dimensional arrays:</p>
<div translate="no" class="highlight-php notranslate">
    <table class="highlighttable">
        <tbody>
            <tr>
                <td class="linenos">
                    <div class="linenodiv">
                        <pre>1
2
3
4
5
6
7
8
9
10
11
12</pre>
                    </div>
                </td>
                <td class="code">
                    <div class="highlight">
                        <pre class="hljs php"><span class="hljs-comment">// ...</span>
<span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>persons</span> = [
    [
        <span class="hljs-string">'first_name'</span> =&gt; <span class="hljs-string">'Wouter'</span>,
    ],
    [
        <span class="hljs-string">'first_name'</span> =&gt; <span class="hljs-string">'Ryan'</span>,
    ],
];

var_dump(<span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>propertyAccessor</span><span class="hljs-operator">-&gt;</span>getValue(<span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>persons</span>, <span class="hljs-string">'[0][first_name]'</span>)); <span class="hljs-comment">// 'Wouter'</span>
var_dump(<span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>propertyAccessor</span><span class="hljs-operator">-&gt;</span>getValue(<span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>persons</span>, <span class="hljs-string">'[1][first_name]'</span>)); <span class="hljs-comment">// 'Ryan'</span></pre>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
<div class="admonition admonition-tip ">
    <p class="admonition-title">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" width="24" height="24" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z" /></svg>
                <span>Tip</span>
    </p><p>If the key of the array contains a dot <code translate="no" class="notranslate">.</code> or a left square bracket <code translate="no" class="notranslate">[</code>,
you must escape those characters with a backslash. In the above example,
if the array key was <code translate="no" class="notranslate">first.name</code> instead of <code translate="no" class="notranslate">first_name</code>, you should
access its value as follows:</p>
<div translate="no" class="highlight-php notranslate">
    <table class="highlighttable">
        <tbody>
            <tr>
                <td class="linenos">
                    <div class="linenodiv">
                        <pre>1
2</pre>
                    </div>
                </td>
                <td class="code">
                    <div class="highlight">
                        <pre class="hljs php">var_dump(<span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>propertyAccessor</span><span class="hljs-operator">-&gt;</span>getValue(<span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>persons</span>, <span class="hljs-string">'[0][first\.name]'</span>)); <span class="hljs-comment">// 'Wouter'</span>
var_dump(<span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>propertyAccessor</span><span class="hljs-operator">-&gt;</span>getValue(<span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>persons</span>, <span class="hljs-string">'[1][first\.name]'</span>)); <span class="hljs-comment">// 'Ryan'</span></pre>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
<p>Right square brackets <code translate="no" class="notranslate">]</code> don't need to be escaped in array keys.</p>
<div class="admonition admonition-versionadded ">
    <p class="admonition-title">
                                    <span>6.3</span>
    </p><p>Escaping dots and left square brackets in a property path was
introduced in Symfony 6.3.</p>
</div>
</div>
</div>
<div class="section">
<h2 id="reading-from-objects">
    Reading from Objects
    <a class="headerlink" href="#reading-from-objects" title="Permalink to this headline">¶</a>
</h2>
<p>The <code translate="no" class="notranslate">getValue()</code> method is a very robust method, and you can see all of its
features when working with objects.</p>
<div class="section">
<h3 id="accessing-public-properties">
    Accessing public Properties
    <a class="headerlink" href="#accessing-public-properties" title="Permalink to this headline">¶</a>
</h3>
<p>To read from properties, use the &quot;dot&quot; notation:</p>
<div translate="no" class="highlight-php notranslate">
    <table class="highlighttable">
        <tbody>
            <tr>
                <td class="linenos">
                    <div class="linenodiv">
                        <pre>1
2
3
4
5
6
7
8
9
10
11</pre>
                    </div>
                </td>
                <td class="code">
                    <div class="highlight">
                        <pre class="hljs php"><span class="hljs-comment">// ...</span>
<span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>person</span> = <span class="hljs-keyword">new</span> Person();
<span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>person</span><span class="hljs-operator">-&gt;</span>firstName = <span class="hljs-string">'Wouter'</span>;

var_dump(<span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>propertyAccessor</span><span class="hljs-operator">-&gt;</span>getValue(<span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>person</span>, <span class="hljs-string">'firstName'</span>)); <span class="hljs-comment">// 'Wouter'</span>

<span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>child</span> = <span class="hljs-keyword">new</span> Person();
<span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>child</span><span class="hljs-operator">-&gt;</span>firstName = <span class="hljs-string">'Bar'</span>;
<span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>person</span><span class="hljs-operator">-&gt;</span>children = [<span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>child</span>];

var_dump(<span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>propertyAccessor</span><span class="hljs-operator">-&gt;</span>getValue(<span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>person</span>, <span class="hljs-string">'children[0].firstName'</span>)); <span class="hljs-comment">// 'Bar'</span></pre>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
<div class="admonition admonition-caution ">
    <p class="admonition-title">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" width="24" height="24" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" /></svg>
                <span>Caution</span>
    </p><p>Accessing public properties is the last option used by <code translate="no" class="notranslate">PropertyAccessor</code>.
It tries to access the value using the below methods first before using
the property directly. For example, if you have a public property that
has a getter method, it will use the getter.</p>
</div>
</div>
<div class="section">
<h3 id="using-getters">
    Using Getters
    <a class="headerlink" href="#using-getters" title="Permalink to this headline">¶</a>
</h3>
<p>The <code translate="no" class="notranslate">getValue()</code> method also supports reading using getters. The method will
be created using common naming conventions for getters. It transforms the
property name to camelCase (<code translate="no" class="notranslate">first_name</code> becomes <code translate="no" class="notranslate">FirstName</code>) and prefixes
it with <code translate="no" class="notranslate">get</code>. So the actual method becomes <code translate="no" class="notranslate">getFirstName()</code>:</p>
<div translate="no" class="highlight-php notranslate">
    <table class="highlighttable">
        <tbody>
            <tr>
                <td class="linenos">
                    <div class="linenodiv">
                        <pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14</pre>
                    </div>
                </td>
                <td class="code">
                    <div class="highlight">
                        <pre class="hljs php"><span class="hljs-comment">// ...</span>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Person</span>
</span>{
    <span class="hljs-keyword">private</span> <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>firstName</span> = <span class="hljs-string">'Wouter'</span>;

    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getFirstName</span><span class="hljs-params">()</span>
    </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>this</span><span class="hljs-operator">-&gt;</span>firstName;
    }
}

<span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>person</span> = <span class="hljs-keyword">new</span> Person();

var_dump(<span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>propertyAccessor</span><span class="hljs-operator">-&gt;</span>getValue(<span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>person</span>, <span class="hljs-string">'first_name'</span>)); <span class="hljs-comment">// 'Wouter'</span></pre>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
</div>
<div class="section">
<h3 id="using-hassers-issers">
    Using Hassers/Issers
    <a class="headerlink" href="#using-hassers-issers" title="Permalink to this headline">¶</a>
</h3>
<p>And it doesn't even stop there. If there is no getter found, the accessor will
look for an isser or hasser. This method is created using the same way as
getters, this means that you can do something like this:</p>
<div translate="no" class="highlight-php notranslate">
    <table class="highlighttable">
        <tbody>
            <tr>
                <td class="linenos">
                    <div class="linenodiv">
                        <pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25</pre>
                    </div>
                </td>
                <td class="code">
                    <div class="highlight">
                        <pre class="hljs php"><span class="hljs-comment">// ...</span>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Person</span>
</span>{
    <span class="hljs-keyword">private</span> <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>author</span> = <span class="hljs-keyword">true</span>;
    <span class="hljs-keyword">private</span> <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>children</span> = [];

    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">isAuthor</span><span class="hljs-params">()</span>
    </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>this</span><span class="hljs-operator">-&gt;</span>author;
    }

    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">hasChildren</span><span class="hljs-params">()</span>
    </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-number">0</span> !== count(<span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>this</span><span class="hljs-operator">-&gt;</span>children);
    }
}

<span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>person</span> = <span class="hljs-keyword">new</span> Person();

<span class="hljs-keyword">if</span> (<span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>propertyAccessor</span><span class="hljs-operator">-&gt;</span>getValue(<span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>person</span>, <span class="hljs-string">'author'</span>)) {
    var_dump(<span class="hljs-string">'This person is an author'</span>);
}
<span class="hljs-keyword">if</span> (<span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>propertyAccessor</span><span class="hljs-operator">-&gt;</span>getValue(<span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>person</span>, <span class="hljs-string">'children'</span>)) {
    var_dump(<span class="hljs-string">'This person has children'</span>);
}</pre>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
<p>This will produce: <code translate="no" class="notranslate">This person is an author</code></p>
</div>
<div class="section">
<h3 id="accessing-a-non-existing-property-path">
    Accessing a non Existing Property Path
    <a class="headerlink" href="#accessing-a-non-existing-property-path" title="Permalink to this headline">¶</a>
</h3>
<p>By default a <a href="https://github.com/symfony/symfony/blob/5.4/src/Symfony/Component/PropertyAccess/Exception/NoSuchPropertyException.php" class="reference external" title="Symfony\Component\PropertyAccess\Exception\NoSuchPropertyException" rel="external noopener noreferrer" target="_blank">NoSuchPropertyException</a>
is thrown if the property path passed to <a href="https://github.com/symfony/symfony/blob/5.4/src/Symfony/Component/PropertyAccess/PropertyAccessor.php#method_getValue" class="reference external" title="Symfony\Component\PropertyAccess\PropertyAccessor::getValue()" rel="external noopener noreferrer" target="_blank">getValue()</a>
does not exist. You can change this behavior using the
<a href="https://github.com/symfony/symfony/blob/5.4/src/Symfony/Component/PropertyAccess/PropertyAccessorBuilder.php#method_disableExceptionOnInvalidPropertyPath" class="reference external" title="Symfony\Component\PropertyAccess\PropertyAccessorBuilder::disableExceptionOnInvalidPropertyPath()" rel="external noopener noreferrer" target="_blank">disableExceptionOnInvalidPropertyPath()</a>
method:</p>
<div translate="no" class="highlight-php notranslate">
    <table class="highlighttable">
        <tbody>
            <tr>
                <td class="linenos">
                    <div class="linenodiv">
                        <pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14</pre>
                    </div>
                </td>
                <td class="code">
                    <div class="highlight">
                        <pre class="hljs php"><span class="hljs-comment">// ...</span>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Person</span>
</span>{
    <span class="hljs-keyword">public</span> <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>name</span>;
}

<span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>person</span> = <span class="hljs-keyword">new</span> Person();

<span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>propertyAccessor</span> = PropertyAccess<span class="hljs-operator">::</span>createPropertyAccessorBuilder()
    <span class="hljs-operator">-&gt;</span>disableExceptionOnInvalidPropertyPath()
    <span class="hljs-operator">-&gt;</span>getPropertyAccessor();

<span class="hljs-comment">// instead of throwing an exception the following code returns null</span>
<span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>value</span> = <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>propertyAccessor</span><span class="hljs-operator">-&gt;</span>getValue(<span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>person</span>, <span class="hljs-string">'birthday'</span>);</pre>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
</div>
<div class="section">
<h3 id="accessing-nullable-property-paths">
    Accessing Nullable Property Paths
    <a class="headerlink" href="#accessing-nullable-property-paths" title="Permalink to this headline">¶</a>
</h3>
<p>Consider the following PHP code:</p>
<div translate="no" class="highlight-php notranslate">
    <table class="highlighttable">
        <tbody>
            <tr>
                <td class="linenos">
                    <div class="linenodiv">
                        <pre>1
2
3
4
5
6
7
8
9
10
11
12</pre>
                    </div>
                </td>
                <td class="code">
                    <div class="highlight">
                        <pre class="hljs php"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Person</span>
</span>{
}

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Comment</span>
</span>{
    <span class="hljs-keyword">public</span> ?Person <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>person</span> = <span class="hljs-keyword">null</span>;
    <span class="hljs-keyword">public</span> string <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>message</span>;
}

<span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>comment</span> = <span class="hljs-keyword">new</span> Comment();
<span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>comment</span><span class="hljs-operator">-&gt;</span>message = <span class="hljs-string">'test'</span>;</pre>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
<p>Given that <code translate="no" class="notranslate">$person</code> is nullable, an object graph like <code translate="no" class="notranslate">comment.person.profile</code>
will trigger an exception when the <code translate="no" class="notranslate">$person</code> property is <code translate="no" class="notranslate">null</code>. The solution
is to mark all nullable properties with the nullsafe operator (<code translate="no" class="notranslate">?</code>):</p>
<div translate="no" class="highlight-php notranslate">
    <table class="highlighttable">
        <tbody>
            <tr>
                <td class="linenos">
                    <div class="linenodiv">
                        <pre>1
2
3
4
5
6
7</pre>
                    </div>
                </td>
                <td class="code">
                    <div class="highlight">
                        <pre class="hljs php"><span class="hljs-comment">// This code throws an exception of type</span>
<span class="hljs-comment">// Symfony\Component\PropertyAccess\Exception\UnexpectedTypeException</span>
var_dump(<span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>propertyAccessor</span><span class="hljs-operator">-&gt;</span>getValue(<span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>comment</span>, <span class="hljs-string">'person.firstname'</span>));

<span class="hljs-comment">// If a property marked with the nullsafe operator is null, the expression is</span>
<span class="hljs-comment">// no longer evaluated and null is returned immediately without throwing an exception</span>
var_dump(<span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>propertyAccessor</span><span class="hljs-operator">-&gt;</span>getValue(<span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>comment</span>, <span class="hljs-string">'person?.firstname'</span>)); <span class="hljs-comment">// null</span></pre>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
<div class="admonition admonition-versionadded ">
    <p class="admonition-title">
                                    <span>6.2</span>
    </p><p>The <code translate="no" class="notranslate">?</code> nullsafe operator was introduced in Symfony 6.2.</p>
</div>
<span id="components-property-access-magic-get"></span>
</div>
<div class="section">
<h3 id="magic-get-method">
    Magic <code translate="no" class="notranslate">__get()</code> Method
    <a class="headerlink" href="#magic-get-method" title="Permalink to this headline">¶</a>
</h3>
<p>The <code translate="no" class="notranslate">getValue()</code> method can also use the magic <code translate="no" class="notranslate">__get()</code> method:</p>
<div translate="no" class="highlight-php notranslate">
    <table class="highlighttable">
        <tbody>
            <tr>
                <td class="linenos">
                    <div class="linenodiv">
                        <pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16</pre>
                    </div>
                </td>
                <td class="code">
                    <div class="highlight">
                        <pre class="hljs php"><span class="hljs-comment">// ...</span>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Person</span>
</span>{
    <span class="hljs-keyword">private</span> <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>children</span> = [
        <span class="hljs-string">'Wouter'</span> =&gt; [...],
    ];

    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">__get</span><span class="hljs-params">(<span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>id</span>)</span>
    </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>this</span><span class="hljs-operator">-&gt;</span>children[<span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>id</span>];
    }
}

<span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>person</span> = <span class="hljs-keyword">new</span> Person();

var_dump(<span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>propertyAccessor</span><span class="hljs-operator">-&gt;</span>getValue(<span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>person</span>, <span class="hljs-string">'Wouter'</span>)); <span class="hljs-comment">// [...]</span></pre>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
<div class="admonition admonition-note ">
    <p class="admonition-title">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" width="24" height="24" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z" /></svg>
                <span>Note</span>
    </p><p>The <code translate="no" class="notranslate">__get()</code> method support is enabled by default.
See <a href="property_access.html#enable-other-features" class="reference internal">Enable other Features</a> if you want to disable it.</p>
</div>
<span id="components-property-access-magic-call"></span>
</div>
<div class="section">
<h3 id="magic-call-method">
    Magic <code translate="no" class="notranslate">__call()</code> Method
    <a class="headerlink" href="#magic-call-method" title="Permalink to this headline">¶</a>
</h3>
<p>Lastly, <code translate="no" class="notranslate">getValue()</code> can use the magic <code translate="no" class="notranslate">__call()</code> method, but you need to
enable this feature by using <a href="https://github.com/symfony/symfony/blob/5.4/src/Symfony/Component/PropertyAccess/PropertyAccessorBuilder.php" class="reference external" title="Symfony\Component\PropertyAccess\PropertyAccessorBuilder" rel="external noopener noreferrer" target="_blank">PropertyAccessorBuilder</a>:</p>
<div translate="no" class="highlight-php notranslate">
    <table class="highlighttable">
        <tbody>
            <tr>
                <td class="linenos">
                    <div class="linenodiv">
                        <pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27</pre>
                    </div>
                </td>
                <td class="code">
                    <div class="highlight">
                        <pre class="hljs php"><span class="hljs-comment">// ...</span>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Person</span>
</span>{
    <span class="hljs-keyword">private</span> <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>children</span> = [
        <span class="hljs-string">'wouter'</span> =&gt; [...],
    ];

    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">__call</span><span class="hljs-params">(<span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>name</span>, <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>args</span>)</span>
    </span>{
        <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>property</span> = lcfirst(substr(<span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>name</span>, <span class="hljs-number">3</span>));
        <span class="hljs-keyword">if</span> (<span class="hljs-string">'get'</span> === substr(<span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>name</span>, <span class="hljs-number">0</span>, <span class="hljs-number">3</span>)) {
            <span class="hljs-keyword">return</span> <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>this</span><span class="hljs-operator">-&gt;</span>children[<span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>property</span>] ?? <span class="hljs-keyword">null</span>;
        } <span class="hljs-keyword">elseif</span> (<span class="hljs-string">'set'</span> === substr(<span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>name</span>, <span class="hljs-number">0</span>, <span class="hljs-number">3</span>)) {
            <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>value</span> = <span class="hljs-number">1</span> == count(<span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>args</span>) ? <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>args</span>[<span class="hljs-number">0</span>] : <span class="hljs-keyword">null</span>;
            <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>this</span><span class="hljs-operator">-&gt;</span>children[<span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>property</span>] = <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>value</span>;
        }
    }
}

<span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>person</span> = <span class="hljs-keyword">new</span> Person();

<span class="hljs-comment">// enables PHP __call() magic method</span>
<span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>propertyAccessor</span> = PropertyAccess<span class="hljs-operator">::</span>createPropertyAccessorBuilder()
    <span class="hljs-operator">-&gt;</span>enableMagicCall()
    <span class="hljs-operator">-&gt;</span>getPropertyAccessor();

var_dump(<span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>propertyAccessor</span><span class="hljs-operator">-&gt;</span>getValue(<span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>person</span>, <span class="hljs-string">'wouter'</span>)); <span class="hljs-comment">// [...]</span></pre>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
<div class="admonition admonition-caution ">
    <p class="admonition-title">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" width="24" height="24" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" /></svg>
                <span>Caution</span>
    </p><p>The <code translate="no" class="notranslate">__call()</code> feature is disabled by default, you can enable it by calling
<a href="https://github.com/symfony/symfony/blob/5.4/src/Symfony/Component/PropertyAccess/PropertyAccessorBuilder.php#method_enableMagicCall" class="reference external" title="Symfony\Component\PropertyAccess\PropertyAccessorBuilder::enableMagicCall()" rel="external noopener noreferrer" target="_blank">enableMagicCall()</a>
see <a href="property_access.html#enable-other-features" class="reference internal">Enable other Features</a>.</p>
</div>
</div>
</div>
<div class="section">
<h2 id="writing-to-arrays">
    Writing to Arrays
    <a class="headerlink" href="#writing-to-arrays" title="Permalink to this headline">¶</a>
</h2>
<p>The <code translate="no" class="notranslate">PropertyAccessor</code> class can do more than just read an array, it can
also write to an array. This can be achieved using the
<a href="https://github.com/symfony/symfony/blob/5.4/src/Symfony/Component/PropertyAccess/PropertyAccessor.php#method_setValue" class="reference external" title="Symfony\Component\PropertyAccess\PropertyAccessor::setValue()" rel="external noopener noreferrer" target="_blank">setValue()</a> method:</p>
<div translate="no" class="highlight-php notranslate">
    <table class="highlighttable">
        <tbody>
            <tr>
                <td class="linenos">
                    <div class="linenodiv">
                        <pre>1
2
3
4
5
6
7
8</pre>
                    </div>
                </td>
                <td class="code">
                    <div class="highlight">
                        <pre class="hljs php"><span class="hljs-comment">// ...</span>
<span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>person</span> = [];

<span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>propertyAccessor</span><span class="hljs-operator">-&gt;</span>setValue(<span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>person</span>, <span class="hljs-string">'[first_name]'</span>, <span class="hljs-string">'Wouter'</span>);

var_dump(<span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>propertyAccessor</span><span class="hljs-operator">-&gt;</span>getValue(<span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>person</span>, <span class="hljs-string">'[first_name]'</span>)); <span class="hljs-comment">// 'Wouter'</span>
<span class="hljs-comment">// or</span>
<span class="hljs-comment">// var_dump($person['first_name']); // 'Wouter'</span></pre>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
<span id="components-property-access-writing-to-objects"></span>
</div>
<div class="section">
<h2 id="writing-to-objects">
    Writing to Objects
    <a class="headerlink" href="#writing-to-objects" title="Permalink to this headline">¶</a>
</h2>
<p>The <code translate="no" class="notranslate">setValue()</code> method has the same features as the <code translate="no" class="notranslate">getValue()</code> method. You
can use setters, the magic <code translate="no" class="notranslate">__set()</code> method or properties to set values:</p>
<div translate="no" class="highlight-php notranslate">
    <table class="highlighttable">
        <tbody>
            <tr>
                <td class="linenos">
                    <div class="linenodiv">
                        <pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37</pre>
                    </div>
                </td>
                <td class="code">
                    <div class="highlight">
                        <pre class="hljs php"><span class="hljs-comment">// ...</span>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Person</span>
</span>{
    <span class="hljs-keyword">public</span> <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>firstName</span>;
    <span class="hljs-keyword">private</span> <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>lastName</span>;
    <span class="hljs-keyword">private</span> <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>children</span> = [];

    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">setLastName</span><span class="hljs-params">(<span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>name</span>)</span>
    </span>{
        <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>this</span><span class="hljs-operator">-&gt;</span>lastName = <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>name</span>;
    }

    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getLastName</span><span class="hljs-params">()</span>
    </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>this</span><span class="hljs-operator">-&gt;</span>lastName;
    }

    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getChildren</span><span class="hljs-params">()</span>
    </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>this</span><span class="hljs-operator">-&gt;</span>children;
    }

    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">__set</span><span class="hljs-params">(<span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>property</span>, <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>value</span>)</span>
    </span>{
        <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>this</span><span class="hljs-operator">-&gt;$</span>property = <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>value</span>;
    }
}

<span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>person</span> = <span class="hljs-keyword">new</span> Person();

<span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>propertyAccessor</span><span class="hljs-operator">-&gt;</span>setValue(<span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>person</span>, <span class="hljs-string">'firstName'</span>, <span class="hljs-string">'Wouter'</span>);
<span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>propertyAccessor</span><span class="hljs-operator">-&gt;</span>setValue(<span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>person</span>, <span class="hljs-string">'lastName'</span>, <span class="hljs-string">'de Jong'</span>); <span class="hljs-comment">// setLastName is called</span>
<span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>propertyAccessor</span><span class="hljs-operator">-&gt;</span>setValue(<span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>person</span>, <span class="hljs-string">'children'</span>, [<span class="hljs-keyword">new</span> Person()]); <span class="hljs-comment">// __set is called</span>

var_dump(<span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>person</span><span class="hljs-operator">-&gt;</span>firstName); <span class="hljs-comment">// 'Wouter'</span>
var_dump(<span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>person</span><span class="hljs-operator">-&gt;</span>getLastName()); <span class="hljs-comment">// 'de Jong'</span>
var_dump(<span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>person</span><span class="hljs-operator">-&gt;</span>getChildren()); <span class="hljs-comment">// [Person()];</span></pre>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
<p>You can also use <code translate="no" class="notranslate">__call()</code> to set values but you need to enable the feature,
see <a href="property_access.html#enable-other-features" class="reference internal">Enable other Features</a>:</p>
<div translate="no" class="highlight-php notranslate">
    <table class="highlighttable">
        <tbody>
            <tr>
                <td class="linenos">
                    <div class="linenodiv">
                        <pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28</pre>
                    </div>
                </td>
                <td class="code">
                    <div class="highlight">
                        <pre class="hljs php"><span class="hljs-comment">// ...</span>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Person</span>
</span>{
    <span class="hljs-keyword">private</span> <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>children</span> = [];

    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">__call</span><span class="hljs-params">(<span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>name</span>, <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>args</span>)</span>
    </span>{
        <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>property</span> = lcfirst(substr(<span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>name</span>, <span class="hljs-number">3</span>));
        <span class="hljs-keyword">if</span> (<span class="hljs-string">'get'</span> === substr(<span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>name</span>, <span class="hljs-number">0</span>, <span class="hljs-number">3</span>)) {
            <span class="hljs-keyword">return</span> <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>this</span><span class="hljs-operator">-&gt;</span>children[<span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>property</span>] ?? <span class="hljs-keyword">null</span>;
        } <span class="hljs-keyword">elseif</span> (<span class="hljs-string">'set'</span> === substr(<span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>name</span>, <span class="hljs-number">0</span>, <span class="hljs-number">3</span>)) {
            <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>value</span> = <span class="hljs-number">1</span> == count(<span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>args</span>) ? <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>args</span>[<span class="hljs-number">0</span>] : <span class="hljs-keyword">null</span>;
            <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>this</span><span class="hljs-operator">-&gt;</span>children[<span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>property</span>] = <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>value</span>;
        }
    }

}

<span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>person</span> = <span class="hljs-keyword">new</span> Person();

<span class="hljs-comment">// Enable magic __call</span>
<span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>propertyAccessor</span> = PropertyAccess<span class="hljs-operator">::</span>createPropertyAccessorBuilder()
    <span class="hljs-operator">-&gt;</span>enableMagicCall()
    <span class="hljs-operator">-&gt;</span>getPropertyAccessor();

<span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>propertyAccessor</span><span class="hljs-operator">-&gt;</span>setValue(<span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>person</span>, <span class="hljs-string">'wouter'</span>, [...]);

var_dump(<span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>person</span><span class="hljs-operator">-&gt;</span>getWouter()); <span class="hljs-comment">// [...]</span></pre>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
<div class="admonition admonition-note ">
    <p class="admonition-title">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" width="24" height="24" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z" /></svg>
                <span>Note</span>
    </p><p>The <code translate="no" class="notranslate">__set()</code> method support is enabled by default.
See <a href="property_access.html#enable-other-features" class="reference internal">Enable other Features</a> if you want to disable it.</p>
</div>
<div class="section">
<h3 id="writing-to-array-properties">
    Writing to Array Properties
    <a class="headerlink" href="#writing-to-array-properties" title="Permalink to this headline">¶</a>
</h3>
<p>The <code translate="no" class="notranslate">PropertyAccessor</code> class allows to update the content of arrays stored in
properties through <em>adder</em> and <em>remover</em> methods:</p>
<div translate="no" class="highlight-php notranslate">
    <table class="highlighttable">
        <tbody>
            <tr>
                <td class="linenos">
                    <div class="linenodiv">
                        <pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28</pre>
                    </div>
                </td>
                <td class="code">
                    <div class="highlight">
                        <pre class="hljs php"><span class="hljs-comment">// ...</span>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Person</span>
</span>{
    <span class="hljs-comment">/**
     * <span class="hljs-doctag">@var</span> string[]
     */</span>
    <span class="hljs-keyword">private</span> <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>children</span> = [];

    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getChildren</span><span class="hljs-params">()</span>: <span class="hljs-title">array</span>
    </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>this</span><span class="hljs-operator">-&gt;</span>children;
    }

    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">addChild</span><span class="hljs-params">(string <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>name</span>)</span>: <span class="hljs-title">void</span>
    </span>{
        <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>this</span><span class="hljs-operator">-&gt;</span>children[<span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>name</span>] = <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>name</span>;
    }

    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">removeChild</span><span class="hljs-params">(string <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>name</span>)</span>: <span class="hljs-title">void</span>
    </span>{
        <span class="hljs-keyword">unset</span>(<span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>this</span><span class="hljs-operator">-&gt;</span>children[<span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>name</span>]);
    }
}

<span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>person</span> = <span class="hljs-keyword">new</span> Person();
<span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>propertyAccessor</span><span class="hljs-operator">-&gt;</span>setValue(<span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>person</span>, <span class="hljs-string">'children'</span>, [<span class="hljs-string">'kevin'</span>, <span class="hljs-string">'wouter'</span>]);

var_dump(<span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>person</span><span class="hljs-operator">-&gt;</span>getChildren()); <span class="hljs-comment">// ['kevin', 'wouter']</span></pre>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
<p>The PropertyAccess component checks for methods called <code translate="no" class="notranslate">add&lt;SingularOfThePropertyName&gt;()</code>
and <code translate="no" class="notranslate">remove&lt;SingularOfThePropertyName&gt;()</code>. Both methods must be defined.
For instance, in the previous example, the component looks for the <code translate="no" class="notranslate">addChild()</code>
and <code translate="no" class="notranslate">removeChild()</code> methods to access the <code translate="no" class="notranslate">children</code> property.
<a href="https://github.com/symfony/string" class="reference external" rel="external noopener noreferrer" target="_blank">The String component</a> inflector is used to find the singular of a property name.</p>
<p>If available, <em>adder</em> and <em>remover</em> methods have priority over a <em>setter</em> method.</p>
</div>
<div class="section">
<h3 id="using-non-standard-adder-remover-methods">
    Using non-standard adder/remover methods
    <a class="headerlink" href="#using-non-standard-adder-remover-methods" title="Permalink to this headline">¶</a>
</h3>
<p>Sometimes, adder and remover methods don't use the standard <code translate="no" class="notranslate">add</code> or <code translate="no" class="notranslate">remove</code> prefix, like in this example:</p>
<div translate="no" class="highlight-php notranslate">
    <table class="highlighttable">
        <tbody>
            <tr>
                <td class="linenos">
                    <div class="linenodiv">
                        <pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30</pre>
                    </div>
                </td>
                <td class="code">
                    <div class="highlight">
                        <pre class="hljs php"><span class="hljs-comment">// ...</span>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">PeopleList</span>
</span>{
    <span class="hljs-comment">// ...</span>

    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">joinPeople</span><span class="hljs-params">(string <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>people</span>)</span>: <span class="hljs-title">void</span>
    </span>{
        <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>this</span><span class="hljs-operator">-&gt;</span>peoples[] = <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>people</span>;
    }

    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">leavePeople</span><span class="hljs-params">(string <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>people</span>)</span>: <span class="hljs-title">void</span>
    </span>{
        <span class="hljs-keyword">foreach</span> (<span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>this</span><span class="hljs-operator">-&gt;</span>peoples <span class="hljs-keyword">as</span> <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>id</span> =&gt; <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>item</span>) {
            <span class="hljs-keyword">if</span> (<span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>people</span> === <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>item</span>) {
                <span class="hljs-keyword">unset</span>(<span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>this</span><span class="hljs-operator">-&gt;</span>peoples[<span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>id</span>]);
                <span class="hljs-keyword">break</span>;
            }
        }
    }
}

<span class="hljs-keyword">use</span> <span class="hljs-title">Symfony</span>\<span class="hljs-title">Component</span>\<span class="hljs-title">PropertyInfo</span>\<span class="hljs-title">Extractor</span>\<span class="hljs-title">ReflectionExtractor</span>;
<span class="hljs-keyword">use</span> <span class="hljs-title">Symfony</span>\<span class="hljs-title">Component</span>\<span class="hljs-title">PropertyAccess</span>\<span class="hljs-title">PropertyAccessor</span>;

<span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>list</span> = <span class="hljs-keyword">new</span> PeopleList();
<span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>reflectionExtractor</span> = <span class="hljs-keyword">new</span> ReflectionExtractor(<span class="hljs-keyword">null</span>, <span class="hljs-keyword">null</span>, [<span class="hljs-string">'join'</span>, <span class="hljs-string">'leave'</span>]);
<span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>propertyAccessor</span> = <span class="hljs-keyword">new</span> PropertyAccessor(PropertyAccessor<span class="hljs-operator">::</span>DISALLOW_MAGIC_METHODS, PropertyAccessor<span class="hljs-operator">::</span>THROW_ON_INVALID_PROPERTY_PATH, <span class="hljs-keyword">null</span>, <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>reflectionExtractor</span>, <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>reflectionExtractor</span>);
<span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>propertyAccessor</span><span class="hljs-operator">-&gt;</span>setValue(<span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>person</span>, <span class="hljs-string">'peoples'</span>, [<span class="hljs-string">'kevin'</span>, <span class="hljs-string">'wouter'</span>]);

var_dump(<span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>person</span><span class="hljs-operator">-&gt;</span>getPeoples()); <span class="hljs-comment">// ['kevin', 'wouter']</span></pre>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
<p>Instead of calling <code translate="no" class="notranslate">add&lt;SingularOfThePropertyName&gt;()</code> and <code translate="no" class="notranslate">remove&lt;SingularOfThePropertyName&gt;()</code>, the PropertyAccess
component will call <code translate="no" class="notranslate">join&lt;SingularOfThePropertyName&gt;()</code> and <code translate="no" class="notranslate">leave&lt;SingularOfThePropertyName&gt;()</code> methods.</p>
</div>
</div>
<div class="section">
<h2 id="checking-property-paths">
    Checking Property Paths
    <a class="headerlink" href="#checking-property-paths" title="Permalink to this headline">¶</a>
</h2>
<p>When you want to check whether
<a href="https://github.com/symfony/symfony/blob/5.4/src/Symfony/Component/PropertyAccess/PropertyAccessor.php#method_getValue" class="reference external" title="Symfony\Component\PropertyAccess\PropertyAccessor::getValue()" rel="external noopener noreferrer" target="_blank">getValue()</a> can
safely be called without actually calling that method, you can use
<a href="https://github.com/symfony/symfony/blob/5.4/src/Symfony/Component/PropertyAccess/PropertyAccessor.php#method_isReadable" class="reference external" title="Symfony\Component\PropertyAccess\PropertyAccessor::isReadable()" rel="external noopener noreferrer" target="_blank">isReadable()</a> instead:</p>
<div translate="no" class="highlight-php notranslate">
    <table class="highlighttable">
        <tbody>
            <tr>
                <td class="linenos">
                    <div class="linenodiv">
                        <pre>1
2
3
4
5</pre>
                    </div>
                </td>
                <td class="code">
                    <div class="highlight">
                        <pre class="hljs php"><span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>person</span> = <span class="hljs-keyword">new</span> Person();

<span class="hljs-keyword">if</span> (<span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>propertyAccessor</span><span class="hljs-operator">-&gt;</span>isReadable(<span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>person</span>, <span class="hljs-string">'firstName'</span>)) {
    <span class="hljs-comment">// ...</span>
}</pre>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
<p>The same is possible for <a href="https://github.com/symfony/symfony/blob/5.4/src/Symfony/Component/PropertyAccess/PropertyAccessor.php#method_setValue" class="reference external" title="Symfony\Component\PropertyAccess\PropertyAccessor::setValue()" rel="external noopener noreferrer" target="_blank">setValue()</a>:
Call the <a href="https://github.com/symfony/symfony/blob/5.4/src/Symfony/Component/PropertyAccess/PropertyAccessor.php#method_isWritable" class="reference external" title="Symfony\Component\PropertyAccess\PropertyAccessor::isWritable()" rel="external noopener noreferrer" target="_blank">isWritable()</a>
method to find out whether a property path can be updated:</p>
<div translate="no" class="highlight-php notranslate">
    <table class="highlighttable">
        <tbody>
            <tr>
                <td class="linenos">
                    <div class="linenodiv">
                        <pre>1
2
3
4
5</pre>
                    </div>
                </td>
                <td class="code">
                    <div class="highlight">
                        <pre class="hljs php"><span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>person</span> = <span class="hljs-keyword">new</span> Person();

<span class="hljs-keyword">if</span> (<span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>propertyAccessor</span><span class="hljs-operator">-&gt;</span>isWritable(<span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>person</span>, <span class="hljs-string">'firstName'</span>)) {
    <span class="hljs-comment">// ...</span>
}</pre>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
</div>
<div class="section">
<h2 id="mixing-objects-and-arrays">
    Mixing Objects and Arrays
    <a class="headerlink" href="#mixing-objects-and-arrays" title="Permalink to this headline">¶</a>
</h2>
<p>You can also mix objects and arrays:</p>
<div translate="no" class="highlight-php notranslate">
    <table class="highlighttable">
        <tbody>
            <tr>
                <td class="linenos">
                    <div class="linenodiv">
                        <pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27</pre>
                    </div>
                </td>
                <td class="code">
                    <div class="highlight">
                        <pre class="hljs php"><span class="hljs-comment">// ...</span>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Person</span>
</span>{
    <span class="hljs-keyword">public</span> <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>firstName</span>;
    <span class="hljs-keyword">private</span> <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>children</span> = [];

    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">setChildren</span><span class="hljs-params">(<span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>children</span>)</span>
    </span>{
        <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>this</span><span class="hljs-operator">-&gt;</span>children = <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>children</span>;
    }

    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getChildren</span><span class="hljs-params">()</span>
    </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>this</span><span class="hljs-operator">-&gt;</span>children;
    }
}

<span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>person</span> = <span class="hljs-keyword">new</span> Person();

<span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>propertyAccessor</span><span class="hljs-operator">-&gt;</span>setValue(<span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>person</span>, <span class="hljs-string">'children[0]'</span>, <span class="hljs-keyword">new</span> Person);
<span class="hljs-comment">// equal to $person-&gt;getChildren()[0] = new Person()</span>

<span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>propertyAccessor</span><span class="hljs-operator">-&gt;</span>setValue(<span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>person</span>, <span class="hljs-string">'children[0].firstName'</span>, <span class="hljs-string">'Wouter'</span>);
<span class="hljs-comment">// equal to $person-&gt;getChildren()[0]-&gt;firstName = 'Wouter'</span>

var_dump(<span class="hljs-string">'Hello '</span>.<span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>propertyAccessor</span><span class="hljs-operator">-&gt;</span>getValue(<span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>person</span>, <span class="hljs-string">'children[0].firstName'</span>)); <span class="hljs-comment">// 'Wouter'</span>
<span class="hljs-comment">// equal to $person-&gt;getChildren()[0]-&gt;firstName</span></pre>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
<div class="section">
<h3 id="enable-other-features">
    Enable other Features
    <a class="headerlink" href="#enable-other-features" title="Permalink to this headline">¶</a>
</h3>
<p>The <a href="https://github.com/symfony/symfony/blob/5.4/src/Symfony/Component/PropertyAccess/PropertyAccessor.php" class="reference external" title="Symfony\Component\PropertyAccess\PropertyAccessor" rel="external noopener noreferrer" target="_blank">PropertyAccessor</a> can be
configured to enable extra features. To do that you could use the
<a href="https://github.com/symfony/symfony/blob/5.4/src/Symfony/Component/PropertyAccess/PropertyAccessorBuilder.php" class="reference external" title="Symfony\Component\PropertyAccess\PropertyAccessorBuilder" rel="external noopener noreferrer" target="_blank">PropertyAccessorBuilder</a>:</p>
<div translate="no" class="highlight-php notranslate">
    <table class="highlighttable">
        <tbody>
            <tr>
                <td class="linenos">
                    <div class="linenodiv">
                        <pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25</pre>
                    </div>
                </td>
                <td class="code">
                    <div class="highlight">
                        <pre class="hljs php"><span class="hljs-comment">// ...</span>
<span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>propertyAccessorBuilder</span> = PropertyAccess<span class="hljs-operator">::</span>createPropertyAccessorBuilder();

<span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>propertyAccessorBuilder</span><span class="hljs-operator">-&gt;</span>enableMagicCall(); <span class="hljs-comment">// enables magic __call</span>
<span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>propertyAccessorBuilder</span><span class="hljs-operator">-&gt;</span>enableMagicGet(); <span class="hljs-comment">// enables magic __get</span>
<span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>propertyAccessorBuilder</span><span class="hljs-operator">-&gt;</span>enableMagicSet(); <span class="hljs-comment">// enables magic __set</span>
<span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>propertyAccessorBuilder</span><span class="hljs-operator">-&gt;</span>enableMagicMethods(); <span class="hljs-comment">// enables magic __get, __set and __call</span>

<span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>propertyAccessorBuilder</span><span class="hljs-operator">-&gt;</span>disableMagicCall(); <span class="hljs-comment">// disables magic __call</span>
<span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>propertyAccessorBuilder</span><span class="hljs-operator">-&gt;</span>disableMagicGet(); <span class="hljs-comment">// disables magic __get</span>
<span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>propertyAccessorBuilder</span><span class="hljs-operator">-&gt;</span>disableMagicSet(); <span class="hljs-comment">// disables magic __set</span>
<span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>propertyAccessorBuilder</span><span class="hljs-operator">-&gt;</span>disableMagicMethods(); <span class="hljs-comment">// disables magic __get, __set and __call</span>

<span class="hljs-comment">// checks if magic __call, __get or __set handling are enabled</span>
<span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>propertyAccessorBuilder</span><span class="hljs-operator">-&gt;</span>isMagicCallEnabled(); <span class="hljs-comment">// true or false</span>
<span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>propertyAccessorBuilder</span><span class="hljs-operator">-&gt;</span>isMagicGetEnabled(); <span class="hljs-comment">// true or false</span>
<span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>propertyAccessorBuilder</span><span class="hljs-operator">-&gt;</span>isMagicSetEnabled(); <span class="hljs-comment">// true or false</span>

<span class="hljs-comment">// At the end get the configured property accessor</span>
<span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>propertyAccessor</span> = <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>propertyAccessorBuilder</span><span class="hljs-operator">-&gt;</span>getPropertyAccessor();

<span class="hljs-comment">// Or all in one</span>
<span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>propertyAccessor</span> = PropertyAccess<span class="hljs-operator">::</span>createPropertyAccessorBuilder()
    <span class="hljs-operator">-&gt;</span>enableMagicCall()
    <span class="hljs-operator">-&gt;</span>getPropertyAccessor();</pre>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
<p>Or you can pass parameters directly to the constructor (not the recommended way):</p>
<div translate="no" class="highlight-php notranslate">
    <table class="highlighttable">
        <tbody>
            <tr>
                <td class="linenos">
                    <div class="linenodiv">
                        <pre>1
2</pre>
                    </div>
                </td>
                <td class="code">
                    <div class="highlight">
                        <pre class="hljs php"><span class="hljs-comment">// enable handling of magic __call, __set but not __get:</span>
<span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>propertyAccessor</span> = <span class="hljs-keyword">new</span> PropertyAccessor(PropertyAccessor<span class="hljs-operator">::</span>MAGIC_CALL | PropertyAccessor<span class="hljs-operator">::</span>MAGIC_SET);</pre>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
</div>
</div>
</div>

                            </div>                    </div>
                                    </div>        </div>

    </section>

</div>


<script type="text/javascript" src="assets/js/theme.js"></script>
<script type="text/javascript" src="assets/js/badge_only.js"></script>

 
</body>
</html>