        
<!DOCTYPE html>
<!--[if IE 8]>
<html class="no-js lt-ie9" lang="en"> <![endif]-->
<!--[if gt IE 8]><!-->
<html class="no-js" lang="en"> <!--<![endif]-->
<head><base href="/">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
            
                                
    
    <link rel="stylesheet" href="assets/css/theme.css" type="text/css" />
    <link rel="stylesheet" href="assets/css/highlightjs.css" type="text/css" />
    <link rel="stylesheet" href="assets/css/badge_only.css" type="text/css" />

</head>

<body class="wy-body-for-nav">
 <div class="wy-grid-for-nav">

        <nav data-toggle="wy-nav-shift" class="wy-nav-side">
        <div class="wy-side-scroll">
            <div class="wy-side-nav-search">
                
                                                                                                    
                                                                                                                                                                        </div>

            <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
                                                                                                                                                                                                                                                                                                                            </div>
        </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

                                                        

        <div class="wy-nav-content">                <div class="rst-content">
                                        <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">                            <div itemprop="articleBody">
                                    <div class="section">
<h1 id="the-form-component">
    The Form Component
    <a class="headerlink" href="#the-form-component" title="Permalink to this headline">¶</a>
</h1>
<blockquote><p>The Form component allows you to create, process and reuse forms.</p>
</blockquote>
<p>The Form component is a tool to help you solve the problem of allowing end-users
to interact with the data and modify the data in your application. And though
traditionally this has been through HTML forms, the component focuses on
processing data to and from your client and application, whether that data
be from a normal form post or from an API.</p>
<div class="section">
<h2 id="installation">
    Installation
    <a class="headerlink" href="#installation" title="Permalink to this headline">¶</a>
</h2>
<div translate="no" class="highlight-terminal highlight-bash notranslate">
    <table class="highlighttable">
        <tbody>
            <tr>
                <td class="linenos">
                    <div class="linenodiv">
                        <pre>1</pre>
                    </div>
                </td>
                <td class="code">
                    <div class="highlight">
                        <pre class="hljs terminal bash"><span class="hljs-prompt">$ </span>composer require symfony/form</pre>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
<div class="admonition admonition-note ">
    <p class="admonition-title">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" width="24" height="24" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z" /></svg>
                <span>Note</span>
    </p><p>If you install this component outside of a Symfony application, you must
require the <code translate="no" class="notranslate">vendor/autoload.php</code> file in your code to enable the class
autoloading mechanism provided by Composer. Read
<a href="using_components.html" class="reference internal">this article</a> for more details.</p>
</div>
</div>
<div class="section">
<h2 id="configuration">
    Configuration
    <a class="headerlink" href="#configuration" title="Permalink to this headline">¶</a>
</h2>
<div class="admonition admonition-seealso ">
    <p class="admonition-title">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" width="24" height="24" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1" /></svg>
                <span>See also</span>
    </p><p>This article explains how to use the Form features as an independent
component in any PHP application. Read the <a href="../forms.html" class="reference internal">Forms</a> article to learn
about how to use it in Symfony applications.</p>
</div>
<p>In Symfony, forms are represented by objects and these objects are built
by using a <em>form factory</em>. Building a form factory is done with the factory
method <code translate="no" class="notranslate">Forms::createFormFactory</code>:</p>
<div translate="no" class="highlight-php notranslate">
    <table class="highlighttable">
        <tbody>
            <tr>
                <td class="linenos">
                    <div class="linenodiv">
                        <pre>1
2
3</pre>
                    </div>
                </td>
                <td class="code">
                    <div class="highlight">
                        <pre class="hljs php"><span class="hljs-keyword">use</span> <span class="hljs-title">Symfony</span>\<span class="hljs-title">Component</span>\<span class="hljs-title">Form</span>\<span class="hljs-title">Forms</span>;

<span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>formFactory</span> = Forms<span class="hljs-operator">::</span>createFormFactory();</pre>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
<p>This factory can already be used to create basic forms, but it is lacking
support for very important features:</p>
<ul>
    <li><strong>Request Handling:</strong> Support for request handling and file uploads;</li>
<li><strong>CSRF Protection:</strong> Support for protection against Cross-Site-Request-Forgery
(CSRF) attacks;</li>
<li><strong>Templating:</strong> Integration with a templating layer that allows you to reuse
HTML fragments when rendering a form;</li>
<li><strong>Translation:</strong> Support for translating error messages, field labels and
other strings;</li>
<li><strong>Validation:</strong> Integration with a validation library to generate error
messages for submitted data.</li>
</ul>
<p>The Symfony Form component relies on other libraries to solve these problems.
Most of the time you will use Twig and the Symfony
<a href="http_foundation.html" class="reference internal">HttpFoundation</a>,
<a href="../translation.html" class="reference internal">Translation</a> and <a href="validator.html" class="reference internal">Validator</a>
components, but you can replace any of these with a different library of your choice.</p>
<p>The following sections explain how to plug these libraries into the form
factory.</p>
<div class="admonition admonition-tip ">
    <p class="admonition-title">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" width="24" height="24" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z" /></svg>
                <span>Tip</span>
    </p><p>For a working example, see <a href="https://github.com/webmozart/standalone-forms" class="reference external" rel="external noopener noreferrer" target="_blank">https://github.com/webmozart/standalone-forms</a></p>
</div>
<div class="section">
<h3 id="request-handling">
    Request Handling
    <a class="headerlink" href="#request-handling" title="Permalink to this headline">¶</a>
</h3>
<p>To process form data, you'll need to call the <a href="https://github.com/symfony/symfony/blob/5.4/src/Symfony/Component/Form/Form.php#method_handleRequest" class="reference external" title="Symfony\Component\Form\Form::handleRequest()" rel="external noopener noreferrer" target="_blank">handleRequest()</a>
method:</p>
<div translate="no" class="highlight-php notranslate">
    <table class="highlighttable">
        <tbody>
            <tr>
                <td class="linenos">
                    <div class="linenodiv">
                        <pre>1</pre>
                    </div>
                </td>
                <td class="code">
                    <div class="highlight">
                        <pre class="hljs php"><span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>form</span><span class="hljs-operator">-&gt;</span>handleRequest();</pre>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
<p>Behind the scenes, this uses a <a href="https://github.com/symfony/symfony/blob/5.4/src/Symfony/Component/Form/NativeRequestHandler.php" class="reference external" title="Symfony\Component\Form\NativeRequestHandler" rel="external noopener noreferrer" target="_blank">NativeRequestHandler</a>
object to read data off of the correct PHP superglobals (i.e. <code translate="no" class="notranslate">$_POST</code> or
<code translate="no" class="notranslate">$_GET</code>) based on the HTTP method configured on the form (POST is default).</p>
<div class="admonition admonition-seealso ">
    <p class="admonition-title">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" width="24" height="24" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1" /></svg>
                <span>See also</span>
    </p><p>If you need more control over exactly when your form is submitted or which
data is passed to it,
<a href="../form/direct_submit.html" class="reference internal">use the submit() method to handle form submissions</a>.</p>
</div>
<div class="admonition-wrapper"><div class="admonition admonition-sidebar"><p class="sidebar-title"><span>Integration with the HttpFoundation Component</span></p><p>If you use the HttpFoundation component, then you should add the
<a href="https://github.com/symfony/symfony/blob/5.4/src/Symfony/Component/Form/Extension/HttpFoundation/HttpFoundationExtension.php" class="reference external" title="Symfony\Component\Form\Extension\HttpFoundation\HttpFoundationExtension" rel="external noopener noreferrer" target="_blank">HttpFoundationExtension</a>
to your form factory:</p>
<div translate="no" class="highlight-php notranslate">
    <table class="highlighttable">
        <tbody>
            <tr>
                <td class="linenos">
                    <div class="linenodiv">
                        <pre>1
2
3
4
5
6</pre>
                    </div>
                </td>
                <td class="code">
                    <div class="highlight">
                        <pre class="hljs php"><span class="hljs-keyword">use</span> <span class="hljs-title">Symfony</span>\<span class="hljs-title">Component</span>\<span class="hljs-title">Form</span>\<span class="hljs-title">Extension</span>\<span class="hljs-title">HttpFoundation</span>\<span class="hljs-title">HttpFoundationExtension</span>;
<span class="hljs-keyword">use</span> <span class="hljs-title">Symfony</span>\<span class="hljs-title">Component</span>\<span class="hljs-title">Form</span>\<span class="hljs-title">Forms</span>;

<span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>formFactory</span> = Forms<span class="hljs-operator">::</span>createFormFactoryBuilder()
    <span class="hljs-operator">-&gt;</span>addExtension(<span class="hljs-keyword">new</span> HttpFoundationExtension())
    <span class="hljs-operator">-&gt;</span>getFormFactory();</pre>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
<p>Now, when you process a form, you can pass the <a href="https://github.com/symfony/symfony/blob/5.4/src/Symfony/Component/HttpFoundation/Request.php" class="reference external" title="Symfony\Component\HttpFoundation\Request" rel="external noopener noreferrer" target="_blank">Request</a>
object to <a href="https://github.com/symfony/symfony/blob/5.4/src/Symfony/Component/Form/Form.php#method_handleRequest" class="reference external" title="Symfony\Component\Form\Form::handleRequest()" rel="external noopener noreferrer" target="_blank">handleRequest()</a>:</p>
<div translate="no" class="highlight-php notranslate">
    <table class="highlighttable">
        <tbody>
            <tr>
                <td class="linenos">
                    <div class="linenodiv">
                        <pre>1</pre>
                    </div>
                </td>
                <td class="code">
                    <div class="highlight">
                        <pre class="hljs php"><span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>form</span><span class="hljs-operator">-&gt;</span>handleRequest(<span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>request</span>);</pre>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
<div class="admonition admonition-note ">
    <p class="admonition-title">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" width="24" height="24" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z" /></svg>
                <span>Note</span>
    </p><p>For more information about the HttpFoundation component or how to
install it, see <a href="http_foundation.html" class="reference internal">The HttpFoundation Component</a>.</p>
</div>
</div></div>
</div>
<div class="section">
<h3 id="csrf-protection">
    CSRF Protection
    <a class="headerlink" href="#csrf-protection" title="Permalink to this headline">¶</a>
</h3>
<p>Protection against CSRF attacks is built into the Form component, but you need
to explicitly enable it or replace it with a custom solution. If you want to
use the built-in support, first install the Security CSRF component:</p>
<div translate="no" class="highlight-terminal highlight-bash notranslate">
    <table class="highlighttable">
        <tbody>
            <tr>
                <td class="linenos">
                    <div class="linenodiv">
                        <pre>1</pre>
                    </div>
                </td>
                <td class="code">
                    <div class="highlight">
                        <pre class="hljs terminal bash"><span class="hljs-prompt">$ </span>composer require symfony/security-csrf</pre>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
<p>The following snippet adds CSRF protection to the form factory:</p>
<div translate="no" class="highlight-php notranslate">
    <table class="highlighttable">
        <tbody>
            <tr>
                <td class="linenos">
                    <div class="linenodiv">
                        <pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19</pre>
                    </div>
                </td>
                <td class="code">
                    <div class="highlight">
                        <pre class="hljs php"><span class="hljs-keyword">use</span> <span class="hljs-title">Symfony</span>\<span class="hljs-title">Component</span>\<span class="hljs-title">Form</span>\<span class="hljs-title">Extension</span>\<span class="hljs-title">Csrf</span>\<span class="hljs-title">CsrfExtension</span>;
<span class="hljs-keyword">use</span> <span class="hljs-title">Symfony</span>\<span class="hljs-title">Component</span>\<span class="hljs-title">Form</span>\<span class="hljs-title">Forms</span>;
<span class="hljs-keyword">use</span> <span class="hljs-title">Symfony</span>\<span class="hljs-title">Component</span>\<span class="hljs-title">HttpFoundation</span>\<span class="hljs-title">RequestStack</span>;
<span class="hljs-keyword">use</span> <span class="hljs-title">Symfony</span>\<span class="hljs-title">Component</span>\<span class="hljs-title">Security</span>\<span class="hljs-title">Csrf</span>\<span class="hljs-title">CsrfTokenManager</span>;
<span class="hljs-keyword">use</span> <span class="hljs-title">Symfony</span>\<span class="hljs-title">Component</span>\<span class="hljs-title">Security</span>\<span class="hljs-title">Csrf</span>\<span class="hljs-title">TokenGenerator</span>\<span class="hljs-title">UriSafeTokenGenerator</span>;
<span class="hljs-keyword">use</span> <span class="hljs-title">Symfony</span>\<span class="hljs-title">Component</span>\<span class="hljs-title">Security</span>\<span class="hljs-title">Csrf</span>\<span class="hljs-title">TokenStorage</span>\<span class="hljs-title">SessionTokenStorage</span>;

<span class="hljs-comment">// creates a RequestStack object using the current request</span>
<span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>requestStack</span> = <span class="hljs-keyword">new</span> RequestStack();
<span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>requestStack</span><span class="hljs-operator">-&gt;</span>push(<span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>request</span>);

<span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>csrfGenerator</span> = <span class="hljs-keyword">new</span> UriSafeTokenGenerator();
<span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>csrfStorage</span> = <span class="hljs-keyword">new</span> SessionTokenStorage(<span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>requestStack</span>);
<span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>csrfManager</span> = <span class="hljs-keyword">new</span> CsrfTokenManager(<span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>csrfGenerator</span>, <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>csrfStorage</span>);

<span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>formFactory</span> = Forms<span class="hljs-operator">::</span>createFormFactoryBuilder()
    <span class="hljs-comment">// ...</span>
    <span class="hljs-operator">-&gt;</span>addExtension(<span class="hljs-keyword">new</span> CsrfExtension(<span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>csrfManager</span>))
    <span class="hljs-operator">-&gt;</span>getFormFactory();</pre>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
<p>Internally, this extension will automatically add a hidden field to every
form (called <code translate="no" class="notranslate">_token</code> by default) whose value is automatically generated by
the CSRF generator and validated when binding the form.</p>
<div class="admonition admonition-tip ">
    <p class="admonition-title">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" width="24" height="24" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z" /></svg>
                <span>Tip</span>
    </p><p>If you're not using the HttpFoundation component, you can use
<a href="https://github.com/symfony/symfony/blob/5.4/src/Symfony/Component/Security/Csrf/TokenStorage/NativeSessionTokenStorage.php" class="reference external" title="Symfony\Component\Security\Csrf\TokenStorage\NativeSessionTokenStorage" rel="external noopener noreferrer" target="_blank">NativeSessionTokenStorage</a>
instead, which relies on PHP's native session handling:</p>
<div translate="no" class="highlight-php notranslate">
    <table class="highlighttable">
        <tbody>
            <tr>
                <td class="linenos">
                    <div class="linenodiv">
                        <pre>1
2
3
4</pre>
                    </div>
                </td>
                <td class="code">
                    <div class="highlight">
                        <pre class="hljs php"><span class="hljs-keyword">use</span> <span class="hljs-title">Symfony</span>\<span class="hljs-title">Component</span>\<span class="hljs-title">Security</span>\<span class="hljs-title">Csrf</span>\<span class="hljs-title">TokenStorage</span>\<span class="hljs-title">NativeSessionTokenStorage</span>;

<span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>csrfStorage</span> = <span class="hljs-keyword">new</span> NativeSessionTokenStorage();
<span class="hljs-comment">// ...</span></pre>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
</div>
<p>You can disable CSRF protection per form using the <code translate="no" class="notranslate">csrf_protection</code> option:</p>
<div translate="no" class="highlight-php notranslate">
    <table class="highlighttable">
        <tbody>
            <tr>
                <td class="linenos">
                    <div class="linenodiv">
                        <pre>1
2
3
4</pre>
                    </div>
                </td>
                <td class="code">
                    <div class="highlight">
                        <pre class="hljs php"><span class="hljs-keyword">use</span> <span class="hljs-title">Symfony</span>\<span class="hljs-title">Component</span>\<span class="hljs-title">Form</span>\<span class="hljs-title">Extension</span>\<span class="hljs-title">Core</span>\<span class="hljs-title">Type</span>\<span class="hljs-title">FormType</span>;

<span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>form</span> = <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>formFactory</span><span class="hljs-operator">-&gt;</span>createBuilder(FormType<span class="hljs-operator">::</span>class, <span class="hljs-keyword">null</span>, [<span class="hljs-string">'csrf_protection'</span> =&gt; <span class="hljs-keyword">false</span>])
    <span class="hljs-operator">-&gt;</span>getForm();</pre>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
</div>
<div class="section">
<h3 id="twig-templating">
    Twig Templating
    <a class="headerlink" href="#twig-templating" title="Permalink to this headline">¶</a>
</h3>
<p>If you're using the Form component to process HTML forms, you'll need a way to
render your form as HTML form fields (complete with field values, errors, and
labels). If you use <a href="https://twig.symfony.com" class="reference external">Twig</a> as your template engine, the Form component offers a
rich integration.</p>
<p>To use the integration, you'll need the twig bridge, which provides integration
between Twig and several Symfony components:</p>
<div translate="no" class="highlight-terminal highlight-bash notranslate">
    <table class="highlighttable">
        <tbody>
            <tr>
                <td class="linenos">
                    <div class="linenodiv">
                        <pre>1</pre>
                    </div>
                </td>
                <td class="code">
                    <div class="highlight">
                        <pre class="hljs terminal bash"><span class="hljs-prompt">$ </span>composer require symfony/twig-bridge</pre>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
<p>The TwigBridge integration provides you with several
<a href="../form/form_customization.html#reference-form-twig-functions-variables" class="reference internal">Twig Functions</a>
that help you render the HTML widget, label, help and errors for each field
(as well as a few other things). To configure the integration, you'll need
to bootstrap or access Twig and add the <a href="https://github.com/symfony/symfony/blob/5.4/src/Symfony/Bridge/Twig/Extension/FormExtension.php" class="reference external" title="Symfony\Bridge\Twig\Extension\FormExtension" rel="external noopener noreferrer" target="_blank">FormExtension</a>:</p>
<div translate="no" class="highlight-php notranslate">
    <table class="highlighttable">
        <tbody>
            <tr>
                <td class="linenos">
                    <div class="linenodiv">
                        <pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40</pre>
                    </div>
                </td>
                <td class="code">
                    <div class="highlight">
                        <pre class="hljs php"><span class="hljs-keyword">use</span> <span class="hljs-title">Symfony</span>\<span class="hljs-title">Bridge</span>\<span class="hljs-title">Twig</span>\<span class="hljs-title">Extension</span>\<span class="hljs-title">FormExtension</span>;
<span class="hljs-keyword">use</span> <span class="hljs-title">Symfony</span>\<span class="hljs-title">Bridge</span>\<span class="hljs-title">Twig</span>\<span class="hljs-title">Form</span>\<span class="hljs-title">TwigRendererEngine</span>;
<span class="hljs-keyword">use</span> <span class="hljs-title">Symfony</span>\<span class="hljs-title">Component</span>\<span class="hljs-title">Form</span>\<span class="hljs-title">FormRenderer</span>;
<span class="hljs-keyword">use</span> <span class="hljs-title">Symfony</span>\<span class="hljs-title">Component</span>\<span class="hljs-title">Form</span>\<span class="hljs-title">Forms</span>;
<span class="hljs-keyword">use</span> <span class="hljs-title">Twig</span>\<span class="hljs-title">Environment</span>;
<span class="hljs-keyword">use</span> <span class="hljs-title">Twig</span>\<span class="hljs-title">Loader</span>\<span class="hljs-title">FilesystemLoader</span>;
<span class="hljs-keyword">use</span> <span class="hljs-title">Twig</span>\<span class="hljs-title">RuntimeLoader</span>\<span class="hljs-title">FactoryRuntimeLoader</span>;

<span class="hljs-comment">// the Twig file that holds all the default markup for rendering forms</span>
<span class="hljs-comment">// this file comes with TwigBridge</span>
<span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>defaultFormTheme</span> = <span class="hljs-string">'form_div_layout.html.twig'</span>;

<span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>vendorDirectory</span> = realpath(<span class="hljs-keyword">__DIR__</span>.<span class="hljs-string">'/../vendor'</span>);
<span class="hljs-comment">// the path to TwigBridge library so Twig can locate the</span>
<span class="hljs-comment">// form_div_layout.html.twig file</span>
<span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>appVariableReflection</span> = <span class="hljs-keyword">new</span> \ReflectionClass(<span class="hljs-string">'\Symfony\Bridge\Twig\AppVariable'</span>);
<span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>vendorTwigBridgeDirectory</span> = dirname(<span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>appVariableReflection</span><span class="hljs-operator">-&gt;</span>getFileName());
<span class="hljs-comment">// the path to your other templates</span>
<span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>viewsDirectory</span> = realpath(<span class="hljs-keyword">__DIR__</span>.<span class="hljs-string">'/../views'</span>);

<span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>twig</span> = <span class="hljs-keyword">new</span> Environment(<span class="hljs-keyword">new</span> FilesystemLoader([
    <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>viewsDirectory</span>,
    <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>vendorTwigBridgeDirectory</span>.<span class="hljs-string">'/Resources/views/Form'</span>,
]));
<span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>formEngine</span> = <span class="hljs-keyword">new</span> TwigRendererEngine([<span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>defaultFormTheme</span>], <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>twig</span>);
<span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>twig</span><span class="hljs-operator">-&gt;</span>addRuntimeLoader(<span class="hljs-keyword">new</span> FactoryRuntimeLoader([
    FormRenderer<span class="hljs-operator">::</span>class =&gt; <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">()</span> <span class="hljs-title">use</span> <span class="hljs-params">(<span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>formEngine</span>, <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>csrfManager</span>)</span> </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> FormRenderer(<span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>formEngine</span>, <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>csrfManager</span>);
    },
]));

<span class="hljs-comment">// ... (see the previous CSRF Protection section for more information)</span>

<span class="hljs-comment">// adds the FormExtension to Twig</span>
<span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>twig</span><span class="hljs-operator">-&gt;</span>addExtension(<span class="hljs-keyword">new</span> FormExtension());

<span class="hljs-comment">// creates a form factory</span>
<span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>formFactory</span> = Forms<span class="hljs-operator">::</span>createFormFactoryBuilder()
    <span class="hljs-comment">// ...</span>
    <span class="hljs-operator">-&gt;</span>getFormFactory();</pre>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
<p>The exact details of your <a href="https://twig.symfony.com/doc/3.x/intro.html" class="reference external">Twig Configuration</a> will vary, but the goal is
always to add the <a href="https://github.com/symfony/symfony/blob/5.4/src/Symfony/Bridge/Twig/Extension/FormExtension.php" class="reference external" title="Symfony\Bridge\Twig\Extension\FormExtension" rel="external noopener noreferrer" target="_blank">FormExtension</a>
to Twig, which gives you access to the Twig functions for rendering forms.
To do this, you first need to create a <a href="https://github.com/symfony/symfony/blob/5.4/src/Symfony/Bridge/Twig/Form/TwigRendererEngine.php" class="reference external" title="Symfony\Bridge\Twig\Form\TwigRendererEngine" rel="external noopener noreferrer" target="_blank">TwigRendererEngine</a>,
where you define your <a href="../form/form_themes.html" class="reference internal">form themes</a>
(i.e. resources/files that define form HTML markup).</p>
<p>For general details on rendering forms, see <a href="../form/form_customization.html" class="reference internal">How to Customize Form Rendering</a>.</p>
<div class="admonition admonition-note ">
    <p class="admonition-title">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" width="24" height="24" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z" /></svg>
                <span>Note</span>
    </p><p>If you use the Twig integration, read &quot;<a href="form.html#component-form-intro-install-translation" class="reference internal">The Form Component</a>&quot;
below for details on the needed translation filters.</p>
</div>
<span id="component-form-intro-install-translation"></span>
</div>
<div class="section">
<h3 id="translation">
    Translation
    <a class="headerlink" href="#translation" title="Permalink to this headline">¶</a>
</h3>
<p>If you're using the Twig integration with one of the default form theme files
(e.g. <code translate="no" class="notranslate">form_div_layout.html.twig</code>), there is a Twig filter (<code translate="no" class="notranslate">trans</code>)
that is used for translating form labels, errors, option
text and other strings.</p>
<p>To add the <code translate="no" class="notranslate">trans</code> Twig filter, you can either use the built-in
<a href="https://github.com/symfony/symfony/blob/5.4/src/Symfony/Bridge/Twig/Extension/TranslationExtension.php" class="reference external" title="Symfony\Bridge\Twig\Extension\TranslationExtension" rel="external noopener noreferrer" target="_blank">TranslationExtension</a> that integrates
with Symfony's Translation component, or add the Twig filter yourself,
via your own Twig extension.</p>
<p>To use the built-in integration, be sure that your project has Symfony's
Translation and <a href="config.html" class="reference internal">Config</a> components
installed:</p>
<div translate="no" class="highlight-terminal highlight-bash notranslate">
    <table class="highlighttable">
        <tbody>
            <tr>
                <td class="linenos">
                    <div class="linenodiv">
                        <pre>1</pre>
                    </div>
                </td>
                <td class="code">
                    <div class="highlight">
                        <pre class="hljs terminal bash"><span class="hljs-prompt">$ </span>composer require symfony/translation symfony/config</pre>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
<p>Next, add the <a href="https://github.com/symfony/symfony/blob/5.4/src/Symfony/Bridge/Twig/Extension/TranslationExtension.php" class="reference external" title="Symfony\Bridge\Twig\Extension\TranslationExtension" rel="external noopener noreferrer" target="_blank">TranslationExtension</a>
to your <code translate="no" class="notranslate">Twig\Environment</code> instance:</p>
<div translate="no" class="highlight-php notranslate">
    <table class="highlighttable">
        <tbody>
            <tr>
                <td class="linenos">
                    <div class="linenodiv">
                        <pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21</pre>
                    </div>
                </td>
                <td class="code">
                    <div class="highlight">
                        <pre class="hljs php"><span class="hljs-keyword">use</span> <span class="hljs-title">Symfony</span>\<span class="hljs-title">Bridge</span>\<span class="hljs-title">Twig</span>\<span class="hljs-title">Extension</span>\<span class="hljs-title">TranslationExtension</span>;
<span class="hljs-keyword">use</span> <span class="hljs-title">Symfony</span>\<span class="hljs-title">Component</span>\<span class="hljs-title">Form</span>\<span class="hljs-title">Forms</span>;
<span class="hljs-keyword">use</span> <span class="hljs-title">Symfony</span>\<span class="hljs-title">Component</span>\<span class="hljs-title">Translation</span>\<span class="hljs-title">Loader</span>\<span class="hljs-title">XliffFileLoader</span>;
<span class="hljs-keyword">use</span> <span class="hljs-title">Symfony</span>\<span class="hljs-title">Component</span>\<span class="hljs-title">Translation</span>\<span class="hljs-title">Translator</span>;

<span class="hljs-comment">// creates the Translator</span>
<span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>translator</span> = <span class="hljs-keyword">new</span> Translator(<span class="hljs-string">'en'</span>);
<span class="hljs-comment">// somehow load some translations into it</span>
<span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>translator</span><span class="hljs-operator">-&gt;</span>addLoader(<span class="hljs-string">'xlf'</span>, <span class="hljs-keyword">new</span> XliffFileLoader());
<span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>translator</span><span class="hljs-operator">-&gt;</span>addResource(
    <span class="hljs-string">'xlf'</span>,
    <span class="hljs-keyword">__DIR__</span>.<span class="hljs-string">'/path/to/translations/messages.en.xlf'</span>,
    <span class="hljs-string">'en'</span>
);

<span class="hljs-comment">// adds the TranslationExtension (it gives us trans filter)</span>
<span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>twig</span><span class="hljs-operator">-&gt;</span>addExtension(<span class="hljs-keyword">new</span> TranslationExtension(<span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>translator</span>));

<span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>formFactory</span> = Forms<span class="hljs-operator">::</span>createFormFactoryBuilder()
    <span class="hljs-comment">// ...</span>
    <span class="hljs-operator">-&gt;</span>getFormFactory();</pre>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
<p>Depending on how your translations are being loaded, you can now add string
keys, such as field labels, and their translations to your translation files.</p>
<p>For more details on translations, see <a href="../translation.html" class="reference internal">Translations</a>.</p>
</div>
<div class="section">
<h3 id="validation">
    Validation
    <a class="headerlink" href="#validation" title="Permalink to this headline">¶</a>
</h3>
<p>The Form component comes with tight (but optional) integration with Symfony's
Validator component. If you're using a different solution for validation,
no problem! Take the submitted/bound data of your form (which is an
array or object) and pass it through your own validation system.</p>
<p>To use the integration with Symfony's Validator component, first make sure
it's installed in your application:</p>
<div translate="no" class="highlight-terminal highlight-bash notranslate">
    <table class="highlighttable">
        <tbody>
            <tr>
                <td class="linenos">
                    <div class="linenodiv">
                        <pre>1</pre>
                    </div>
                </td>
                <td class="code">
                    <div class="highlight">
                        <pre class="hljs terminal bash"><span class="hljs-prompt">$ </span>composer require symfony/validator</pre>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
<p>If you're not familiar with Symfony's Validator component, read more about
it: <a href="../validation.html" class="reference internal">Validation</a>. The Form component comes with a
<a href="https://github.com/symfony/symfony/blob/5.4/src/Symfony/Component/Form/Extension/Validator/ValidatorExtension.php" class="reference external" title="Symfony\Component\Form\Extension\Validator\ValidatorExtension" rel="external noopener noreferrer" target="_blank">ValidatorExtension</a>
class, which automatically applies validation to your data on bind. These
errors are then mapped to the correct field and rendered.</p>
<p>Your integration with the Validation component will look something like this:</p>
<div translate="no" class="highlight-php notranslate">
    <table class="highlighttable">
        <tbody>
            <tr>
                <td class="linenos">
                    <div class="linenodiv">
                        <pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29</pre>
                    </div>
                </td>
                <td class="code">
                    <div class="highlight">
                        <pre class="hljs php"><span class="hljs-keyword">use</span> <span class="hljs-title">Symfony</span>\<span class="hljs-title">Component</span>\<span class="hljs-title">Form</span>\<span class="hljs-title">Extension</span>\<span class="hljs-title">Validator</span>\<span class="hljs-title">ValidatorExtension</span>;
<span class="hljs-keyword">use</span> <span class="hljs-title">Symfony</span>\<span class="hljs-title">Component</span>\<span class="hljs-title">Form</span>\<span class="hljs-title">Forms</span>;
<span class="hljs-keyword">use</span> <span class="hljs-title">Symfony</span>\<span class="hljs-title">Component</span>\<span class="hljs-title">Validator</span>\<span class="hljs-title">Validation</span>;

<span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>vendorDirectory</span> = realpath(<span class="hljs-keyword">__DIR__</span>.<span class="hljs-string">'/../vendor'</span>);
<span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>vendorFormDirectory</span> = <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>vendorDirectory</span>.<span class="hljs-string">'/symfony/form'</span>;
<span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>vendorValidatorDirectory</span> = <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>vendorDirectory</span>.<span class="hljs-string">'/symfony/validator'</span>;

<span class="hljs-comment">// creates the validator - details will vary</span>
<span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>validator</span> = Validation<span class="hljs-operator">::</span>createValidator();

<span class="hljs-comment">// there are built-in translations for the core error messages</span>
<span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>translator</span><span class="hljs-operator">-&gt;</span>addResource(
    <span class="hljs-string">'xlf'</span>,
    <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>vendorFormDirectory</span>.<span class="hljs-string">'/Resources/translations/validators.en.xlf'</span>,
    <span class="hljs-string">'en'</span>,
    <span class="hljs-string">'validators'</span>
);
<span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>translator</span><span class="hljs-operator">-&gt;</span>addResource(
    <span class="hljs-string">'xlf'</span>,
    <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>vendorValidatorDirectory</span>.<span class="hljs-string">'/Resources/translations/validators.en.xlf'</span>,
    <span class="hljs-string">'en'</span>,
    <span class="hljs-string">'validators'</span>
);

<span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>formFactory</span> = Forms<span class="hljs-operator">::</span>createFormFactoryBuilder()
    <span class="hljs-comment">// ...</span>
    <span class="hljs-operator">-&gt;</span>addExtension(<span class="hljs-keyword">new</span> ValidatorExtension(<span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>validator</span>))
    <span class="hljs-operator">-&gt;</span>getFormFactory();</pre>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
<p>To learn more, skip down to the <a href="form.html#component-form-intro-validation" class="reference internal">The Form Component</a> section.</p>
</div>
<div class="section">
<h3 id="accessing-the-form-factory">
    Accessing the Form Factory
    <a class="headerlink" href="#accessing-the-form-factory" title="Permalink to this headline">¶</a>
</h3>
<p>Your application only needs one form factory, and that one factory object
should be used to create any and all form objects in your application. This
means that you should create it in some central, bootstrap part of your application
and then access it whenever you need to build a form.</p>
<div class="admonition admonition-note ">
    <p class="admonition-title">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" width="24" height="24" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z" /></svg>
                <span>Note</span>
    </p><p>In this document, the form factory is always a local variable called
<code translate="no" class="notranslate">$formFactory</code>. The point here is that you will probably need to create
this object in some more &quot;global&quot; way so you can access it from anywhere.</p>
</div>
<p>Exactly how you gain access to your one form factory is up to you. If you're
using a service container (like provided with the
<a href="dependency_injection.html" class="reference internal">DependencyInjection component</a>),
then you should add the form factory to your container and grab it out whenever
you need to. If your application uses global or static variables (not usually a
good idea), then you can store the object on some static class or do something
similar.</p>
<span id="component-form-intro-create-simple-form"></span>
</div>
</div>
<div class="section">
<h2 id="creating-a-simple-form">
    Creating a simple Form
    <a class="headerlink" href="#creating-a-simple-form" title="Permalink to this headline">¶</a>
</h2>
<div class="admonition admonition-tip ">
    <p class="admonition-title">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" width="24" height="24" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z" /></svg>
                <span>Tip</span>
    </p><p>If you're using the Symfony Framework, then the form factory is available
automatically as a service called <code translate="no" class="notranslate">form.factory</code>, you can inject it as
<code translate="no" class="notranslate">Symfony\Component\Form\FormFactoryInterface</code>. Also, the default
base controller class has a <a href="https://github.com/symfony/symfony/blob/5.4/src/Symfony/Bundle/FrameworkBundle/Controller/AbstractController.php#method_createFormBuilder" class="reference external" title="Symfony\Bundle\FrameworkBundle\Controller\AbstractController::createFormBuilder()" rel="external noopener noreferrer" target="_blank">createFormBuilder()</a>
method, which is a shortcut to fetch the form factory and call <code translate="no" class="notranslate">createBuilder()</code>
on it.</p>
</div>
<p>Creating a form is done via a <a href="https://github.com/symfony/symfony/blob/5.4/src/Symfony/Component/Form/FormBuilder.php" class="reference external" title="Symfony\Component\Form\FormBuilder" rel="external noopener noreferrer" target="_blank">FormBuilder</a>
object, where you build and configure different fields. The form builder
is created from the form factory.</p>
<div class="configuration-block">
    <div role="tablist" aria-label="Configuration formats" class="configuration-tabs configuration-tabs-length-2">
                    <button role="tab" type="button" data-language="php-symfony"
                aria-controls="configuration-block-tabpanel-a1715f28e67d58b663f6efbe3486696be19145ec" aria-selected="true"
                data-active="true" >
                <span>Framework Use</span>
            </button>
                    <button role="tab" type="button" data-language="php-standalone"
                aria-controls="configuration-block-tabpanel-fd324b241092c281b3a4751f4fac9ed8f689a8d1" aria-selected="false"
                 tabindex="-1">
                <span>Standalone Use</span>
            </button>
            </div>

            <div role="tabpanel" id="configuration-block-tabpanel-a1715f28e67d58b663f6efbe3486696be19145ec" aria-label="Framework Use" class="configuration-codeblock" data-language="php-symfony" style="">
            <div translate="no" class="highlight-php-symfony highlight-php notranslate">
    <table class="highlighttable">
        <tbody>
            <tr>
                <td class="linenos">
                    <div class="linenodiv">
                        <pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25</pre>
                    </div>
                </td>
                <td class="code">
                    <div class="highlight">
                        <pre class="hljs php-symfony php"><span class="hljs-comment">// src/Controller/TaskController.php</span>
<span class="hljs-keyword">namespace</span> <span class="hljs-title">App</span>\<span class="hljs-title">Controller</span>;

<span class="hljs-keyword">use</span> <span class="hljs-title">Symfony</span>\<span class="hljs-title">Bundle</span>\<span class="hljs-title">FrameworkBundle</span>\<span class="hljs-title">Controller</span>\<span class="hljs-title">AbstractController</span>;
<span class="hljs-keyword">use</span> <span class="hljs-title">Symfony</span>\<span class="hljs-title">Component</span>\<span class="hljs-title">Form</span>\<span class="hljs-title">Extension</span>\<span class="hljs-title">Core</span>\<span class="hljs-title">Type</span>\<span class="hljs-title">DateType</span>;
<span class="hljs-keyword">use</span> <span class="hljs-title">Symfony</span>\<span class="hljs-title">Component</span>\<span class="hljs-title">Form</span>\<span class="hljs-title">Extension</span>\<span class="hljs-title">Core</span>\<span class="hljs-title">Type</span>\<span class="hljs-title">TextType</span>;
<span class="hljs-keyword">use</span> <span class="hljs-title">Symfony</span>\<span class="hljs-title">Component</span>\<span class="hljs-title">HttpFoundation</span>\<span class="hljs-title">Request</span>;

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">TaskController</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">AbstractController</span>
</span>{
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">new</span><span class="hljs-params">(Request <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>request</span>)</span>
    </span>{
        <span class="hljs-comment">// createFormBuilder is a shortcut to get the "form factory"</span>
        <span class="hljs-comment">// and then call "createBuilder()" on it</span>

        <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>form</span> = <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>this</span><span class="hljs-operator">-&gt;</span>createFormBuilder()
            <span class="hljs-operator">-&gt;</span>add(<span class="hljs-string">'task'</span>, TextType<span class="hljs-operator">::</span>class)
            <span class="hljs-operator">-&gt;</span>add(<span class="hljs-string">'dueDate'</span>, DateType<span class="hljs-operator">::</span>class)
            <span class="hljs-operator">-&gt;</span>getForm();

        <span class="hljs-keyword">return</span> <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>this</span><span class="hljs-operator">-&gt;</span>render(<span class="hljs-string">'task/new.html.twig'</span>, [
            <span class="hljs-string">'form'</span> =&gt; <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>form</span><span class="hljs-operator">-&gt;</span>createView(),
        ]);
    }
}</pre>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
        </div>
            <div role="tabpanel" id="configuration-block-tabpanel-fd324b241092c281b3a4751f4fac9ed8f689a8d1" aria-label="Standalone Use" class="configuration-codeblock" data-language="php-standalone" style="display: none">
            <div translate="no" class="highlight-php-standalone highlight-php notranslate">
    <table class="highlighttable">
        <tbody>
            <tr>
                <td class="linenos">
                    <div class="linenodiv">
                        <pre>1
2
3
4
5
6
7
8
9
10
11
12
13</pre>
                    </div>
                </td>
                <td class="code">
                    <div class="highlight">
                        <pre class="hljs php-standalone php"><span class="hljs-keyword">use</span> <span class="hljs-title">Symfony</span>\<span class="hljs-title">Component</span>\<span class="hljs-title">Form</span>\<span class="hljs-title">Extension</span>\<span class="hljs-title">Core</span>\<span class="hljs-title">Type</span>\<span class="hljs-title">DateType</span>;
<span class="hljs-keyword">use</span> <span class="hljs-title">Symfony</span>\<span class="hljs-title">Component</span>\<span class="hljs-title">Form</span>\<span class="hljs-title">Extension</span>\<span class="hljs-title">Core</span>\<span class="hljs-title">Type</span>\<span class="hljs-title">TextType</span>;

<span class="hljs-comment">// ...</span>

<span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>form</span> = <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>formFactory</span><span class="hljs-operator">-&gt;</span>createBuilder()
    <span class="hljs-operator">-&gt;</span>add(<span class="hljs-string">'task'</span>, TextType<span class="hljs-operator">::</span>class)
    <span class="hljs-operator">-&gt;</span>add(<span class="hljs-string">'dueDate'</span>, DateType<span class="hljs-operator">::</span>class)
    <span class="hljs-operator">-&gt;</span>getForm();

var_dump(<span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>twig</span><span class="hljs-operator">-&gt;</span>render(<span class="hljs-string">'new.html.twig'</span>, [
    <span class="hljs-string">'form'</span> =&gt; <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>form</span><span class="hljs-operator">-&gt;</span>createView(),
]));</pre>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
        </div>
    </div>
<p>As you can see, creating a form is like writing a recipe: you call <code translate="no" class="notranslate">add()</code>
for each new field you want to create. The first argument to <code translate="no" class="notranslate">add()</code> is the
name of your field, and the second is the fully qualified class name. The Form
component comes with a lot of <a href="../reference/forms/types.html" class="reference internal">built-in types</a>.</p>
<p>Now that you've built your form, learn how to <a href="form.html#component-form-intro-rendering-form" class="reference internal">render</a>
it and <a href="form.html#component-form-intro-handling-submission" class="reference internal">process the form submission</a>.</p>
<div class="section">
<h3 id="setting-default-values">
    Setting default Values
    <a class="headerlink" href="#setting-default-values" title="Permalink to this headline">¶</a>
</h3>
<p>If you need your form to load with some default values (or you're building
an &quot;edit&quot; form), pass in the default data when creating your form builder:</p>
<div class="configuration-block">
    <div role="tablist" aria-label="Configuration formats" class="configuration-tabs configuration-tabs-length-2">
                    <button role="tab" type="button" data-language="php-symfony"
                aria-controls="configuration-block-tabpanel-a36fe8518e44736b0a4fcf1c3595666b0d8d47fb" aria-selected="true"
                data-active="true" >
                <span>Framework Use</span>
            </button>
                    <button role="tab" type="button" data-language="php-standalone"
                aria-controls="configuration-block-tabpanel-ab99734b81d5f14881c5b8f1b0773fec7e05b0a8" aria-selected="false"
                 tabindex="-1">
                <span>Standalone Use</span>
            </button>
            </div>

            <div role="tabpanel" id="configuration-block-tabpanel-a36fe8518e44736b0a4fcf1c3595666b0d8d47fb" aria-label="Framework Use" class="configuration-codeblock" data-language="php-symfony" style="">
            <div translate="no" class="highlight-php-symfony highlight-php notranslate">
    <table class="highlighttable">
        <tbody>
            <tr>
                <td class="linenos">
                    <div class="linenodiv">
                        <pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23</pre>
                    </div>
                </td>
                <td class="code">
                    <div class="highlight">
                        <pre class="hljs php-symfony php"><span class="hljs-comment">// src/Controller/DefaultController.php</span>
<span class="hljs-keyword">namespace</span> <span class="hljs-title">App</span>\<span class="hljs-title">Controller</span>;

<span class="hljs-keyword">use</span> <span class="hljs-title">Symfony</span>\<span class="hljs-title">Bundle</span>\<span class="hljs-title">FrameworkBundle</span>\<span class="hljs-title">Controller</span>\<span class="hljs-title">AbstractController</span>;
<span class="hljs-keyword">use</span> <span class="hljs-title">Symfony</span>\<span class="hljs-title">Component</span>\<span class="hljs-title">Form</span>\<span class="hljs-title">Extension</span>\<span class="hljs-title">Core</span>\<span class="hljs-title">Type</span>\<span class="hljs-title">DateType</span>;
<span class="hljs-keyword">use</span> <span class="hljs-title">Symfony</span>\<span class="hljs-title">Component</span>\<span class="hljs-title">Form</span>\<span class="hljs-title">Extension</span>\<span class="hljs-title">Core</span>\<span class="hljs-title">Type</span>\<span class="hljs-title">TextType</span>;

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">DefaultController</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">AbstractController</span>
</span>{
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">new</span><span class="hljs-params">(Request <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>request</span>)</span>
    </span>{
        <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>defaults</span> = [
            <span class="hljs-string">'dueDate'</span> =&gt; <span class="hljs-keyword">new</span> \DateTime(<span class="hljs-string">'tomorrow'</span>),
        ];

        <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>form</span> = <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>this</span><span class="hljs-operator">-&gt;</span>createFormBuilder(<span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>defaults</span>)
            <span class="hljs-operator">-&gt;</span>add(<span class="hljs-string">'task'</span>, TextType<span class="hljs-operator">::</span>class)
            <span class="hljs-operator">-&gt;</span>add(<span class="hljs-string">'dueDate'</span>, DateType<span class="hljs-operator">::</span>class)
            <span class="hljs-operator">-&gt;</span>getForm();

        <span class="hljs-comment">// ...</span>
    }
}</pre>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
        </div>
            <div role="tabpanel" id="configuration-block-tabpanel-ab99734b81d5f14881c5b8f1b0773fec7e05b0a8" aria-label="Standalone Use" class="configuration-codeblock" data-language="php-standalone" style="display: none">
            <div translate="no" class="highlight-php-standalone highlight-php notranslate">
    <table class="highlighttable">
        <tbody>
            <tr>
                <td class="linenos">
                    <div class="linenodiv">
                        <pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14</pre>
                    </div>
                </td>
                <td class="code">
                    <div class="highlight">
                        <pre class="hljs php-standalone php"><span class="hljs-keyword">use</span> <span class="hljs-title">Symfony</span>\<span class="hljs-title">Component</span>\<span class="hljs-title">Form</span>\<span class="hljs-title">Extension</span>\<span class="hljs-title">Core</span>\<span class="hljs-title">Type</span>\<span class="hljs-title">DateType</span>;
<span class="hljs-keyword">use</span> <span class="hljs-title">Symfony</span>\<span class="hljs-title">Component</span>\<span class="hljs-title">Form</span>\<span class="hljs-title">Extension</span>\<span class="hljs-title">Core</span>\<span class="hljs-title">Type</span>\<span class="hljs-title">FormType</span>;
<span class="hljs-keyword">use</span> <span class="hljs-title">Symfony</span>\<span class="hljs-title">Component</span>\<span class="hljs-title">Form</span>\<span class="hljs-title">Extension</span>\<span class="hljs-title">Core</span>\<span class="hljs-title">Type</span>\<span class="hljs-title">TextType</span>;

<span class="hljs-comment">// ...</span>

<span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>defaults</span> = [
    <span class="hljs-string">'dueDate'</span> =&gt; <span class="hljs-keyword">new</span> \DateTime(<span class="hljs-string">'tomorrow'</span>),
];

<span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>form</span> = <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>formFactory</span><span class="hljs-operator">-&gt;</span>createBuilder(FormType<span class="hljs-operator">::</span>class, <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>defaults</span>)
    <span class="hljs-operator">-&gt;</span>add(<span class="hljs-string">'task'</span>, TextType<span class="hljs-operator">::</span>class)
    <span class="hljs-operator">-&gt;</span>add(<span class="hljs-string">'dueDate'</span>, DateType<span class="hljs-operator">::</span>class)
    <span class="hljs-operator">-&gt;</span>getForm();</pre>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
        </div>
    </div>
<div class="admonition admonition-tip ">
    <p class="admonition-title">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" width="24" height="24" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z" /></svg>
                <span>Tip</span>
    </p><p>In this example, the default data is an array. Later, when you use the
<a href="../forms.html#form-data-class" class="reference internal">data_class</a> option to bind data directly to
objects, your default data will be an instance of that object.</p>
</div>
<span id="component-form-intro-rendering-form"></span>
</div>
<div class="section">
<h3 id="rendering-the-form">
    Rendering the Form
    <a class="headerlink" href="#rendering-the-form" title="Permalink to this headline">¶</a>
</h3>
<p>Now that the form has been created, the next step is to render it. This is
done by passing a special form &quot;view&quot; object to your template (notice the
<code translate="no" class="notranslate">$form-&gt;createView()</code> in the controller above) and using a set of
<a href="../form/form_customization.html#reference-form-twig-functions" class="reference internal">form helper functions</a>:</p>
<div translate="no" class="highlight-html+twig highlight-twig notranslate">
    <table class="highlighttable">
        <tbody>
            <tr>
                <td class="linenos">
                    <div class="linenodiv">
                        <pre>1
2
3
4
5</pre>
                    </div>
                </td>
                <td class="code">
                    <div class="highlight">
                        <pre class="hljs html+twig twig"><span class="hljs-template-variable">{{ form_start(form) }}</span><span class="xml">
    </span><span class="hljs-template-variable">{{ form_widget(form) }}</span><span class="xml">

    <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"submit"</span>/&gt;</span>
</span><span class="hljs-template-variable">{{ form_end(form) }}</span></pre>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
<img src="_images/simple-form.png" align="center" />
<p>That's it! By printing <code translate="no" class="notranslate">form_widget(form)</code>, each field in the form is
rendered, along with a label and error message (if there is one). While this is
convenient, it's not very flexible (yet). Usually, you'll want to render each
form field individually so you can control how the form looks. You'll learn how
to do that in the <a href="../form/form_customization.html" class="reference internal">form customization</a> article.</p>
</div>
<div class="section">
<h3 id="changing-a-form-s-method-and-action">
    Changing a Form's Method and Action
    <a class="headerlink" href="#changing-a-form-s-method-and-action" title="Permalink to this headline">¶</a>
</h3>
<p>By default, a form is submitted to the same URI that rendered the form with
an HTTP POST request. This behavior can be changed using the <a href="../reference/forms/types/form.html#form-option-action" class="reference internal">FormType Field</a>
and <a href="../reference/forms/types/form.html#form-option-method" class="reference internal">FormType Field</a> options (the <code translate="no" class="notranslate">method</code> option is also used
by <a href="https://github.com/symfony/symfony/blob/5.4/src/Symfony/Component/Form/Form.php#method_handleRequest" class="reference external" title="Symfony\Component\Form\Form::handleRequest()" rel="external noopener noreferrer" target="_blank">handleRequest()</a> to determine whether a form has been submitted):</p>
<div class="configuration-block">
    <div role="tablist" aria-label="Configuration formats" class="configuration-tabs configuration-tabs-length-2">
                    <button role="tab" type="button" data-language="php-symfony"
                aria-controls="configuration-block-tabpanel-a228785a46532451da721e7138118613cc640f30" aria-selected="true"
                data-active="true" >
                <span>Framework Use</span>
            </button>
                    <button role="tab" type="button" data-language="php-standalone"
                aria-controls="configuration-block-tabpanel-f29075ba00e9d01422c7a24aabd2efe91c90d0ae" aria-selected="false"
                 tabindex="-1">
                <span>Standalone Use</span>
            </button>
            </div>

            <div role="tabpanel" id="configuration-block-tabpanel-a228785a46532451da721e7138118613cc640f30" aria-label="Framework Use" class="configuration-codeblock" data-language="php-symfony" style="">
            <div translate="no" class="highlight-php-symfony highlight-php notranslate">
    <table class="highlighttable">
        <tbody>
            <tr>
                <td class="linenos">
                    <div class="linenodiv">
                        <pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18</pre>
                    </div>
                </td>
                <td class="code">
                    <div class="highlight">
                        <pre class="hljs php-symfony php"><span class="hljs-comment">// src/Controller/DefaultController.php</span>
<span class="hljs-keyword">namespace</span> <span class="hljs-title">App</span>\<span class="hljs-title">Controller</span>;

<span class="hljs-keyword">use</span> <span class="hljs-title">Symfony</span>\<span class="hljs-title">Bundle</span>\<span class="hljs-title">FrameworkBundle</span>\<span class="hljs-title">Controller</span>\<span class="hljs-title">AbstractController</span>;
<span class="hljs-keyword">use</span> <span class="hljs-title">Symfony</span>\<span class="hljs-title">Component</span>\<span class="hljs-title">Form</span>\<span class="hljs-title">Extension</span>\<span class="hljs-title">Core</span>\<span class="hljs-title">Type</span>\<span class="hljs-title">FormType</span>;

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">DefaultController</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">AbstractController</span>
</span>{
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">search</span><span class="hljs-params">()</span>
    </span>{
        <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>formBuilder</span> = <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>this</span><span class="hljs-operator">-&gt;</span>createFormBuilder(<span class="hljs-keyword">null</span>, [
            <span class="hljs-string">'action'</span> =&gt; <span class="hljs-string">'/search'</span>,
            <span class="hljs-string">'method'</span> =&gt; <span class="hljs-string">'GET'</span>,
        ]);

        <span class="hljs-comment">// ...</span>
    }
}</pre>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
        </div>
            <div role="tabpanel" id="configuration-block-tabpanel-f29075ba00e9d01422c7a24aabd2efe91c90d0ae" aria-label="Standalone Use" class="configuration-codeblock" data-language="php-standalone" style="display: none">
            <div translate="no" class="highlight-php-standalone highlight-php notranslate">
    <table class="highlighttable">
        <tbody>
            <tr>
                <td class="linenos">
                    <div class="linenodiv">
                        <pre>1
2
3
4
5
6
7
8
9
10</pre>
                    </div>
                </td>
                <td class="code">
                    <div class="highlight">
                        <pre class="hljs php-standalone php"><span class="hljs-keyword">use</span> <span class="hljs-title">Symfony</span>\<span class="hljs-title">Component</span>\<span class="hljs-title">Form</span>\<span class="hljs-title">Extension</span>\<span class="hljs-title">Core</span>\<span class="hljs-title">Type</span>\<span class="hljs-title">FormType</span>;

<span class="hljs-comment">// ...</span>

<span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>formBuilder</span> = <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>formFactory</span><span class="hljs-operator">-&gt;</span>createBuilder(FormType<span class="hljs-operator">::</span>class, <span class="hljs-keyword">null</span>, [
    <span class="hljs-string">'action'</span> =&gt; <span class="hljs-string">'/search'</span>,
    <span class="hljs-string">'method'</span> =&gt; <span class="hljs-string">'GET'</span>,
]);

<span class="hljs-comment">// ...</span></pre>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
        </div>
    </div>
<span id="component-form-intro-handling-submission"></span>
</div>
<div class="section">
<h3 id="handling-form-submissions">
    Handling Form Submissions
    <a class="headerlink" href="#handling-form-submissions" title="Permalink to this headline">¶</a>
</h3>
<p>To handle form submissions, use the <a href="https://github.com/symfony/symfony/blob/5.4/src/Symfony/Component/Form/Form.php#method_handleRequest" class="reference external" title="Symfony\Component\Form\Form::handleRequest()" rel="external noopener noreferrer" target="_blank">handleRequest()</a>
method:</p>
<div class="configuration-block">
    <div role="tablist" aria-label="Configuration formats" class="configuration-tabs configuration-tabs-length-2">
                    <button role="tab" type="button" data-language="php-symfony"
                aria-controls="configuration-block-tabpanel-f19697fe58f5ec97d4d831553825081046bc7f55" aria-selected="true"
                data-active="true" >
                <span>Framework Use</span>
            </button>
                    <button role="tab" type="button" data-language="php-standalone"
                aria-controls="configuration-block-tabpanel-0b09492a7a74b2ed5ad88d6fcb5d9c11443486ea" aria-selected="false"
                 tabindex="-1">
                <span>Standalone Use</span>
            </button>
            </div>

            <div role="tabpanel" id="configuration-block-tabpanel-f19697fe58f5ec97d4d831553825081046bc7f55" aria-label="Framework Use" class="configuration-codeblock" data-language="php-symfony" style="">
            <div translate="no" class="highlight-php-symfony highlight-php notranslate">
    <table class="highlighttable">
        <tbody>
            <tr>
                <td class="linenos">
                    <div class="linenodiv">
                        <pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29</pre>
                    </div>
                </td>
                <td class="code">
                    <div class="highlight">
                        <pre class="hljs php-symfony php"><span class="hljs-comment">// src/Controller/TaskController.php</span>
<span class="hljs-keyword">namespace</span> <span class="hljs-title">App</span>\<span class="hljs-title">Controller</span>;

<span class="hljs-keyword">use</span> <span class="hljs-title">Symfony</span>\<span class="hljs-title">Bundle</span>\<span class="hljs-title">FrameworkBundle</span>\<span class="hljs-title">Controller</span>\<span class="hljs-title">AbstractController</span>;
<span class="hljs-keyword">use</span> <span class="hljs-title">Symfony</span>\<span class="hljs-title">Component</span>\<span class="hljs-title">Form</span>\<span class="hljs-title">Extension</span>\<span class="hljs-title">Core</span>\<span class="hljs-title">Type</span>\<span class="hljs-title">DateType</span>;
<span class="hljs-keyword">use</span> <span class="hljs-title">Symfony</span>\<span class="hljs-title">Component</span>\<span class="hljs-title">Form</span>\<span class="hljs-title">Extension</span>\<span class="hljs-title">Core</span>\<span class="hljs-title">Type</span>\<span class="hljs-title">TextType</span>;

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">TaskController</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">AbstractController</span>
</span>{
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">new</span><span class="hljs-params">(Request <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>request</span>)</span>
    </span>{
        <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>form</span> = <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>this</span><span class="hljs-operator">-&gt;</span>createFormBuilder()
            <span class="hljs-operator">-&gt;</span>add(<span class="hljs-string">'task'</span>, TextType<span class="hljs-operator">::</span>class)
            <span class="hljs-operator">-&gt;</span>add(<span class="hljs-string">'dueDate'</span>, DateType<span class="hljs-operator">::</span>class)
            <span class="hljs-operator">-&gt;</span>getForm();

        <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>form</span><span class="hljs-operator">-&gt;</span>handleRequest(<span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>request</span>);

        <span class="hljs-keyword">if</span> (<span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>form</span><span class="hljs-operator">-&gt;</span>isSubmitted() &amp;&amp; <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>form</span><span class="hljs-operator">-&gt;</span>isValid()) {
            <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>data</span> = <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>form</span><span class="hljs-operator">-&gt;</span>getData();

            <span class="hljs-comment">// ... perform some action, such as saving the data to the database</span>

            <span class="hljs-keyword">return</span> <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>this</span><span class="hljs-operator">-&gt;</span>redirectToRoute(<span class="hljs-string">'task_success'</span>);
        }

        <span class="hljs-comment">// ...</span>
    }
}</pre>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
        </div>
            <div role="tabpanel" id="configuration-block-tabpanel-0b09492a7a74b2ed5ad88d6fcb5d9c11443486ea" aria-label="Standalone Use" class="configuration-codeblock" data-language="php-standalone" style="display: none">
            <div translate="no" class="highlight-php-standalone highlight-php notranslate">
    <table class="highlighttable">
        <tbody>
            <tr>
                <td class="linenos">
                    <div class="linenodiv">
                        <pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28</pre>
                    </div>
                </td>
                <td class="code">
                    <div class="highlight">
                        <pre class="hljs php-standalone php"><span class="hljs-keyword">use</span> <span class="hljs-title">Symfony</span>\<span class="hljs-title">Component</span>\<span class="hljs-title">Form</span>\<span class="hljs-title">Extension</span>\<span class="hljs-title">Core</span>\<span class="hljs-title">Type</span>\<span class="hljs-title">DateType</span>;
<span class="hljs-keyword">use</span> <span class="hljs-title">Symfony</span>\<span class="hljs-title">Component</span>\<span class="hljs-title">Form</span>\<span class="hljs-title">Extension</span>\<span class="hljs-title">Core</span>\<span class="hljs-title">Type</span>\<span class="hljs-title">TextType</span>;
<span class="hljs-keyword">use</span> <span class="hljs-title">Symfony</span>\<span class="hljs-title">Component</span>\<span class="hljs-title">HttpFoundation</span>\<span class="hljs-title">RedirectResponse</span>;
<span class="hljs-keyword">use</span> <span class="hljs-title">Symfony</span>\<span class="hljs-title">Component</span>\<span class="hljs-title">HttpFoundation</span>\<span class="hljs-title">Request</span>;

<span class="hljs-comment">// ...</span>

<span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>form</span> = <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>formFactory</span><span class="hljs-operator">-&gt;</span>createBuilder()
    <span class="hljs-operator">-&gt;</span>add(<span class="hljs-string">'task'</span>, TextType<span class="hljs-operator">::</span>class)
    <span class="hljs-operator">-&gt;</span>add(<span class="hljs-string">'dueDate'</span>, DateType<span class="hljs-operator">::</span>class)
    <span class="hljs-operator">-&gt;</span>getForm();

<span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>request</span> = Request<span class="hljs-operator">::</span>createFromGlobals();

<span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>form</span><span class="hljs-operator">-&gt;</span>handleRequest(<span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>request</span>);

<span class="hljs-keyword">if</span> (<span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>form</span><span class="hljs-operator">-&gt;</span>isSubmitted() &amp;&amp; <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>form</span><span class="hljs-operator">-&gt;</span>isValid()) {
    <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>data</span> = <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>form</span><span class="hljs-operator">-&gt;</span>getData();

    <span class="hljs-comment">// ... perform some action, such as saving the data to the database</span>

    <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>response</span> = <span class="hljs-keyword">new</span> RedirectResponse(<span class="hljs-string">'/task/success'</span>);
    <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>response</span><span class="hljs-operator">-&gt;</span>prepare(<span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>request</span>);

    <span class="hljs-keyword">return</span> <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>response</span><span class="hljs-operator">-&gt;</span>send();
}

<span class="hljs-comment">// ...</span></pre>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
        </div>
    </div>
<div class="admonition admonition-caution ">
    <p class="admonition-title">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" width="24" height="24" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" /></svg>
                <span>Caution</span>
    </p><p>The form's <code translate="no" class="notranslate">createView()</code> method should be called <em>after</em> <code translate="no" class="notranslate">handleRequest()</code> is
called. Otherwise, when using <a href="../form/events.html" class="reference internal">form events</a>, changes done
in the <code translate="no" class="notranslate">*_SUBMIT</code> events won't be applied to the view (like validation errors).</p>
</div>
<p>This defines a common form &quot;workflow&quot;, which contains 3 different possibilities:</p>
<ol class="arabic">
    <li><p>On the initial GET request (i.e. when the user &quot;surfs&quot; to your page),
build your form and render it;</p>
<p>If the request is a POST, process the submitted data (via <a href="https://github.com/symfony/symfony/blob/5.4/src/Symfony/Component/Form/Form.php#method_handleRequest" class="reference external" title="Symfony\Component\Form\Form::handleRequest()" rel="external noopener noreferrer" target="_blank">handleRequest()</a>).</p>
<p>Then:</p></li>
<li>if the form is invalid, re-render the form (which will now contain errors);</li>
<li>if the form is valid, perform some action and redirect.</li>
</ol>
<p>Luckily, you don't need to decide whether or not a form has been submitted.
Just pass the current request to the <a href="https://github.com/symfony/symfony/blob/5.4/src/Symfony/Component/Form/Form.php#method_handleRequest" class="reference external" title="Symfony\Component\Form\Form::handleRequest()" rel="external noopener noreferrer" target="_blank">handleRequest()</a>
method. Then, the Form component will do all the necessary work for you.</p>
<span id="component-form-intro-validation"></span>
</div>
<div class="section">
<h3 id="form-validation">
    Form Validation
    <a class="headerlink" href="#form-validation" title="Permalink to this headline">¶</a>
</h3>
<p>The easiest way to add validation to your form is via the <code translate="no" class="notranslate">constraints</code>
option when building each field:</p>
<div class="configuration-block">
    <div role="tablist" aria-label="Configuration formats" class="configuration-tabs configuration-tabs-length-2">
                    <button role="tab" type="button" data-language="php-symfony"
                aria-controls="configuration-block-tabpanel-a1cd851cb832e7b3571ac6a84cd9d2663138a221" aria-selected="true"
                data-active="true" >
                <span>Framework Use</span>
            </button>
                    <button role="tab" type="button" data-language="php-standalone"
                aria-controls="configuration-block-tabpanel-119fbdc30e3b6f8dcbd756c79dd1918bd9d53af3" aria-selected="false"
                 tabindex="-1">
                <span>Standalone Use</span>
            </button>
            </div>

            <div role="tabpanel" id="configuration-block-tabpanel-a1cd851cb832e7b3571ac6a84cd9d2663138a221" aria-label="Framework Use" class="configuration-codeblock" data-language="php-symfony" style="">
            <div translate="no" class="highlight-php-symfony highlight-php notranslate">
    <table class="highlighttable">
        <tbody>
            <tr>
                <td class="linenos">
                    <div class="linenodiv">
                        <pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27</pre>
                    </div>
                </td>
                <td class="code">
                    <div class="highlight">
                        <pre class="hljs php-symfony php"><span class="hljs-comment">// src/Controller/DefaultController.php</span>
<span class="hljs-keyword">namespace</span> <span class="hljs-title">App</span>\<span class="hljs-title">Controller</span>;

<span class="hljs-keyword">use</span> <span class="hljs-title">Symfony</span>\<span class="hljs-title">Bundle</span>\<span class="hljs-title">FrameworkBundle</span>\<span class="hljs-title">Controller</span>\<span class="hljs-title">AbstractController</span>;
<span class="hljs-keyword">use</span> <span class="hljs-title">Symfony</span>\<span class="hljs-title">Component</span>\<span class="hljs-title">Form</span>\<span class="hljs-title">Extension</span>\<span class="hljs-title">Core</span>\<span class="hljs-title">Type</span>\<span class="hljs-title">DateType</span>;
<span class="hljs-keyword">use</span> <span class="hljs-title">Symfony</span>\<span class="hljs-title">Component</span>\<span class="hljs-title">Form</span>\<span class="hljs-title">Extension</span>\<span class="hljs-title">Core</span>\<span class="hljs-title">Type</span>\<span class="hljs-title">TextType</span>;
<span class="hljs-keyword">use</span> <span class="hljs-title">Symfony</span>\<span class="hljs-title">Component</span>\<span class="hljs-title">Validator</span>\<span class="hljs-title">Constraints</span>\<span class="hljs-title">NotBlank</span>;
<span class="hljs-keyword">use</span> <span class="hljs-title">Symfony</span>\<span class="hljs-title">Component</span>\<span class="hljs-title">Validator</span>\<span class="hljs-title">Constraints</span>\<span class="hljs-title">Type</span>;

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">DefaultController</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">AbstractController</span>
</span>{
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">new</span><span class="hljs-params">(Request <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>request</span>)</span>
    </span>{
        <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>form</span> = <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>this</span><span class="hljs-operator">-&gt;</span>createFormBuilder()
            <span class="hljs-operator">-&gt;</span>add(<span class="hljs-string">'task'</span>, TextType<span class="hljs-operator">::</span>class, [
                <span class="hljs-string">'constraints'</span> =&gt; <span class="hljs-keyword">new</span> NotBlank(),
            ])
            <span class="hljs-operator">-&gt;</span>add(<span class="hljs-string">'dueDate'</span>, DateType<span class="hljs-operator">::</span>class, [
                <span class="hljs-string">'constraints'</span> =&gt; [
                    <span class="hljs-keyword">new</span> NotBlank(),
                    <span class="hljs-keyword">new</span> Type(\DateTime<span class="hljs-operator">::</span>class),
                ],
            ])
            <span class="hljs-operator">-&gt;</span>getForm();
        <span class="hljs-comment">// ...</span>
    }
}</pre>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
        </div>
            <div role="tabpanel" id="configuration-block-tabpanel-119fbdc30e3b6f8dcbd756c79dd1918bd9d53af3" aria-label="Standalone Use" class="configuration-codeblock" data-language="php-standalone" style="display: none">
            <div translate="no" class="highlight-php-standalone highlight-php notranslate">
    <table class="highlighttable">
        <tbody>
            <tr>
                <td class="linenos">
                    <div class="linenodiv">
                        <pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16</pre>
                    </div>
                </td>
                <td class="code">
                    <div class="highlight">
                        <pre class="hljs php-standalone php"><span class="hljs-keyword">use</span> <span class="hljs-title">Symfony</span>\<span class="hljs-title">Component</span>\<span class="hljs-title">Form</span>\<span class="hljs-title">Extension</span>\<span class="hljs-title">Core</span>\<span class="hljs-title">Type</span>\<span class="hljs-title">DateType</span>;
<span class="hljs-keyword">use</span> <span class="hljs-title">Symfony</span>\<span class="hljs-title">Component</span>\<span class="hljs-title">Form</span>\<span class="hljs-title">Extension</span>\<span class="hljs-title">Core</span>\<span class="hljs-title">Type</span>\<span class="hljs-title">TextType</span>;
<span class="hljs-keyword">use</span> <span class="hljs-title">Symfony</span>\<span class="hljs-title">Component</span>\<span class="hljs-title">Validator</span>\<span class="hljs-title">Constraints</span>\<span class="hljs-title">NotBlank</span>;
<span class="hljs-keyword">use</span> <span class="hljs-title">Symfony</span>\<span class="hljs-title">Component</span>\<span class="hljs-title">Validator</span>\<span class="hljs-title">Constraints</span>\<span class="hljs-title">Type</span>;

<span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>form</span> = <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>formFactory</span><span class="hljs-operator">-&gt;</span>createBuilder()
    <span class="hljs-operator">-&gt;</span>add(<span class="hljs-string">'task'</span>, TextType<span class="hljs-operator">::</span>class, [
        <span class="hljs-string">'constraints'</span> =&gt; <span class="hljs-keyword">new</span> NotBlank(),
    ])
    <span class="hljs-operator">-&gt;</span>add(<span class="hljs-string">'dueDate'</span>, DateType<span class="hljs-operator">::</span>class, [
        <span class="hljs-string">'constraints'</span> =&gt; [
            <span class="hljs-keyword">new</span> NotBlank(),
            <span class="hljs-keyword">new</span> Type(\DateTime<span class="hljs-operator">::</span>class),
        ],
    ])
    <span class="hljs-operator">-&gt;</span>getForm();</pre>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
        </div>
    </div>
<p>When the form is bound, these validation constraints will be applied automatically
and the errors will display next to the fields on error.</p>
<div class="admonition admonition-note ">
    <p class="admonition-title">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" width="24" height="24" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z" /></svg>
                <span>Note</span>
    </p><p>For a list of all of the built-in validation constraints, see
<a href="../reference/constraints.html" class="reference internal">Validation Constraints Reference</a>.</p>
</div>
</div>
<div class="section">
<h3 id="accessing-form-errors">
    Accessing Form Errors
    <a class="headerlink" href="#accessing-form-errors" title="Permalink to this headline">¶</a>
</h3>
<p>You can use the <a href="https://github.com/symfony/symfony/blob/5.4/src/Symfony/Component/Form/FormInterface.php#method_getErrors" class="reference external" title="Symfony\Component\Form\FormInterface::getErrors()" rel="external noopener noreferrer" target="_blank">getErrors()</a>
method to access the list of errors. It returns a
<a href="https://github.com/symfony/symfony/blob/5.4/src/Symfony/Component/Form/FormErrorIterator.php" class="reference external" title="Symfony\Component\Form\FormErrorIterator" rel="external noopener noreferrer" target="_blank">FormErrorIterator</a> instance:</p>
<div translate="no" class="highlight-php notranslate">
    <table class="highlighttable">
        <tbody>
            <tr>
                <td class="linenos">
                    <div class="linenodiv">
                        <pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17</pre>
                    </div>
                </td>
                <td class="code">
                    <div class="highlight">
                        <pre class="hljs php"><span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>form</span> = ...;

<span class="hljs-comment">// ...</span>

<span class="hljs-comment">// a FormErrorIterator instance, but only errors attached to this</span>
<span class="hljs-comment">// form level (e.g. global errors)</span>
<span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>errors</span> = <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>form</span><span class="hljs-operator">-&gt;</span>getErrors();

<span class="hljs-comment">// a FormErrorIterator instance, but only errors attached to the</span>
<span class="hljs-comment">// "firstName" field</span>
<span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>errors</span> = <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>form</span>[<span class="hljs-string">'firstName'</span>]<span class="hljs-operator">-&gt;</span>getErrors();

<span class="hljs-comment">// a FormErrorIterator instance in a flattened structure</span>
<span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>errors</span> = <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>form</span><span class="hljs-operator">-&gt;</span>getErrors(<span class="hljs-keyword">true</span>);

<span class="hljs-comment">// a FormErrorIterator instance representing the form tree structure</span>
<span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>errors</span> = <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>form</span><span class="hljs-operator">-&gt;</span>getErrors(<span class="hljs-keyword">true</span>, <span class="hljs-keyword">false</span>);</pre>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
</div>
<div class="section">
<h3 id="clearing-form-errors">
    Clearing Form Errors
    <a class="headerlink" href="#clearing-form-errors" title="Permalink to this headline">¶</a>
</h3>
<p>Any errors can be manually cleared using the
<a href="https://github.com/symfony/symfony/blob/5.4/src/Symfony/Component/Form/ClearableErrorsInterface.php#method_clearErrors" class="reference external" title="Symfony\Component\Form\ClearableErrorsInterface::clearErrors()" rel="external noopener noreferrer" target="_blank">clearErrors()</a>
method. This is useful when you'd like to validate the form without showing
validation errors to the user (i.e. during a partial AJAX submission or
<a href="../form/dynamic_form_modification.html" class="reference internal">dynamic form modification</a>).</p>
<p>Because clearing the errors makes the form valid,
<a href="https://github.com/symfony/symfony/blob/5.4/src/Symfony/Component/Form/ClearableErrorsInterface.php#method_clearErrors" class="reference external" title="Symfony\Component\Form\ClearableErrorsInterface::clearErrors()" rel="external noopener noreferrer" target="_blank">clearErrors()</a>
should only be called after testing whether the form is valid.</p>
</div>
</div>
<div class="section">
<h2 id="learn-more">
    Learn more
    <a class="headerlink" href="#learn-more" title="Permalink to this headline">¶</a>
</h2>
<div class="toctree-wrapper toc-size-xl"><ul class="toctree toctree-level-1 toctree-length-25"><li><a href="../form/bootstrap4.html">Bootstrap 4 Form Theme</a></li><li><a href="../form/bootstrap5.html">Bootstrap 5 Form Theme</a></li><li><a href="../form/button_based_validation.html">How to Choose Validation Groups Based on the Clicked Button</a></li><li><a href="../form/create_custom_field_type.html">How to Create a Custom Form Field Type</a></li><li><a href="../form/create_form_type_extension.html">How to Create a Form Type Extension</a></li><li><a href="../form/data_based_validation.html">How to Choose Validation Groups Based on the Submitted Data</a></li><li><a href="../form/data_mappers.html">When and How to Use Data Mappers</a></li><li><a href="../form/data_transformers.html">How to Use Data Transformers</a></li><li><a href="../form/direct_submit.html">How to Use the submit() Function to Handle Form Submissions</a></li><li><a href="../form/disabling_validation.html">How to Disable the Validation of Submitted Data</a></li><li><a href="../form/dynamic_form_modification.html">How to Dynamically Modify Forms Using Form Events</a></li><li><a href="../form/embedded.html">How to Embed Forms</a></li><li><a href="../form/events.html">Form Events</a></li><li><a href="../form/form_collections.html">How to Embed a Collection of Forms</a></li><li><a href="../form/form_customization.html">How to Customize Form Rendering</a></li><li><a href="../form/form_dependencies.html">How to Access Services or Config from Inside a Form</a></li><li><a href="../form/form_themes.html">How to Work with Form Themes</a></li><li><a href="../form/inherit_data_option.html">How to Reduce Code Duplication with "inherit_data"</a></li><li><a href="../form/multiple_buttons.html">How to Submit a Form with Multiple Buttons</a></li><li><a href="../form/type_guesser.html">Creating a custom Type Guesser</a></li><li><a href="../form/unit_testing.html">How to Unit Test your Forms</a></li><li><a href="../form/use_empty_data.html">How to Configure empty Data for a Form Class</a></li><li><a href="../form/validation_group_service_resolver.html">How to Dynamically Configure Form Validation Groups</a></li><li><a href="../form/validation_groups.html">How to Define the Validation Groups to Use</a></li><li><a href="../form/without_class.html">How to Use a Form without a Data Class</a></li></ul></div>
</div>
</div>

                            </div>                    </div>
                                    </div>        </div>

    </section>

</div>


<script type="text/javascript" src="assets/js/theme.js"></script>
<script type="text/javascript" src="assets/js/badge_only.js"></script>

 
</body>
</html>