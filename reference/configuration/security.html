        
<!DOCTYPE html>
<!--[if IE 8]>
<html class="no-js lt-ie9" lang="en"> <![endif]-->
<!--[if gt IE 8]><!-->
<html class="no-js" lang="en"> <!--<![endif]-->
<head><base href="/">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
            
                                
    
    <link rel="stylesheet" href="assets/css/theme.css" type="text/css" />
    <link rel="stylesheet" href="assets/css/highlightjs.css" type="text/css" />
    <link rel="stylesheet" href="assets/css/badge_only.css" type="text/css" />

</head>

<body class="wy-body-for-nav">
 <div class="wy-grid-for-nav">

        <nav data-toggle="wy-nav-shift" class="wy-nav-side">
        <div class="wy-side-scroll">
            <div class="wy-side-nav-search">
                
                                                                                                    
                                                                                                                                                                        </div>

            <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
                                                                                                                                                                                                                                                                                                                            </div>
        </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

                                                        

        <div class="wy-nav-content">                <div class="rst-content">
                                        <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">                            <div itemprop="articleBody">
                                    <div class="section">
<h1 id="security-configuration-reference-securitybundle">
    Security Configuration Reference (SecurityBundle)
    <a class="headerlink" href="#security-configuration-reference-securitybundle" title="Permalink to this headline">¶</a>
</h1>
<p>The SecurityBundle integrates the <a href="../../security.html" class="reference internal">Security component</a>
in Symfony applications. All these options are configured under the <code translate="no" class="notranslate">security</code>
key in your application configuration.</p>
<div translate="no" class="highlight-terminal highlight-bash notranslate">
    <table class="highlighttable">
        <tbody>
            <tr>
                <td class="linenos">
                    <div class="linenodiv">
                        <pre>1
2
3
4
5</pre>
                    </div>
                </td>
                <td class="code">
                    <div class="highlight">
                        <pre class="hljs terminal bash"><span class="hljs-comment"># displays the default config values defined by Symfony</span>
<span class="hljs-prompt">$ </span>php bin/console config:dump-reference security

<span class="hljs-comment"># displays the actual config values used by your application</span>
<span class="hljs-prompt">$ </span>php bin/console debug:config security</pre>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
<div class="admonition admonition-note ">
    <p class="admonition-title">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" width="24" height="24" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z" /></svg>
                <span>Note</span>
    </p><p>When using XML, you must use the <code translate="no" class="notranslate">http://symfony.com/schema/dic/security</code>
namespace and the related XSD schema is available at:
<code translate="no" class="notranslate">https://symfony.com/schema/dic/services/services-1.0.xsd</code></p>
</div>
<div class="section">
<h2 id="configuration">
    Configuration
    <a class="headerlink" href="#configuration" title="Permalink to this headline">¶</a>
</h2>
<p><strong>Basic Options</strong>:</p>
<ul>
    <li><a href="security.html#access-denied-url" class="reference internal">access_denied_url</a></li>
<li><a href="security.html#erase-credentials" class="reference internal">erase_credentials</a></li>
<li><a href="security.html#hide-user-not-found" class="reference internal">hide_user_not_found</a></li>
<li><a href="security.html#session-fixation-strategy" class="reference internal">session_fixation_strategy</a></li>
</ul>
<p><strong>Advanced Options</strong>:</p>
<p>Some of these options define tens of sub-options and they are explained in
separate articles:</p>
<ul>
    <li><a href="security.html#access-control" class="reference internal">access_control</a></li>
<li><a href="../../security/passwords.html#passwordhasher-supported-algorithms" class="reference internal">hashers</a></li>
<li><a href="security.html#firewalls" class="reference internal">firewalls</a></li>
<li><a href="security.html#providers" class="reference internal">providers</a></li>
<li><a href="security.html#role-hierarchy" class="reference internal">role_hierarchy</a></li>
</ul>
<div class="section">
<h3 id="access-denied-url">
    access_denied_url
    <a class="headerlink" href="#access-denied-url" title="Permalink to this headline">¶</a>
</h3>
<p><strong>type</strong>: <code translate="no" class="notranslate">string</code> <strong>default</strong>: <code translate="no" class="notranslate">null</code></p>
<p>Defines the URL where the user is redirected after a <code translate="no" class="notranslate">403</code> HTTP error (unless
you define a custom access denial handler). Example: <code translate="no" class="notranslate">/no-permission</code></p>
</div>
<div class="section">
<h3 id="erase-credentials">
    erase_credentials
    <a class="headerlink" href="#erase-credentials" title="Permalink to this headline">¶</a>
</h3>
<p><strong>type</strong>: <code translate="no" class="notranslate">boolean</code> <strong>default</strong>: <code translate="no" class="notranslate">true</code></p>
<p>If <code translate="no" class="notranslate">true</code>, the <code translate="no" class="notranslate">eraseCredentials()</code> method of the user object is called
after authentication.</p>
</div>
<div class="section">
<h3 id="hide-user-not-found">
    hide_user_not_found
    <a class="headerlink" href="#hide-user-not-found" title="Permalink to this headline">¶</a>
</h3>
<p><strong>type</strong>: <code translate="no" class="notranslate">boolean</code> <strong>default</strong>: <code translate="no" class="notranslate">true</code></p>
<p>If <code translate="no" class="notranslate">true</code>, when a user is not found a generic exception of type
<a href="https://github.com/symfony/symfony/blob/5.4/src/Symfony/Component/Security/Core/Exception/BadCredentialsException.php" class="reference external" title="Symfony\Component\Security\Core\Exception\BadCredentialsException" rel="external noopener noreferrer" target="_blank">BadCredentialsException</a>
is thrown with the message &quot;Bad credentials&quot;.</p>
<p>If <code translate="no" class="notranslate">false</code>, the exception thrown is of type
<a href="https://github.com/symfony/symfony/blob/5.4/src/Symfony/Component/Security/Core/Exception/UserNotFoundException.php" class="reference external" title="Symfony\Component\Security\Core\Exception\UserNotFoundException" rel="external noopener noreferrer" target="_blank">UserNotFoundException</a>
and it includes the given not found user identifier.</p>
</div>
<div class="section">
<h3 id="session-fixation-strategy">
    session_fixation_strategy
    <a class="headerlink" href="#session-fixation-strategy" title="Permalink to this headline">¶</a>
</h3>
<p><strong>type</strong>: <code translate="no" class="notranslate">string</code> <strong>default</strong>: <code translate="no" class="notranslate">SessionAuthenticationStrategy::MIGRATE</code></p>
<p><a href="https://owasp.org/www-community/attacks/Session_fixation" class="reference external" rel="external noopener noreferrer" target="_blank">Session Fixation</a> is a security attack that permits an attacker to hijack a
valid user session. Applications that don't assign new session IDs when
authenticating users are vulnerable to this attack.</p>
<p>The possible values of this option are:</p>
<ul>
    <li><code translate="no" class="notranslate">NONE</code> constant from <a href="https://github.com/symfony/symfony/blob/5.4/src/Symfony/Component/Security/Http/Session/SessionAuthenticationStrategy.php" class="reference external" title="Symfony\Component\Security\Http\Session\SessionAuthenticationStrategy" rel="external noopener noreferrer" target="_blank">SessionAuthenticationStrategy</a>
Don't change the session after authentication. This is <strong>not recommended</strong>.</li>
<li><code translate="no" class="notranslate">MIGRATE</code> constant from <a href="https://github.com/symfony/symfony/blob/5.4/src/Symfony/Component/Security/Http/Session/SessionAuthenticationStrategy.php" class="reference external" title="Symfony\Component\Security\Http\Session\SessionAuthenticationStrategy" rel="external noopener noreferrer" target="_blank">SessionAuthenticationStrategy</a>
The session ID is updated, but the rest of session attributes are kept.</li>
<li><code translate="no" class="notranslate">INVALIDATE</code> constant from <a href="https://github.com/symfony/symfony/blob/5.4/src/Symfony/Component/Security/Http/Session/SessionAuthenticationStrategy.php" class="reference external" title="Symfony\Component\Security\Http\Session\SessionAuthenticationStrategy" rel="external noopener noreferrer" target="_blank">SessionAuthenticationStrategy</a>
The entire session is regenerated, so the session ID is updated but all the
other session attributes are lost.</li>
</ul>
</div>
</div>
<div class="section">
<h2 id="access-control">
    access_control
    <a class="headerlink" href="#access-control" title="Permalink to this headline">¶</a>
</h2>
<p>Defines the security protection of the URLs of your application. It's used for
example to trigger the user authentication when trying to access to the backend
and to allow unauthenticated users to the login form page.</p>
<p>This option is explained in detail in <a href="../../security/access_control.html" class="reference internal">How Does the Security access_control Work?</a>.</p>
</div>
<div class="section">
<h2 id="firewalls">
    firewalls
    <a class="headerlink" href="#firewalls" title="Permalink to this headline">¶</a>
</h2>
<p>This is arguably the most important option of the security config file. It
defines the authentication mechanism used for each URL (or URL pattern) of your
application:</p>
<div class="configuration-block">
    <div role="tablist" aria-label="Configuration formats" class="configuration-tabs configuration-tabs-length-3">
                    <button role="tab" type="button" data-language="yaml"
                aria-controls="configuration-block-tabpanel-e226425f14130e8e828367e11f083d30817f5f74" aria-selected="true"
                data-active="true" >
                <span>YAML</span>
            </button>
                    <button role="tab" type="button" data-language="xml"
                aria-controls="configuration-block-tabpanel-9570a13708701c5f49f3a62bea245f7233f349c2" aria-selected="false"
                 tabindex="-1">
                <span>XML</span>
            </button>
                    <button role="tab" type="button" data-language="php"
                aria-controls="configuration-block-tabpanel-d8ece92a22019f794b69111e19dcccb3557b7136" aria-selected="false"
                 tabindex="-1">
                <span>PHP</span>
            </button>
            </div>

            <div role="tabpanel" id="configuration-block-tabpanel-e226425f14130e8e828367e11f083d30817f5f74" aria-label="YAML" class="configuration-codeblock" data-language="yaml" style="">
            <div translate="no" class="highlight-yaml notranslate">
    <table class="highlighttable">
        <tbody>
            <tr>
                <td class="linenos">
                    <div class="linenodiv">
                        <pre>1
2
3
4
5
6
7
8
9
10
11</pre>
                    </div>
                </td>
                <td class="code">
                    <div class="highlight">
                        <pre class="hljs yaml"><span class="hljs-comment"># config/packages/security.yaml</span>
<span class="hljs-attr">security:</span>
    <span class="hljs-comment"># ...</span>
    <span class="hljs-attr">firewalls:</span>
        <span class="hljs-comment"># 'main' is the name of the firewall (can be chosen freely)</span>
        <span class="hljs-attr">main:</span>
            <span class="hljs-comment"># 'pattern' is a regular expression matched against the incoming</span>
            <span class="hljs-comment"># request URL. If there's a match, authentication is triggered</span>
            <span class="hljs-attr">pattern:</span> <span class="hljs-string">^/admin</span>
            <span class="hljs-comment"># the rest of options depend on the authentication mechanism</span>
            <span class="hljs-comment"># ...</span></pre>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
        </div>
            <div role="tabpanel" id="configuration-block-tabpanel-9570a13708701c5f49f3a62bea245f7233f349c2" aria-label="XML" class="configuration-codeblock" data-language="xml" style="display: none">
            <div translate="no" class="highlight-xml notranslate">
    <table class="highlighttable">
        <tbody>
            <tr>
                <td class="linenos">
                    <div class="linenodiv">
                        <pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21</pre>
                    </div>
                </td>
                <td class="code">
                    <div class="highlight">
                        <pre class="hljs xml"><span class="hljs-comment">&lt;!-- config/packages/security.xml --&gt;</span>
<span class="hljs-meta">&lt;?xml version="1.0" encoding="UTF-8" ?&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">srv:container</span> <span class="hljs-attr">xmlns</span>=<span class="hljs-string">"http://symfony.com/schema/dic/security"</span>
    <span class="hljs-attr">xmlns:xsi</span>=<span class="hljs-string">"http://www.w3.org/2001/XMLSchema-instance"</span>
    <span class="hljs-attr">xmlns:srv</span>=<span class="hljs-string">"http://symfony.com/schema/dic/services"</span>
    <span class="hljs-attr">xsi:schemaLocation</span>=<span class="hljs-string">"http://symfony.com/schema/dic/services
        https://symfony.com/schema/dic/services/services-1.0.xsd
        http://symfony.com/schema/dic/security
        https://symfony.com/schema/dic/security/security-1.0.xsd"</span>&gt;</span>

    <span class="hljs-tag">&lt;<span class="hljs-name">config</span>&gt;</span>
        <span class="hljs-comment">&lt;!-- ... --&gt;</span>

        <span class="hljs-comment">&lt;!-- 'pattern' is a regular expression matched against the incoming
             request URL. If there's a match, authentication is triggered --&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">firewall</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"main"</span> <span class="hljs-attr">pattern</span>=<span class="hljs-string">"^/admin"</span>&gt;</span>
            <span class="hljs-comment">&lt;!-- the rest of options depend on the authentication mechanism --&gt;</span>
            <span class="hljs-comment">&lt;!-- ... --&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">firewall</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">config</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">srv:container</span>&gt;</span></pre>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
        </div>
            <div role="tabpanel" id="configuration-block-tabpanel-d8ece92a22019f794b69111e19dcccb3557b7136" aria-label="PHP" class="configuration-codeblock" data-language="php" style="display: none">
            <div translate="no" class="highlight-php notranslate">
    <table class="highlighttable">
        <tbody>
            <tr>
                <td class="linenos">
                    <div class="linenodiv">
                        <pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15</pre>
                    </div>
                </td>
                <td class="code">
                    <div class="highlight">
                        <pre class="hljs php"><span class="hljs-comment">// config/packages/security.php</span>
<span class="hljs-keyword">use</span> <span class="hljs-title">Symfony</span>\<span class="hljs-title">Config</span>\<span class="hljs-title">SecurityConfig</span>;

<span class="hljs-keyword">return</span> <span class="hljs-keyword">static</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(SecurityConfig <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>security</span>)</span> </span>{
    <span class="hljs-comment">// ...</span>

    <span class="hljs-comment">// 'main' is the name of the firewall (can be chosen freely)</span>
    <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>security</span><span class="hljs-operator">-&gt;</span>firewall(<span class="hljs-string">'main'</span>)
        <span class="hljs-comment">// 'pattern' is a regular expression matched against the incoming</span>
        <span class="hljs-comment">// request URL. If there's a match, authentication is triggered</span>
        <span class="hljs-operator">-&gt;</span>pattern(<span class="hljs-string">'^/admin'</span>)
        <span class="hljs-comment">// the rest of options depend on the authentication mechanism</span>
        <span class="hljs-comment">// ...</span>
    ;
};</pre>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
        </div>
    </div>
<div class="admonition admonition-seealso ">
    <p class="admonition-title">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" width="24" height="24" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1" /></svg>
                <span>See also</span>
    </p><p>Read <a href="../../security/firewall_restriction.html" class="reference internal">this article</a> to learn about how
to restrict firewalls by host and HTTP methods.</p>
</div>
<p>In addition to some common config options, the most important firewall options
depend on the authentication mechanism, which can be any of these:</p>
<div translate="no" class="highlight-yaml notranslate">
    <table class="highlighttable">
        <tbody>
            <tr>
                <td class="linenos">
                    <div class="linenodiv">
                        <pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24</pre>
                    </div>
                </td>
                <td class="code">
                    <div class="highlight">
                        <pre class="hljs yaml"><span class="hljs-comment"># config/packages/security.yaml</span>
<span class="hljs-attr">security:</span>
    <span class="hljs-comment"># ...</span>
    <span class="hljs-attr">firewalls:</span>
        <span class="hljs-attr">main:</span>
            <span class="hljs-comment"># ...</span>
                <span class="hljs-attr">x509:</span>
                    <span class="hljs-comment"># ...</span>
                <span class="hljs-attr">remote_user:</span>
                    <span class="hljs-comment"># ...</span>
                <span class="hljs-attr">guard:</span>
                    <span class="hljs-comment"># ...</span>
                <span class="hljs-attr">form_login:</span>
                    <span class="hljs-comment"># ...</span>
                <span class="hljs-attr">form_login_ldap:</span>
                    <span class="hljs-comment"># ...</span>
                <span class="hljs-attr">json_login:</span>
                    <span class="hljs-comment"># ...</span>
                <span class="hljs-attr">http_basic:</span>
                    <span class="hljs-comment"># ...</span>
                <span class="hljs-attr">http_basic_ldap:</span>
                    <span class="hljs-comment"># ...</span>
                <span class="hljs-attr">http_digest:</span>
                    <span class="hljs-comment"># ...</span></pre>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
<p>You can view actual information about the firewalls in your application with
the <code translate="no" class="notranslate">debug:firewall</code> command:</p>
<div translate="no" class="highlight-terminal highlight-bash notranslate">
    <table class="highlighttable">
        <tbody>
            <tr>
                <td class="linenos">
                    <div class="linenodiv">
                        <pre>1
2
3
4
5
6
7
8
9</pre>
                    </div>
                </td>
                <td class="code">
                    <div class="highlight">
                        <pre class="hljs terminal bash"><span class="hljs-comment"># displays a list of firewalls currently configured for your application</span>
<span class="hljs-prompt">$ </span>php bin/console debug:firewall

<span class="hljs-comment"># displays the details of a specific firewall</span>
<span class="hljs-prompt">$ </span>php bin/console debug:firewall main

<span class="hljs-comment"># displays the details of a specific firewall, including detailed information</span>
<span class="hljs-comment"># about the event listeners for the firewall</span>
<span class="hljs-prompt">$ </span>php bin/console debug:firewall main --events</pre>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
<span id="reference-security-firewall-form-login"></span>
<div class="section">
<h3 id="form-login-authentication">
    <code translate="no" class="notranslate">form_login</code> Authentication
    <a class="headerlink" href="#form-login-authentication" title="Permalink to this headline">¶</a>
</h3>
<p>When using the <code translate="no" class="notranslate">form_login</code> authentication listener beneath a firewall,
there are several common options for configuring the &quot;form login&quot; experience.
For even more details, see <a href="../../security/form_login.html" class="reference internal">Customizing the Form Login Authenticator Responses</a>.</p>
<div class="section">
<h4 id="login-path">
    login_path
    <a class="headerlink" href="#login-path" title="Permalink to this headline">¶</a>
</h4>
<p><strong>type</strong>: <code translate="no" class="notranslate">string</code> <strong>default</strong>: <code translate="no" class="notranslate">/login</code></p>
<p>This is the route or path that the user will be redirected to (unless <code translate="no" class="notranslate">use_forward</code>
is set to <code translate="no" class="notranslate">true</code>) when they try to access a protected resource but aren't
fully authenticated.</p>
<p>This path <strong>must</strong> be accessible by a normal, unauthenticated user, else
you may create a redirect loop.</p>
</div>
<div class="section">
<h4 id="check-path">
    check_path
    <a class="headerlink" href="#check-path" title="Permalink to this headline">¶</a>
</h4>
<p><strong>type</strong>: <code translate="no" class="notranslate">string</code> <strong>default</strong>: <code translate="no" class="notranslate">/login_check</code></p>
<p>This is the route or path that your login form must submit to. The firewall
will intercept any requests (<code translate="no" class="notranslate">POST</code> requests only, by default) to this
URL and process the submitted login credentials.</p>
<p>Be sure that this URL is covered by your main firewall (i.e. don't create
a separate firewall just for <code translate="no" class="notranslate">check_path</code> URL).</p>
</div>
<div class="section">
<h4 id="failure-path">
    failure_path
    <a class="headerlink" href="#failure-path" title="Permalink to this headline">¶</a>
</h4>
<p><strong>type</strong>: <code translate="no" class="notranslate">string</code> <strong>default</strong>: <code translate="no" class="notranslate">/login</code></p>
<p>This is the route or path that the user is redirected to after a failed login attempt.
It can be a relative/absolute URL or a Symfony route name.</p>
</div>
<div class="section">
<h4 id="form-only">
    form_only
    <a class="headerlink" href="#form-only" title="Permalink to this headline">¶</a>
</h4>
<p><strong>type</strong>: <code translate="no" class="notranslate">boolean</code> <strong>default</strong>: <code translate="no" class="notranslate">false</code></p>
<p>Set this option to <code translate="no" class="notranslate">true</code> to require that the login data is sent using a form
(it checks that the request content-type is <code translate="no" class="notranslate">application/x-www-form-urlencoded</code>).
This is useful for example to prevent the <a href="../../security.html#security-form-login" class="reference internal">form login authenticator</a>
from responding to requests that should be handled by the
<a href="../../security.html#security-json-login" class="reference internal">JSON login authenticator</a>.</p>
</div>
<div class="section">
<h4 id="use-forward">
    use_forward
    <a class="headerlink" href="#use-forward" title="Permalink to this headline">¶</a>
</h4>
<p><strong>type</strong>: <code translate="no" class="notranslate">boolean</code> <strong>default</strong>: <code translate="no" class="notranslate">false</code></p>
<p>If you'd like the user to be forwarded to the login form instead of being
redirected, set this option to <code translate="no" class="notranslate">true</code>.</p>
</div>
<div class="section">
<h4 id="username-parameter">
    username_parameter
    <a class="headerlink" href="#username-parameter" title="Permalink to this headline">¶</a>
</h4>
<p><strong>type</strong>: <code translate="no" class="notranslate">string</code> <strong>default</strong>: <code translate="no" class="notranslate">_username</code></p>
<p>This is the name of the username field of your
login form. When you submit the form to <code translate="no" class="notranslate">check_path</code>, the security system
will look for a POST parameter with this name.</p>
</div>
<div class="section">
<h4 id="password-parameter">
    password_parameter
    <a class="headerlink" href="#password-parameter" title="Permalink to this headline">¶</a>
</h4>
<p><strong>type</strong>: <code translate="no" class="notranslate">string</code> <strong>default</strong>: <code translate="no" class="notranslate">_password</code></p>
<p>This is the name of the password field of your
login form. When you submit the form to <code translate="no" class="notranslate">check_path</code>, the security system
will look for a POST parameter with this name.</p>
</div>
<div class="section">
<h4 id="post-only">
    post_only
    <a class="headerlink" href="#post-only" title="Permalink to this headline">¶</a>
</h4>
<p><strong>type</strong>: <code translate="no" class="notranslate">boolean</code> <strong>default</strong>: <code translate="no" class="notranslate">true</code></p>
<p>By default, you must submit your login form to the <code translate="no" class="notranslate">check_path</code> URL as
a POST request. By setting this option to <code translate="no" class="notranslate">false</code>, you can send a GET
request too.</p>
<p><strong>Options Related to Redirecting after Login</strong></p>
</div>
<div class="section">
<h4 id="always-use-default-target-path">
    always_use_default_target_path
    <a class="headerlink" href="#always-use-default-target-path" title="Permalink to this headline">¶</a>
</h4>
<p><strong>type</strong>: <code translate="no" class="notranslate">boolean</code> <strong>default</strong>: <code translate="no" class="notranslate">false</code></p>
<p>If <code translate="no" class="notranslate">true</code>, users are always redirected to the default target path regardless
of the previous URL that was stored in the session.</p>
</div>
<div class="section">
<h4 id="default-target-path">
    default_target_path
    <a class="headerlink" href="#default-target-path" title="Permalink to this headline">¶</a>
</h4>
<p><strong>type</strong>: <code translate="no" class="notranslate">string</code> <strong>default</strong>: <code translate="no" class="notranslate">/</code></p>
<p>The page users are redirected to when there is no previous page stored in the
session (for example, when the users browse the login page directly).</p>
</div>
<div class="section">
<h4 id="target-path-parameter">
    target_path_parameter
    <a class="headerlink" href="#target-path-parameter" title="Permalink to this headline">¶</a>
</h4>
<p><strong>type</strong>: <code translate="no" class="notranslate">string</code> <strong>default</strong>: <code translate="no" class="notranslate">_target_path</code></p>
<p>When using a login form, if you include an HTML element to set the target path,
this option lets you change the name of the HTML element itself.</p>
</div>
<div class="section">
<h4 id="failure-path-parameter">
    failure_path_parameter
    <a class="headerlink" href="#failure-path-parameter" title="Permalink to this headline">¶</a>
</h4>
<p><strong>type</strong>: <code translate="no" class="notranslate">string</code> <strong>default</strong>: <code translate="no" class="notranslate">_failure_path</code></p>
<p>When using a login form, if you include an HTML element to set the failure path,
this option lets you change the name of the HTML element itself.</p>
</div>
<div class="section">
<h4 id="use-referer">
    use_referer
    <a class="headerlink" href="#use-referer" title="Permalink to this headline">¶</a>
</h4>
<p><strong>type</strong>: <code translate="no" class="notranslate">boolean</code> <strong>default</strong>: <code translate="no" class="notranslate">false</code></p>
<p>If <code translate="no" class="notranslate">true</code>, the user is redirected to the value stored in the <code translate="no" class="notranslate">HTTP_REFERER</code>
header when no previous URL was stored in the session. If the referrer URL is
the same as the one generated with the <code translate="no" class="notranslate">login_path</code> route, the user is
redirected to the <code translate="no" class="notranslate">default_target_path</code> to avoid a redirection loop.</p>
<div class="admonition admonition-note ">
    <p class="admonition-title">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" width="24" height="24" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z" /></svg>
                <span>Note</span>
    </p><p>For historical reasons, and to match the misspelling of the HTTP standard,
the option is called <code translate="no" class="notranslate">use_referer</code> instead of <code translate="no" class="notranslate">use_referrer</code>.</p>
</div>
<p><strong>Options Related to Logout Configuration</strong></p>
</div>
</div>
<div class="section">
<h3 id="delete-cookies">
    delete_cookies
    <a class="headerlink" href="#delete-cookies" title="Permalink to this headline">¶</a>
</h3>
<p><strong>type</strong>: <code translate="no" class="notranslate">array</code> <strong>default</strong>: <code translate="no" class="notranslate">[]</code></p>
<p>Lists the names (and other optional features) of the cookies to delete when the
user logs out:</p>
<div class="configuration-block">
    <div role="tablist" aria-label="Configuration formats" class="configuration-tabs configuration-tabs-length-3">
                    <button role="tab" type="button" data-language="yaml"
                aria-controls="configuration-block-tabpanel-ed6f902cc6e2c934f1f81c776fc917083548b9ea" aria-selected="true"
                data-active="true" >
                <span>YAML</span>
            </button>
                    <button role="tab" type="button" data-language="xml"
                aria-controls="configuration-block-tabpanel-f2ee5fae7d97261b34b618ec17a545226c4ef37a" aria-selected="false"
                 tabindex="-1">
                <span>XML</span>
            </button>
                    <button role="tab" type="button" data-language="php"
                aria-controls="configuration-block-tabpanel-f82f492e5a5d5d1f66cff8eaa1c90807bbfed370" aria-selected="false"
                 tabindex="-1">
                <span>PHP</span>
            </button>
            </div>

            <div role="tabpanel" id="configuration-block-tabpanel-ed6f902cc6e2c934f1f81c776fc917083548b9ea" aria-label="YAML" class="configuration-codeblock" data-language="yaml" style="">
            <div translate="no" class="highlight-yaml notranslate">
    <table class="highlighttable">
        <tbody>
            <tr>
                <td class="linenos">
                    <div class="linenodiv">
                        <pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15</pre>
                    </div>
                </td>
                <td class="code">
                    <div class="highlight">
                        <pre class="hljs yaml"><span class="hljs-comment"># config/packages/security.yaml</span>
<span class="hljs-attr">security:</span>
    <span class="hljs-comment"># ...</span>

    <span class="hljs-attr">firewalls:</span>
        <span class="hljs-attr">main:</span>
            <span class="hljs-comment"># ...</span>
            <span class="hljs-attr">logout:</span>
                <span class="hljs-attr">delete_cookies:</span>
                    <span class="hljs-attr">cookie1-name:</span> <span class="hljs-literal">null</span>
                    <span class="hljs-attr">cookie2-name:</span>
                        <span class="hljs-attr">path:</span> <span class="hljs-string">'/'</span>
                    <span class="hljs-attr">cookie3-name:</span>
                        <span class="hljs-attr">path:</span> <span class="hljs-literal">null</span>
                        <span class="hljs-attr">domain:</span> <span class="hljs-string">example.com</span></pre>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
        </div>
            <div role="tabpanel" id="configuration-block-tabpanel-f2ee5fae7d97261b34b618ec17a545226c4ef37a" aria-label="XML" class="configuration-codeblock" data-language="xml" style="display: none">
            <div translate="no" class="highlight-xml notranslate">
    <table class="highlighttable">
        <tbody>
            <tr>
                <td class="linenos">
                    <div class="linenodiv">
                        <pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21</pre>
                    </div>
                </td>
                <td class="code">
                    <div class="highlight">
                        <pre class="hljs xml"><span class="hljs-comment">&lt;!-- config/packages/security.xml --&gt;</span>
<span class="hljs-meta">&lt;?xml version="1.0" encoding="UTF-8" ?&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">srv:container</span> <span class="hljs-attr">xmlns</span>=<span class="hljs-string">"http://symfony.com/schema/dic/security"</span>
    <span class="hljs-attr">xmlns:xsi</span>=<span class="hljs-string">"http://www.w3.org/2001/XMLSchema-instance"</span>
    <span class="hljs-attr">xmlns:srv</span>=<span class="hljs-string">"http://symfony.com/schema/dic/services"</span>
    <span class="hljs-attr">xsi:schemaLocation</span>=<span class="hljs-string">"http://symfony.com/schema/dic/services
        https://symfony.com/schema/dic/services/services-1.0.xsd"</span>&gt;</span>

    <span class="hljs-tag">&lt;<span class="hljs-name">config</span>&gt;</span>
        <span class="hljs-comment">&lt;!-- ... --&gt;</span>

        <span class="hljs-tag">&lt;<span class="hljs-name">firewall</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"main"</span>&gt;</span>
            <span class="hljs-comment">&lt;!-- ... --&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">logout</span> <span class="hljs-attr">path</span>=<span class="hljs-string">"..."</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">delete-cookie</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"cookie1-name"</span>/&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">delete-cookie</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"cookie2-name"</span> <span class="hljs-attr">path</span>=<span class="hljs-string">"/"</span>/&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">delete-cookie</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"cookie3-name"</span> <span class="hljs-attr">domain</span>=<span class="hljs-string">"example.com"</span>/&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-name">logout</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">firewall</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">config</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">srv:container</span>&gt;</span></pre>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
        </div>
            <div role="tabpanel" id="configuration-block-tabpanel-f82f492e5a5d5d1f66cff8eaa1c90807bbfed370" aria-label="PHP" class="configuration-codeblock" data-language="php" style="display: none">
            <div translate="no" class="highlight-php notranslate">
    <table class="highlighttable">
        <tbody>
            <tr>
                <td class="linenos">
                    <div class="linenodiv">
                        <pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20</pre>
                    </div>
                </td>
                <td class="code">
                    <div class="highlight">
                        <pre class="hljs php"><span class="hljs-comment">// config/packages/security.php</span>
<span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>container</span><span class="hljs-operator">-&gt;</span>loadFromExtension(<span class="hljs-string">'security'</span>, [
    <span class="hljs-comment">// ...</span>
    <span class="hljs-string">'firewalls'</span> =&gt; [
        <span class="hljs-string">'main'</span> =&gt; [
            <span class="hljs-string">'logout'</span> =&gt; [
                <span class="hljs-string">'delete_cookies'</span> =&gt; [
                    <span class="hljs-string">'cookie1-name'</span> =&gt; <span class="hljs-keyword">null</span>,
                    <span class="hljs-string">'cookie2-name'</span> =&gt; [
                        <span class="hljs-string">'path'</span> =&gt; <span class="hljs-string">'/'</span>,
                    ],
                    <span class="hljs-string">'cookie3-name'</span> =&gt; [
                        <span class="hljs-string">'path'</span> =&gt; <span class="hljs-keyword">null</span>,
                        <span class="hljs-string">'domain'</span> =&gt; <span class="hljs-string">'example.com'</span>,
                    ],
                ],
            ],
        ],
    ],
]);</pre>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
        </div>
    </div>
</div>
<div class="section">
<h3 id="clear-site-data">
    clear_site_data
    <a class="headerlink" href="#clear-site-data" title="Permalink to this headline">¶</a>
</h3>
<p><strong>type</strong>: <code translate="no" class="notranslate">array</code> <strong>default</strong>: <code translate="no" class="notranslate">[]</code></p>
<p>The <code translate="no" class="notranslate">Clear-Site-Data</code> HTTP header clears browsing data (cookies, storage, cache)
associated with the requesting website. It allows web developers to have more
control over the data stored by a client browser for their origins.</p>
<p>Allowed values are <code translate="no" class="notranslate">cache</code>, <code translate="no" class="notranslate">cookies</code>, <code translate="no" class="notranslate">storage</code> and <code translate="no" class="notranslate">executionContexts</code>.
It's also possible to use <code translate="no" class="notranslate">*</code> as a wildcard for all directives:</p>
<div class="configuration-block">
    <div role="tablist" aria-label="Configuration formats" class="configuration-tabs configuration-tabs-length-3">
                    <button role="tab" type="button" data-language="yaml"
                aria-controls="configuration-block-tabpanel-ff60a0539cb6df42078bf94c98f9a8f31e012631" aria-selected="true"
                data-active="true" >
                <span>YAML</span>
            </button>
                    <button role="tab" type="button" data-language="xml"
                aria-controls="configuration-block-tabpanel-df9411771f6e7a2196612d1b62c3d4796641011a" aria-selected="false"
                 tabindex="-1">
                <span>XML</span>
            </button>
                    <button role="tab" type="button" data-language="php"
                aria-controls="configuration-block-tabpanel-bff7ccf8be5eaf47aa290a3146bc2ce7ec6e228b" aria-selected="false"
                 tabindex="-1">
                <span>PHP</span>
            </button>
            </div>

            <div role="tabpanel" id="configuration-block-tabpanel-ff60a0539cb6df42078bf94c98f9a8f31e012631" aria-label="YAML" class="configuration-codeblock" data-language="yaml" style="">
            <div translate="no" class="highlight-yaml notranslate">
    <table class="highlighttable">
        <tbody>
            <tr>
                <td class="linenos">
                    <div class="linenodiv">
                        <pre>1
2
3
4
5
6
7
8
9
10
11</pre>
                    </div>
                </td>
                <td class="code">
                    <div class="highlight">
                        <pre class="hljs yaml"><span class="hljs-comment"># config/packages/security.yaml</span>
<span class="hljs-attr">security:</span>
    <span class="hljs-comment"># ...</span>

    <span class="hljs-attr">firewalls:</span>
        <span class="hljs-attr">main:</span>
            <span class="hljs-comment"># ...</span>
            <span class="hljs-attr">logout:</span>
                <span class="hljs-attr">clear_site_data:</span>
                    <span class="hljs-bullet">-</span> <span class="hljs-string">cookies</span>
                    <span class="hljs-bullet">-</span> <span class="hljs-string">storage</span></pre>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
        </div>
            <div role="tabpanel" id="configuration-block-tabpanel-df9411771f6e7a2196612d1b62c3d4796641011a" aria-label="XML" class="configuration-codeblock" data-language="xml" style="display: none">
            <div translate="no" class="highlight-xml notranslate">
    <table class="highlighttable">
        <tbody>
            <tr>
                <td class="linenos">
                    <div class="linenodiv">
                        <pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20</pre>
                    </div>
                </td>
                <td class="code">
                    <div class="highlight">
                        <pre class="hljs xml"><span class="hljs-comment">&lt;!-- config/packages/security.xml --&gt;</span>
<span class="hljs-meta">&lt;?xml version="1.0" encoding="UTF-8" ?&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">srv:container</span> <span class="hljs-attr">xmlns</span>=<span class="hljs-string">"http://symfony.com/schema/dic/security"</span>
    <span class="hljs-attr">xmlns:xsi</span>=<span class="hljs-string">"http://www.w3.org/2001/XMLSchema-instance"</span>
    <span class="hljs-attr">xmlns:srv</span>=<span class="hljs-string">"http://symfony.com/schema/dic/services"</span>
    <span class="hljs-attr">xsi:schemaLocation</span>=<span class="hljs-string">"http://symfony.com/schema/dic/services
        https://symfony.com/schema/dic/services/services-1.0.xsd"</span>&gt;</span>

    <span class="hljs-tag">&lt;<span class="hljs-name">config</span>&gt;</span>
        <span class="hljs-comment">&lt;!-- ... --&gt;</span>

        <span class="hljs-tag">&lt;<span class="hljs-name">firewall</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"main"</span>&gt;</span>
            <span class="hljs-comment">&lt;!-- ... --&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">logout</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">clear-site-data</span>&gt;</span>cookies<span class="hljs-tag">&lt;/<span class="hljs-name">clear-site-data</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">clear-site-data</span>&gt;</span>storage<span class="hljs-tag">&lt;/<span class="hljs-name">clear-site-data</span>&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-name">logout</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">firewall</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">config</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">srv:container</span>&gt;</span></pre>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
        </div>
            <div role="tabpanel" id="configuration-block-tabpanel-bff7ccf8be5eaf47aa290a3146bc2ce7ec6e228b" aria-label="PHP" class="configuration-codeblock" data-language="php" style="display: none">
            <div translate="no" class="highlight-php notranslate">
    <table class="highlighttable">
        <tbody>
            <tr>
                <td class="linenos">
                    <div class="linenodiv">
                        <pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14</pre>
                    </div>
                </td>
                <td class="code">
                    <div class="highlight">
                        <pre class="hljs php"><span class="hljs-comment">// config/packages/security.php</span>
<span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>container</span><span class="hljs-operator">-&gt;</span>loadFromExtension(<span class="hljs-string">'security'</span>, [
    <span class="hljs-comment">// ...</span>
    <span class="hljs-string">'firewalls'</span> =&gt; [
        <span class="hljs-string">'main'</span> =&gt; [
            <span class="hljs-string">'logout'</span> =&gt; [
                <span class="hljs-string">'clear-site-data'</span> =&gt; [
                    <span class="hljs-string">'cookies'</span>,
                    <span class="hljs-string">'storage'</span>,
                ],
            ],
        ],
    ],
]);</pre>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
        </div>
    </div>
<div class="admonition admonition-versionadded ">
    <p class="admonition-title">
                                    <span>6.3</span>
    </p><p>The <code translate="no" class="notranslate">clear_site_data</code> option was introduced in Symfony 6.3.</p>
</div>
</div>
<div class="section">
<h3 id="invalidate-session">
    invalidate_session
    <a class="headerlink" href="#invalidate-session" title="Permalink to this headline">¶</a>
</h3>
<p><strong>type</strong>: <code translate="no" class="notranslate">boolean</code> <strong>default</strong>: <code translate="no" class="notranslate">true</code></p>
<p>By default, when users log out from any firewall, their sessions are invalidated.
This means that logging out from one firewall automatically logs them out from
all the other firewalls.</p>
<p>The <code translate="no" class="notranslate">invalidate_session</code> option allows to redefine this behavior. Set this
option to <code translate="no" class="notranslate">false</code> in every firewall and the user will only be logged out from
the current firewall and not the other ones.</p>
</div>
<div class="section">
<h3 id="path">
    <code translate="no" class="notranslate">path</code>
    <a class="headerlink" href="#path" title="Permalink to this headline">¶</a>
</h3>
<p><strong>type</strong>: <code translate="no" class="notranslate">string</code> <strong>default</strong>: <code translate="no" class="notranslate">/logout</code></p>
<p>The path which triggers logout. You need to set up a route with a matching path.</p>
</div>
<div class="section">
<h3 id="target">
    target
    <a class="headerlink" href="#target" title="Permalink to this headline">¶</a>
</h3>
<p><strong>type</strong>: <code translate="no" class="notranslate">string</code> <strong>default</strong>: <code translate="no" class="notranslate">/</code></p>
<p>The relative path (if the value starts with <code translate="no" class="notranslate">/</code>), or absolute URL (if it
starts with <code translate="no" class="notranslate">http://</code> or <code translate="no" class="notranslate">https://</code>) or the route name (otherwise) to
redirect after logout.</p>
<span id="reference-security-logout-csrf"></span>
</div>
<div class="section">
<h3 id="enable-csrf">
    enable_csrf
    <a class="headerlink" href="#enable-csrf" title="Permalink to this headline">¶</a>
</h3>
<p><strong>type</strong>: <code translate="no" class="notranslate">boolean</code> <strong>default</strong>: <code translate="no" class="notranslate">null</code></p>
<p>Set this option to <code translate="no" class="notranslate">true</code> to enable CSRF protection in the logout process
using Symfony's default CSRF token manager. Set also the <code translate="no" class="notranslate">csrf_token_manager</code>
option if you need to use a custom CSRF token manager.</p>
<div class="admonition admonition-versionadded ">
    <p class="admonition-title">
                                    <span>6.2</span>
    </p><p>The <code translate="no" class="notranslate">enable_csrf</code> option was introduced in Symfony 6.2.</p>
</div>
</div>
<div class="section">
<h3 id="csrf-parameter">
    csrf_parameter
    <a class="headerlink" href="#csrf-parameter" title="Permalink to this headline">¶</a>
</h3>
<p><strong>type</strong>: <code translate="no" class="notranslate">string</code> <strong>default</strong>: <code translate="no" class="notranslate">&#039;_csrf_token&#039;</code></p>
<p>The name of the parameter that stores the CSRF token value.</p>
</div>
<div class="section">
<h3 id="csrf-token-manager">
    csrf_token_manager
    <a class="headerlink" href="#csrf-token-manager" title="Permalink to this headline">¶</a>
</h3>
<p><strong>type</strong>: <code translate="no" class="notranslate">string</code> <strong>default</strong>: <code translate="no" class="notranslate">null</code></p>
<p>The <code translate="no" class="notranslate">id</code> of the service used to generate the CSRF tokens. Symfony provides a
default service whose ID is <code translate="no" class="notranslate">security.csrf.token_manager</code>.</p>
</div>
<div class="section">
<h3 id="csrf-token-id">
    csrf_token_id
    <a class="headerlink" href="#csrf-token-id" title="Permalink to this headline">¶</a>
</h3>
<p><strong>type</strong>: <code translate="no" class="notranslate">string</code> <strong>default</strong>: <code translate="no" class="notranslate">&#039;logout&#039;</code></p>
<p>An arbitrary string used to identify the token (and check its validity afterwards).</p>
<span id="reference-security-firewall-json-login"></span>
</div>
<div class="section">
<h3 id="json-login-authentication">
    JSON Login Authentication
    <a class="headerlink" href="#json-login-authentication" title="Permalink to this headline">¶</a>
</h3>
<div class="section">
<h4 id="check-path-1">
    check_path
    <a class="headerlink" href="#check-path-1" title="Permalink to this headline">¶</a>
</h4>
<p><strong>type</strong>: <code translate="no" class="notranslate">string</code> <strong>default</strong>: <code translate="no" class="notranslate">/login_check</code></p>
<p>This is the URL or route name the system must post to authenticate using
the JSON authenticator. The path must be covered by the firewall to which
the user will authenticate.</p>
</div>
<div class="section">
<h4 id="username-path">
    username_path
    <a class="headerlink" href="#username-path" title="Permalink to this headline">¶</a>
</h4>
<p><strong>type</strong>: <code translate="no" class="notranslate">string</code> <strong>default</strong>: <code translate="no" class="notranslate">username</code></p>
<p>Use this and <code translate="no" class="notranslate">password_path</code> to modify the expected request body
structure of the JSON authenticator. For instance, if the JSON document has
the following structure:</p>
<div translate="no" class="highlight-json notranslate">
    <table class="highlighttable">
        <tbody>
            <tr>
                <td class="linenos">
                    <div class="linenodiv">
                        <pre>1
2
3
4
5
6
7
8</pre>
                    </div>
                </td>
                <td class="code">
                    <div class="highlight">
                        <pre class="hljs json">{
    <span class="hljs-attr">"security"</span>: {
        <span class="hljs-attr">"credentials"</span>: {
            <span class="hljs-attr">"login"</span>: <span class="hljs-string">"dunglas"</span>,
            <span class="hljs-attr">"password"</span>: <span class="hljs-string">"MyPassword"</span>
        }
    }
}</pre>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
<p>The security configuration should be:</p>
<div class="configuration-block">
    <div role="tablist" aria-label="Configuration formats" class="configuration-tabs configuration-tabs-length-3">
                    <button role="tab" type="button" data-language="yaml"
                aria-controls="configuration-block-tabpanel-7a76497f265262417ace414f28e791196cea5370" aria-selected="true"
                data-active="true" >
                <span>YAML</span>
            </button>
                    <button role="tab" type="button" data-language="xml"
                aria-controls="configuration-block-tabpanel-d5f1b1904ed71c5d360784b7dfa2068ce103ccd1" aria-selected="false"
                 tabindex="-1">
                <span>XML</span>
            </button>
                    <button role="tab" type="button" data-language="php"
                aria-controls="configuration-block-tabpanel-85cb4c3cf2666279da6c147ce0c43e147c0292c9" aria-selected="false"
                 tabindex="-1">
                <span>PHP</span>
            </button>
            </div>

            <div role="tabpanel" id="configuration-block-tabpanel-7a76497f265262417ace414f28e791196cea5370" aria-label="YAML" class="configuration-codeblock" data-language="yaml" style="">
            <div translate="no" class="highlight-yaml notranslate">
    <table class="highlighttable">
        <tbody>
            <tr>
                <td class="linenos">
                    <div class="linenodiv">
                        <pre>1
2
3
4
5
6
7
8
9
10
11</pre>
                    </div>
                </td>
                <td class="code">
                    <div class="highlight">
                        <pre class="hljs yaml"><span class="hljs-comment"># config/packages/security.yaml</span>
<span class="hljs-attr">security:</span>
    <span class="hljs-comment"># ...</span>

    <span class="hljs-attr">firewalls:</span>
        <span class="hljs-attr">main:</span>
            <span class="hljs-attr">lazy:</span> <span class="hljs-literal">true</span>
            <span class="hljs-attr">json_login:</span>
                <span class="hljs-attr">check_path:</span>    <span class="hljs-string">login</span>
                <span class="hljs-attr">username_path:</span> <span class="hljs-string">security.credentials.login</span>
                <span class="hljs-attr">password_path:</span> <span class="hljs-string">security.credentials.password</span></pre>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
        </div>
            <div role="tabpanel" id="configuration-block-tabpanel-d5f1b1904ed71c5d360784b7dfa2068ce103ccd1" aria-label="XML" class="configuration-codeblock" data-language="xml" style="display: none">
            <div translate="no" class="highlight-xml notranslate">
    <table class="highlighttable">
        <tbody>
            <tr>
                <td class="linenos">
                    <div class="linenodiv">
                        <pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18</pre>
                    </div>
                </td>
                <td class="code">
                    <div class="highlight">
                        <pre class="hljs xml"><span class="hljs-comment">&lt;!-- config/packages/security.xml --&gt;</span>
<span class="hljs-meta">&lt;?xml version="1.0" encoding="UTF-8" ?&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">srv:container</span> <span class="hljs-attr">xmlns</span>=<span class="hljs-string">"http://symfony.com/schema/dic/security"</span>
    <span class="hljs-attr">xmlns:srv</span>=<span class="hljs-string">"http://symfony.com/schema/dic/services"</span>
    <span class="hljs-attr">xmlns:xsi</span>=<span class="hljs-string">"http://www.w3.org/2001/XMLSchema-instance"</span>
    <span class="hljs-attr">xsi:schemaLocation</span>=<span class="hljs-string">"http://symfony.com/schema/dic/services
        https://symfony.com/schema/dic/services/services-1.0.xsd
        http://symfony.com/schema/dic/security
        https://symfony.com/schema/dic/security/security-1.0.xsd"</span>&gt;</span>

    <span class="hljs-tag">&lt;<span class="hljs-name">config</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">firewall</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"main"</span> <span class="hljs-attr">lazy</span>=<span class="hljs-string">"true"</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">json-login</span> <span class="hljs-attr">check-path</span>=<span class="hljs-string">"login"</span>
                <span class="hljs-attr">username-path</span>=<span class="hljs-string">"security.credentials.login"</span>
                <span class="hljs-attr">password-path</span>=<span class="hljs-string">"security.credentials.password"</span>/&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">firewall</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">config</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">srv:container</span>&gt;</span></pre>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
        </div>
            <div role="tabpanel" id="configuration-block-tabpanel-85cb4c3cf2666279da6c147ce0c43e147c0292c9" aria-label="PHP" class="configuration-codeblock" data-language="php" style="display: none">
            <div translate="no" class="highlight-php notranslate">
    <table class="highlighttable">
        <tbody>
            <tr>
                <td class="linenos">
                    <div class="linenodiv">
                        <pre>1
2
3
4
5
6
7
8
9
10
11
12</pre>
                    </div>
                </td>
                <td class="code">
                    <div class="highlight">
                        <pre class="hljs php"><span class="hljs-comment">// config/packages/security.php</span>
<span class="hljs-keyword">use</span> <span class="hljs-title">Symfony</span>\<span class="hljs-title">Config</span>\<span class="hljs-title">SecurityConfig</span>;

<span class="hljs-keyword">return</span> <span class="hljs-keyword">static</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(SecurityConfig <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>security</span>)</span> </span>{
    <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>mainFirewall</span> = <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>security</span><span class="hljs-operator">-&gt;</span>firewall(<span class="hljs-string">'main'</span>);
    <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>mainFirewall</span><span class="hljs-operator">-&gt;</span>lazy(<span class="hljs-keyword">true</span>);
    <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>mainFirewall</span><span class="hljs-operator">-&gt;</span>jsonLogin()
        <span class="hljs-operator">-&gt;</span>checkPath(<span class="hljs-string">'/login'</span>)
        <span class="hljs-operator">-&gt;</span>usernamePath(<span class="hljs-string">'security.credentials.login'</span>)
        <span class="hljs-operator">-&gt;</span>passwordPath(<span class="hljs-string">'security.credentials.password'</span>)
    ;
};</pre>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
        </div>
    </div>
</div>
<div class="section">
<h4 id="password-path">
    password_path
    <a class="headerlink" href="#password-path" title="Permalink to this headline">¶</a>
</h4>
<p><strong>type</strong>: <code translate="no" class="notranslate">string</code> <strong>default</strong>: <code translate="no" class="notranslate">password</code></p>
<p>Use this option to modify the expected request body structure. See
<a href="security.html#username-path" class="reference internal">username_path</a> for more details.</p>
<span id="reference-security-ldap"></span>
</div>
</div>
<div class="section">
<h3 id="ldap-authentication">
    LDAP Authentication
    <a class="headerlink" href="#ldap-authentication" title="Permalink to this headline">¶</a>
</h3>
<p>There are several options for connecting against an LDAP server,
using the <code translate="no" class="notranslate">form_login_ldap</code>, <code translate="no" class="notranslate">http_basic_ldap</code> and <code translate="no" class="notranslate">json_login_ldap</code> authentication
providers or the <code translate="no" class="notranslate">ldap</code> user provider.</p>
<p>For even more details, see <a href="../../security/ldap.html" class="reference internal">Authenticating against an LDAP server</a>.</p>
<p><strong>Authentication</strong></p>
<p>You can authenticate to an LDAP server using the LDAP variants of the
<code translate="no" class="notranslate">form_login</code>, <code translate="no" class="notranslate">http_basic</code> and <code translate="no" class="notranslate">json_login</code> authentication providers. Use
<code translate="no" class="notranslate">form_login_ldap</code>, <code translate="no" class="notranslate">http_basic_ldap</code> and <code translate="no" class="notranslate">json_login_ldap</code>, which will
attempt to <code translate="no" class="notranslate">bind</code> against an LDAP server instead of using password comparison.</p>
<p>Both authentication providers have the same arguments as their normal
counterparts, with the addition of two configuration keys:</p>
<div class="section">
<h4 id="service">
    service
    <a class="headerlink" href="#service" title="Permalink to this headline">¶</a>
</h4>
<p><strong>type</strong>: <code translate="no" class="notranslate">string</code> <strong>default</strong>: <code translate="no" class="notranslate">ldap</code></p>
<p>This is the name of your configured LDAP client.</p>
</div>
<div class="section">
<h4 id="dn-string">
    dn_string
    <a class="headerlink" href="#dn-string" title="Permalink to this headline">¶</a>
</h4>
<p><strong>type</strong>: <code translate="no" class="notranslate">string</code> <strong>default</strong>: <code translate="no" class="notranslate">{user_identifier}</code></p>
<p>This is the string which will be used as the bind DN. The <code translate="no" class="notranslate">{user_identifier}</code>
placeholder will be replaced with the user-provided value (their login).
Depending on your LDAP server's configuration, you may need to override
this value.</p>
</div>
<div class="section">
<h4 id="query-string">
    query_string
    <a class="headerlink" href="#query-string" title="Permalink to this headline">¶</a>
</h4>
<p><strong>type</strong>: <code translate="no" class="notranslate">string</code> <strong>default</strong>: <code translate="no" class="notranslate">null</code></p>
<p>This is the string which will be used to query for the DN. The <code translate="no" class="notranslate">{user_identifier}</code>
placeholder will be replaced with the user-provided value (their login).
Depending on your LDAP server's configuration, you will need to override
this value. This setting is only necessary if the user's DN cannot be derived
statically using the <code translate="no" class="notranslate">dn_string</code> config option.</p>
<p><strong>User provider</strong></p>
<p>Users will still be fetched from the configured user provider. If you wish to
fetch your users from an LDAP server, you will need to use the
<a href="../../security/ldap.html" class="reference internal">LDAP User Provider</a> and any of these authentication
providers: <code translate="no" class="notranslate">form_login_ldap</code> or <code translate="no" class="notranslate">http_basic_ldap</code> or <code translate="no" class="notranslate">json_login_ldap</code>.</p>
<span id="reference-security-firewall-x509"></span>
</div>
</div>
<div class="section">
<h3 id="x-509-authentication">
    X.509 Authentication
    <a class="headerlink" href="#x-509-authentication" title="Permalink to this headline">¶</a>
</h3>
<div class="configuration-block">
    <div role="tablist" aria-label="Configuration formats" class="configuration-tabs configuration-tabs-length-3">
                    <button role="tab" type="button" data-language="yaml"
                aria-controls="configuration-block-tabpanel-f1e815eb345a16704d6c49e0ed75f52cebef5d1a" aria-selected="true"
                data-active="true" >
                <span>YAML</span>
            </button>
                    <button role="tab" type="button" data-language="xml"
                aria-controls="configuration-block-tabpanel-e3c821e113836356a4195f920ad8c1ecceade709" aria-selected="false"
                 tabindex="-1">
                <span>XML</span>
            </button>
                    <button role="tab" type="button" data-language="php"
                aria-controls="configuration-block-tabpanel-e281fd06f0c84c0a35ac2e8196c14fb61d58e723" aria-selected="false"
                 tabindex="-1">
                <span>PHP</span>
            </button>
            </div>

            <div role="tabpanel" id="configuration-block-tabpanel-f1e815eb345a16704d6c49e0ed75f52cebef5d1a" aria-label="YAML" class="configuration-codeblock" data-language="yaml" style="">
            <div translate="no" class="highlight-yaml notranslate">
    <table class="highlighttable">
        <tbody>
            <tr>
                <td class="linenos">
                    <div class="linenodiv">
                        <pre>1
2
3
4
5
6
7
8
9
10
11
12</pre>
                    </div>
                </td>
                <td class="code">
                    <div class="highlight">
                        <pre class="hljs yaml"><span class="hljs-comment"># config/packages/security.yaml</span>
<span class="hljs-attr">security:</span>
    <span class="hljs-comment"># ...</span>

    <span class="hljs-attr">firewalls:</span>
        <span class="hljs-attr">main:</span>
            <span class="hljs-comment"># ...</span>
            <span class="hljs-attr">x509:</span>
                <span class="hljs-attr">provider:</span>        <span class="hljs-string">your_user_provider</span>
                <span class="hljs-attr">user:</span>            <span class="hljs-string">SSL_CLIENT_S_DN_Email</span>
                <span class="hljs-attr">credentials:</span>     <span class="hljs-string">SSL_CLIENT_S_DN</span>
                <span class="hljs-attr">user_identifier:</span> <span class="hljs-string">emailAddress</span></pre>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
        </div>
            <div role="tabpanel" id="configuration-block-tabpanel-e3c821e113836356a4195f920ad8c1ecceade709" aria-label="XML" class="configuration-codeblock" data-language="xml" style="display: none">
            <div translate="no" class="highlight-xml notranslate">
    <table class="highlighttable">
        <tbody>
            <tr>
                <td class="linenos">
                    <div class="linenodiv">
                        <pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23</pre>
                    </div>
                </td>
                <td class="code">
                    <div class="highlight">
                        <pre class="hljs xml"><span class="hljs-comment">&lt;!-- config/packages/security.xml --&gt;</span>
<span class="hljs-meta">&lt;?xml version="1.0" encoding="UTF-8" ?&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">srv:container</span> <span class="hljs-attr">xmlns</span>=<span class="hljs-string">"http://symfony.com/schema/dic/security"</span>
    <span class="hljs-attr">xmlns:xsi</span>=<span class="hljs-string">"http://www.w3.org/2001/XMLSchema-instance"</span>
    <span class="hljs-attr">xmlns:srv</span>=<span class="hljs-string">"http://symfony.com/schema/dic/services"</span>
    <span class="hljs-attr">xsi:schemaLocation</span>=<span class="hljs-string">"http://symfony.com/schema/dic/services
        https://symfony.com/schema/dic/services/services-1.0.xsd
        http://symfony.com/schema/dic/security
        https://symfony.com/schema/dic/security/security-1.0.xsd"</span>&gt;</span>

    <span class="hljs-tag">&lt;<span class="hljs-name">config</span>&gt;</span>
        <span class="hljs-comment">&lt;!-- ... --&gt;</span>

        <span class="hljs-tag">&lt;<span class="hljs-name">firewall</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"main"</span>&gt;</span>
            <span class="hljs-comment">&lt;!-- ... --&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">x509</span> <span class="hljs-attr">provider</span>=<span class="hljs-string">"your_user_provider"</span>
                <span class="hljs-attr">user</span>=<span class="hljs-string">"SSL_CLIENT_S_DN_Email"</span>
                <span class="hljs-attr">credentials</span>=<span class="hljs-string">"SSL_CLIENT_S_DN"</span>
                <span class="hljs-attr">user_identifier</span>=<span class="hljs-string">"emailAddress"</span>
            /&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">firewall</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">config</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">srv:container</span>&gt;</span></pre>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
        </div>
            <div role="tabpanel" id="configuration-block-tabpanel-e281fd06f0c84c0a35ac2e8196c14fb61d58e723" aria-label="PHP" class="configuration-codeblock" data-language="php" style="display: none">
            <div translate="no" class="highlight-php notranslate">
    <table class="highlighttable">
        <tbody>
            <tr>
                <td class="linenos">
                    <div class="linenodiv">
                        <pre>1
2
3
4
5
6
7
8
9
10
11
12</pre>
                    </div>
                </td>
                <td class="code">
                    <div class="highlight">
                        <pre class="hljs php"><span class="hljs-comment">// config/packages/security.php</span>
<span class="hljs-keyword">use</span> <span class="hljs-title">Symfony</span>\<span class="hljs-title">Config</span>\<span class="hljs-title">SecurityConfig</span>;

<span class="hljs-keyword">return</span> <span class="hljs-keyword">static</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(SecurityConfig <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>security</span>)</span> </span>{
    <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>mainFirewall</span> = <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>security</span><span class="hljs-operator">-&gt;</span>firewall(<span class="hljs-string">'main'</span>);
    <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>mainFirewall</span><span class="hljs-operator">-&gt;</span>x509()
        <span class="hljs-operator">-&gt;</span>provider(<span class="hljs-string">'your_user_provider'</span>)
        <span class="hljs-operator">-&gt;</span>user(<span class="hljs-string">'SSL_CLIENT_S_DN_Email'</span>)
        <span class="hljs-operator">-&gt;</span>credentials(<span class="hljs-string">'SSL_CLIENT_S_DN'</span>)
        <span class="hljs-operator">-&gt;</span>userIdentifier(<span class="hljs-string">'emailAddress'</span>)
    ;
};</pre>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
        </div>
    </div>
<div class="section">
<h4 id="user">
    user
    <a class="headerlink" href="#user" title="Permalink to this headline">¶</a>
</h4>
<p><strong>type</strong>: <code translate="no" class="notranslate">string</code> <strong>default</strong>: <code translate="no" class="notranslate">SSL_CLIENT_S_DN_Email</code></p>
<p>The name of the <code translate="no" class="notranslate">$_SERVER</code> parameter containing the user identifier used
to load the user in Symfony. The default value is exposed by Apache.</p>
</div>
<div class="section">
<h4 id="credentials">
    credentials
    <a class="headerlink" href="#credentials" title="Permalink to this headline">¶</a>
</h4>
<p><strong>type</strong>: <code translate="no" class="notranslate">string</code> <strong>default</strong>: <code translate="no" class="notranslate">SSL_CLIENT_S_DN</code></p>
<p>If the <code translate="no" class="notranslate">user</code> parameter is not available, the name of the <code translate="no" class="notranslate">$_SERVER</code>
parameter containing the full &quot;distinguished name&quot; of the certificate
(exposed by e.g. Nginx).</p>
<p>By default, Symfony identifies the value following <code translate="no" class="notranslate">emailAddress=</code> in this
parameter. This can be changed using the <code translate="no" class="notranslate">user_identifier</code> option.</p>
</div>
<div class="section">
<h4 id="user-identifier">
    user_identifier
    <a class="headerlink" href="#user-identifier" title="Permalink to this headline">¶</a>
</h4>
<p><strong>type</strong>: <code translate="no" class="notranslate">string</code> <strong>default</strong>: <code translate="no" class="notranslate">emailAddress</code></p>
<div class="admonition admonition-versionadded ">
    <p class="admonition-title">
                                    <span>6.3</span>
    </p><p>The <code translate="no" class="notranslate">user_identifier</code> option was introduced in Symfony 6.3.</p>
</div>
<p>The value of this option tells Symfony which parameter to use to find the user
identifier in the &quot;distinguished name&quot;.</p>
<p>For example, if the &quot;distinguished name&quot; is
<code translate="no" class="notranslate">Subject: C=FR, O=My Organization, CN=user1, emailAddress=user1@myorg.fr</code>,
and the value of this option is <code translate="no" class="notranslate">&#039;CN&#039;</code>, the user identifier will be <code translate="no" class="notranslate">&#039;user1&#039;</code>.</p>
<span id="reference-security-firewall-remote-user"></span>
</div>
</div>
<div class="section">
<h3 id="remote-user-authentication">
    Remote User Authentication
    <a class="headerlink" href="#remote-user-authentication" title="Permalink to this headline">¶</a>
</h3>
<div class="configuration-block">
    <div role="tablist" aria-label="Configuration formats" class="configuration-tabs configuration-tabs-length-3">
                    <button role="tab" type="button" data-language="yaml"
                aria-controls="configuration-block-tabpanel-fec78fbc19449444cbe7c6f854326f42a52b1d94" aria-selected="true"
                data-active="true" >
                <span>YAML</span>
            </button>
                    <button role="tab" type="button" data-language="xml"
                aria-controls="configuration-block-tabpanel-477eb8ee6f45bddcaa46ec5f01f5cc7c033da525" aria-selected="false"
                 tabindex="-1">
                <span>XML</span>
            </button>
                    <button role="tab" type="button" data-language="php"
                aria-controls="configuration-block-tabpanel-4ca0cb1455e518b077d5d2c6c81cba332255f817" aria-selected="false"
                 tabindex="-1">
                <span>PHP</span>
            </button>
            </div>

            <div role="tabpanel" id="configuration-block-tabpanel-fec78fbc19449444cbe7c6f854326f42a52b1d94" aria-label="YAML" class="configuration-codeblock" data-language="yaml" style="">
            <div translate="no" class="highlight-yaml notranslate">
    <table class="highlighttable">
        <tbody>
            <tr>
                <td class="linenos">
                    <div class="linenodiv">
                        <pre>1
2
3
4
5
6
7
8</pre>
                    </div>
                </td>
                <td class="code">
                    <div class="highlight">
                        <pre class="hljs yaml"><span class="hljs-comment"># config/packages/security.yaml</span>
<span class="hljs-attr">security:</span>
    <span class="hljs-attr">firewalls:</span>
        <span class="hljs-attr">main:</span>
            <span class="hljs-comment"># ...</span>
            <span class="hljs-attr">remote_user:</span>
                <span class="hljs-attr">provider:</span> <span class="hljs-string">your_user_provider</span>
                <span class="hljs-attr">user:</span>     <span class="hljs-string">REMOTE_USER</span></pre>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
        </div>
            <div role="tabpanel" id="configuration-block-tabpanel-477eb8ee6f45bddcaa46ec5f01f5cc7c033da525" aria-label="XML" class="configuration-codeblock" data-language="xml" style="display: none">
            <div translate="no" class="highlight-xml notranslate">
    <table class="highlighttable">
        <tbody>
            <tr>
                <td class="linenos">
                    <div class="linenodiv">
                        <pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17</pre>
                    </div>
                </td>
                <td class="code">
                    <div class="highlight">
                        <pre class="hljs xml"><span class="hljs-comment">&lt;!-- config/packages/security.xml --&gt;</span>
<span class="hljs-meta">&lt;?xml version="1.0" encoding="UTF-8" ?&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">srv:container</span> <span class="hljs-attr">xmlns</span>=<span class="hljs-string">"http://symfony.com/schema/dic/security"</span>
    <span class="hljs-attr">xmlns:xsi</span>=<span class="hljs-string">"http://www.w3.org/2001/XMLSchema-instance"</span>
    <span class="hljs-attr">xmlns:srv</span>=<span class="hljs-string">"http://symfony.com/schema/dic/services"</span>
    <span class="hljs-attr">xsi:schemaLocation</span>=<span class="hljs-string">"http://symfony.com/schema/dic/services
        https://symfony.com/schema/dic/services/services-1.0.xsd
        http://symfony.com/schema/dic/security
        https://symfony.com/schema/dic/security/security-1.0.xsd"</span>&gt;</span>

    <span class="hljs-tag">&lt;<span class="hljs-name">config</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">firewall</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"main"</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">remote-user</span> <span class="hljs-attr">provider</span>=<span class="hljs-string">"your_user_provider"</span>
                <span class="hljs-attr">user</span>=<span class="hljs-string">"REMOTE_USER"</span>/&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">firewall</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">config</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">srv:container</span>&gt;</span></pre>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
        </div>
            <div role="tabpanel" id="configuration-block-tabpanel-4ca0cb1455e518b077d5d2c6c81cba332255f817" aria-label="PHP" class="configuration-codeblock" data-language="php" style="display: none">
            <div translate="no" class="highlight-php notranslate">
    <table class="highlighttable">
        <tbody>
            <tr>
                <td class="linenos">
                    <div class="linenodiv">
                        <pre>1
2
3
4
5
6
7
8
9
10</pre>
                    </div>
                </td>
                <td class="code">
                    <div class="highlight">
                        <pre class="hljs php"><span class="hljs-comment">// config/packages/security.php</span>
<span class="hljs-keyword">use</span> <span class="hljs-title">Symfony</span>\<span class="hljs-title">Config</span>\<span class="hljs-title">SecurityConfig</span>;

<span class="hljs-keyword">return</span> <span class="hljs-keyword">static</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(SecurityConfig <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>security</span>)</span> </span>{
    <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>mainFirewall</span> = <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>security</span><span class="hljs-operator">-&gt;</span>firewall(<span class="hljs-string">'main'</span>);
    <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>mainFirewall</span><span class="hljs-operator">-&gt;</span>remoteUser()
        <span class="hljs-operator">-&gt;</span>provider(<span class="hljs-string">'your_user_provider'</span>)
        <span class="hljs-operator">-&gt;</span>user(<span class="hljs-string">'REMOTE_USER'</span>)
    ;
};</pre>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
        </div>
    </div>
<div class="section">
<h4 id="provider">
    provider
    <a class="headerlink" href="#provider" title="Permalink to this headline">¶</a>
</h4>
<p><strong>type</strong>: <code translate="no" class="notranslate">string</code></p>
<p>The service ID of the user provider that should be used by this
authenticator.</p>
</div>
<div class="section">
<h4 id="user-1">
    user
    <a class="headerlink" href="#user-1" title="Permalink to this headline">¶</a>
</h4>
<p><strong>type</strong>: <code translate="no" class="notranslate">string</code> <strong>default</strong>: <code translate="no" class="notranslate">REMOTE_USER</code></p>
<p>The name of the <code translate="no" class="notranslate">$_SERVER</code> parameter holding the user identifier.</p>
<span id="reference-security-firewall-context"></span>
</div>
</div>
<div class="section">
<h3 id="firewall-context">
    Firewall Context
    <a class="headerlink" href="#firewall-context" title="Permalink to this headline">¶</a>
</h3>
<p>If your application uses multiple <a href="../../security.html#firewalls-authentication" class="reference internal">firewalls</a>, you'll notice that
if you're authenticated in one firewall, you're not automatically authenticated
in another. In other words, the systems don't share a common &quot;context&quot;:
each firewall acts like a separate security system.</p>
<p>However, each firewall has an optional <code translate="no" class="notranslate">context</code> key (which defaults to
the name of the firewall), which is used when storing and retrieving security
data to and from the session. If this key were set to the same value across
multiple firewalls, the &quot;context&quot; could actually be shared:</p>
<div class="configuration-block">
    <div role="tablist" aria-label="Configuration formats" class="configuration-tabs configuration-tabs-length-3">
                    <button role="tab" type="button" data-language="yaml"
                aria-controls="configuration-block-tabpanel-b5829e7e3ff7b9faba4cdb966dd97cb99305c095" aria-selected="true"
                data-active="true" >
                <span>YAML</span>
            </button>
                    <button role="tab" type="button" data-language="xml"
                aria-controls="configuration-block-tabpanel-fdd384e947eda980dd6e367c49e760108f99197e" aria-selected="false"
                 tabindex="-1">
                <span>XML</span>
            </button>
                    <button role="tab" type="button" data-language="php"
                aria-controls="configuration-block-tabpanel-9ee790c1dc758c9c9dd82adf93be0e4fa3208e2e" aria-selected="false"
                 tabindex="-1">
                <span>PHP</span>
            </button>
            </div>

            <div role="tabpanel" id="configuration-block-tabpanel-b5829e7e3ff7b9faba4cdb966dd97cb99305c095" aria-label="YAML" class="configuration-codeblock" data-language="yaml" style="">
            <div translate="no" class="highlight-yaml notranslate">
    <table class="highlighttable">
        <tbody>
            <tr>
                <td class="linenos">
                    <div class="linenodiv">
                        <pre>1
2
3
4
5
6
7
8
9
10
11</pre>
                    </div>
                </td>
                <td class="code">
                    <div class="highlight">
                        <pre class="hljs yaml"><span class="hljs-comment"># config/packages/security.yaml</span>
<span class="hljs-attr">security:</span>
    <span class="hljs-comment"># ...</span>

    <span class="hljs-attr">firewalls:</span>
        <span class="hljs-attr">somename:</span>
            <span class="hljs-comment"># ...</span>
            <span class="hljs-attr">context:</span> <span class="hljs-string">my_context</span>
        <span class="hljs-attr">othername:</span>
            <span class="hljs-comment"># ...</span>
            <span class="hljs-attr">context:</span> <span class="hljs-string">my_context</span></pre>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
        </div>
            <div role="tabpanel" id="configuration-block-tabpanel-fdd384e947eda980dd6e367c49e760108f99197e" aria-label="XML" class="configuration-codeblock" data-language="xml" style="display: none">
            <div translate="no" class="highlight-xml notranslate">
    <table class="highlighttable">
        <tbody>
            <tr>
                <td class="linenos">
                    <div class="linenodiv">
                        <pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19</pre>
                    </div>
                </td>
                <td class="code">
                    <div class="highlight">
                        <pre class="hljs xml"><span class="hljs-comment">&lt;!-- config/packages/security.xml --&gt;</span>
<span class="hljs-meta">&lt;?xml version="1.0" encoding="UTF-8" ?&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">srv:container</span> <span class="hljs-attr">xmlns</span>=<span class="hljs-string">"http://symfony.com/schema/dic/security"</span>
    <span class="hljs-attr">xmlns:xsi</span>=<span class="hljs-string">"http://www.w3.org/2001/XMLSchema-instance"</span>
    <span class="hljs-attr">xmlns:srv</span>=<span class="hljs-string">"http://symfony.com/schema/dic/services"</span>
    <span class="hljs-attr">xsi:schemaLocation</span>=<span class="hljs-string">"http://symfony.com/schema/dic/services
        https://symfony.com/schema/dic/services/services-1.0.xsd
        http://symfony.com/schema/dic/security
        https://symfony.com/schema/dic/security/security-1.0.xsd"</span>&gt;</span>

    <span class="hljs-tag">&lt;<span class="hljs-name">config</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">firewall</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"somename"</span> <span class="hljs-attr">context</span>=<span class="hljs-string">"my_context"</span>&gt;</span>
            <span class="hljs-comment">&lt;!-- ... --&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">firewall</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">firewall</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"othername"</span> <span class="hljs-attr">context</span>=<span class="hljs-string">"my_context"</span>&gt;</span>
            <span class="hljs-comment">&lt;!-- ... --&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">firewall</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">config</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">srv:container</span>&gt;</span></pre>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
        </div>
            <div role="tabpanel" id="configuration-block-tabpanel-9ee790c1dc758c9c9dd82adf93be0e4fa3208e2e" aria-label="PHP" class="configuration-codeblock" data-language="php" style="display: none">
            <div translate="no" class="highlight-php notranslate">
    <table class="highlighttable">
        <tbody>
            <tr>
                <td class="linenos">
                    <div class="linenodiv">
                        <pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14</pre>
                    </div>
                </td>
                <td class="code">
                    <div class="highlight">
                        <pre class="hljs php"><span class="hljs-comment">// config/packages/security.php</span>
<span class="hljs-keyword">use</span> <span class="hljs-title">Symfony</span>\<span class="hljs-title">Config</span>\<span class="hljs-title">SecurityConfig</span>;

<span class="hljs-keyword">return</span> <span class="hljs-keyword">static</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(SecurityConfig <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>security</span>)</span> </span>{
    <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>security</span><span class="hljs-operator">-&gt;</span>firewall(<span class="hljs-string">'somename'</span>)
        <span class="hljs-comment">// ...</span>
        <span class="hljs-operator">-&gt;</span>context(<span class="hljs-string">'my_context'</span>)
    ;

    <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>security</span><span class="hljs-operator">-&gt;</span>firewall(<span class="hljs-string">'othername'</span>)
        <span class="hljs-comment">// ...</span>
        <span class="hljs-operator">-&gt;</span>context(<span class="hljs-string">'my_context'</span>)
    ;
};</pre>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
        </div>
    </div>
<div class="admonition admonition-note ">
    <p class="admonition-title">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" width="24" height="24" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z" /></svg>
                <span>Note</span>
    </p><p>The firewall context key is stored in session, so every firewall using it
must set its <code translate="no" class="notranslate">stateless</code> option to <code translate="no" class="notranslate">false</code>. Otherwise, the context is
ignored and you won't be able to authenticate on multiple firewalls at the
same time.</p>
</div>
</div>
<div class="section">
<h3 id="stateless">
    stateless
    <a class="headerlink" href="#stateless" title="Permalink to this headline">¶</a>
</h3>
<p>Firewalls can configure a <code translate="no" class="notranslate">stateless</code> boolean option in order to declare that
the session must not be used when authenticating users:</p>
<div class="configuration-block">
    <div role="tablist" aria-label="Configuration formats" class="configuration-tabs configuration-tabs-length-3">
                    <button role="tab" type="button" data-language="yaml"
                aria-controls="configuration-block-tabpanel-63ae9a82066ee75d043641980cdfec8c3107ca14" aria-selected="true"
                data-active="true" >
                <span>YAML</span>
            </button>
                    <button role="tab" type="button" data-language="xml"
                aria-controls="configuration-block-tabpanel-301f709f00faddf1889c2525d612a7d002e80e90" aria-selected="false"
                 tabindex="-1">
                <span>XML</span>
            </button>
                    <button role="tab" type="button" data-language="php"
                aria-controls="configuration-block-tabpanel-eeaee274637fa486d71ba9bf44b84fd10fd8b083" aria-selected="false"
                 tabindex="-1">
                <span>PHP</span>
            </button>
            </div>

            <div role="tabpanel" id="configuration-block-tabpanel-63ae9a82066ee75d043641980cdfec8c3107ca14" aria-label="YAML" class="configuration-codeblock" data-language="yaml" style="">
            <div translate="no" class="highlight-yaml notranslate">
    <table class="highlighttable">
        <tbody>
            <tr>
                <td class="linenos">
                    <div class="linenodiv">
                        <pre>1
2
3
4
5
6
7
8</pre>
                    </div>
                </td>
                <td class="code">
                    <div class="highlight">
                        <pre class="hljs yaml"><span class="hljs-comment"># config/packages/security.yaml</span>
<span class="hljs-attr">security:</span>
    <span class="hljs-comment"># ...</span>

    <span class="hljs-attr">firewalls:</span>
        <span class="hljs-attr">main:</span>
            <span class="hljs-comment"># ...</span>
            <span class="hljs-attr">stateless:</span> <span class="hljs-literal">true</span></pre>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
        </div>
            <div role="tabpanel" id="configuration-block-tabpanel-301f709f00faddf1889c2525d612a7d002e80e90" aria-label="XML" class="configuration-codeblock" data-language="xml" style="display: none">
            <div translate="no" class="highlight-xml notranslate">
    <table class="highlighttable">
        <tbody>
            <tr>
                <td class="linenos">
                    <div class="linenodiv">
                        <pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16</pre>
                    </div>
                </td>
                <td class="code">
                    <div class="highlight">
                        <pre class="hljs xml"><span class="hljs-comment">&lt;!-- config/packages/security.xml --&gt;</span>
<span class="hljs-meta">&lt;?xml version="1.0" encoding="UTF-8" ?&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">srv:container</span> <span class="hljs-attr">xmlns</span>=<span class="hljs-string">"http://symfony.com/schema/dic/security"</span>
    <span class="hljs-attr">xmlns:srv</span>=<span class="hljs-string">"http://symfony.com/schema/dic/services"</span>
    <span class="hljs-attr">xmlns:xsi</span>=<span class="hljs-string">"http://www.w3.org/2001/XMLSchema-instance"</span>
    <span class="hljs-attr">xsi:schemaLocation</span>=<span class="hljs-string">"http://symfony.com/schema/dic/services
        https://symfony.com/schema/dic/services/services-1.0.xsd
        http://symfony.com/schema/dic/security
        https://symfony.com/schema/dic/security/security-1.0.xsd"</span>&gt;</span>

    <span class="hljs-tag">&lt;<span class="hljs-name">config</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">firewall</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"main"</span> <span class="hljs-attr">stateless</span>=<span class="hljs-string">"true"</span>&gt;</span>
            <span class="hljs-comment">&lt;!-- ... --&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">firewall</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">config</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">srv:container</span>&gt;</span></pre>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
        </div>
            <div role="tabpanel" id="configuration-block-tabpanel-eeaee274637fa486d71ba9bf44b84fd10fd8b083" aria-label="PHP" class="configuration-codeblock" data-language="php" style="display: none">
            <div translate="no" class="highlight-php notranslate">
    <table class="highlighttable">
        <tbody>
            <tr>
                <td class="linenos">
                    <div class="linenodiv">
                        <pre>1
2
3
4
5
6
7
8</pre>
                    </div>
                </td>
                <td class="code">
                    <div class="highlight">
                        <pre class="hljs php"><span class="hljs-comment">// config/packages/security.php</span>
<span class="hljs-keyword">use</span> <span class="hljs-title">Symfony</span>\<span class="hljs-title">Config</span>\<span class="hljs-title">SecurityConfig</span>;

<span class="hljs-keyword">return</span> <span class="hljs-keyword">static</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(SecurityConfig <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>security</span>)</span> </span>{
    <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>mainFirewall</span> = <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>security</span><span class="hljs-operator">-&gt;</span>firewall(<span class="hljs-string">'main'</span>);
    <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>mainFirewall</span><span class="hljs-operator">-&gt;</span>stateless(<span class="hljs-keyword">true</span>);
    <span class="hljs-comment">// ...</span>
};</pre>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
        </div>
    </div>
<p>Routes under this firewall will be <a href="../../routing.html#stateless-routing" class="reference internal">configured stateless</a>.</p>
<div class="admonition admonition-versionadded ">
    <p class="admonition-title">
                                    <span>6.3</span>
    </p><p>Stateless firewall marking routes stateless was introduced in Symfony 6.3.</p>
</div>
</div>
<div class="section">
<h3 id="user-checkers">
    User Checkers
    <a class="headerlink" href="#user-checkers" title="Permalink to this headline">¶</a>
</h3>
<p>During the authentication of a user, additional checks might be required to
verify if the identified user is allowed to log in. Each firewall can include
a <code translate="no" class="notranslate">user_checker</code> option to define the service used to perform those checks.</p>
<p>Learn more about user checkers in <a href="../../security/user_checkers.html" class="reference internal">How to Create and Enable Custom User Checkers</a>.</p>
</div>
</div>
<div class="section">
<h2 id="providers">
    providers
    <a class="headerlink" href="#providers" title="Permalink to this headline">¶</a>
</h2>
<p>This option defines how the application users are loaded (from a database,
an LDAP server, a configuration file, etc.) Read
<a href="../../security/user_providers.html" class="reference internal">User Providers</a> to learn more about each of those
providers.</p>
</div>
<div class="section">
<h2 id="role-hierarchy">
    role_hierarchy
    <a class="headerlink" href="#role-hierarchy" title="Permalink to this headline">¶</a>
</h2>
<p>Instead of associating many roles to users, this option allows you to define
role inheritance rules by creating a role hierarchy, as explained in
<a href="../../security.html#security-role-hierarchy" class="reference internal">Security</a>.</p>
</div>
</div>

                            </div>                    </div>
                                    </div>        </div>

    </section>

</div>


<script type="text/javascript" src="assets/js/theme.js"></script>
<script type="text/javascript" src="assets/js/badge_only.js"></script>

 
</body>
</html>