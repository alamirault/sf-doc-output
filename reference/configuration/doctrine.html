        
<!DOCTYPE html>
<!--[if IE 8]>
<html class="no-js lt-ie9" lang="en"> <![endif]-->
<!--[if gt IE 8]><!-->
<html class="no-js" lang="en"> <!--<![endif]-->
<head><base href="/">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
            
                                
    
    <link rel="stylesheet" href="assets/css/theme.css" type="text/css" />
    <link rel="stylesheet" href="assets/css/highlightjs.css" type="text/css" />
    <link rel="stylesheet" href="assets/css/badge_only.css" type="text/css" />

</head>

<body class="wy-body-for-nav">
 <div class="wy-grid-for-nav">

        <nav data-toggle="wy-nav-shift" class="wy-nav-side">
        <div class="wy-side-scroll">
            <div class="wy-side-nav-search">
                
                                                                                                    
                                                                                                                                                                        </div>

            <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
                                                                                                                                                                                                                                                                                                                            </div>
        </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

                                                        

        <div class="wy-nav-content">                <div class="rst-content">
                                        <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">                            <div itemprop="articleBody">
                                    <div class="section">
<h1 id="doctrine-configuration-reference-doctrinebundle">
    Doctrine Configuration Reference (DoctrineBundle)
    <a class="headerlink" href="#doctrine-configuration-reference-doctrinebundle" title="Permalink to this headline">¶</a>
</h1>
<p>The DoctrineBundle integrates both the <a href="../../doctrine/dbal.html" class="reference internal">DBAL</a> and
<a href="../../doctrine.html" class="reference internal">ORM</a> Doctrine projects in Symfony applications. All these
options are configured under the <code translate="no" class="notranslate">doctrine</code> key in your application
configuration.</p>
<div translate="no" class="highlight-terminal highlight-bash notranslate">
    <table class="highlighttable">
        <tbody>
            <tr>
                <td class="linenos">
                    <div class="linenodiv">
                        <pre>1
2
3
4
5</pre>
                    </div>
                </td>
                <td class="code">
                    <div class="highlight">
                        <pre class="hljs terminal bash"><span class="hljs-comment"># displays the default config values defined by Symfony</span>
<span class="hljs-prompt">$ </span>php bin/console config:dump-reference doctrine

<span class="hljs-comment"># displays the actual config values used by your application</span>
<span class="hljs-prompt">$ </span>php bin/console debug:config doctrine</pre>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
<div class="admonition admonition-note ">
    <p class="admonition-title">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" width="24" height="24" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z" /></svg>
                <span>Note</span>
    </p><p>When using XML, you must use the <code translate="no" class="notranslate">http://symfony.com/schema/dic/doctrine</code>
namespace and the related XSD schema is available at:
<code translate="no" class="notranslate">https://symfony.com/schema/dic/doctrine/doctrine-1.0.xsd</code></p>
</div>
<span id="reference-dbal-configuration"></span>
<div class="section">
<h2 id="doctrine-dbal-configuration">
    Doctrine DBAL Configuration
    <a class="headerlink" href="#doctrine-dbal-configuration" title="Permalink to this headline">¶</a>
</h2>
<p>DoctrineBundle supports all parameters that default Doctrine drivers
accept, converted to the XML or YAML naming standards that Symfony
enforces. See the Doctrine <a href="https://www.doctrine-project.org/projects/doctrine-dbal/en/current/reference/configuration.html" class="reference external" rel="external noopener noreferrer" target="_blank">DBAL documentation</a> for more information.
The following block shows all possible configuration keys:</p>
<div class="configuration-block">
    <div role="tablist" aria-label="Configuration formats" class="configuration-tabs configuration-tabs-length-2">
                    <button role="tab" type="button" data-language="yaml"
                aria-controls="configuration-block-tabpanel-170d8504068509edd8ae87e32302e52124a904a5" aria-selected="true"
                data-active="true" >
                <span>YAML</span>
            </button>
                    <button role="tab" type="button" data-language="xml"
                aria-controls="configuration-block-tabpanel-251ebaa93123d0704420a2710fe287697167d955" aria-selected="false"
                 tabindex="-1">
                <span>XML</span>
            </button>
            </div>

            <div role="tabpanel" id="configuration-block-tabpanel-170d8504068509edd8ae87e32302e52124a904a5" aria-label="YAML" class="configuration-codeblock" data-language="yaml" style="">
            <div translate="no" class="highlight-yaml notranslate">
    <table class="highlighttable">
        <tbody>
            <tr>
                <td class="linenos">
                    <div class="linenodiv">
                        <pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28</pre>
                    </div>
                </td>
                <td class="code">
                    <div class="highlight">
                        <pre class="hljs yaml"><span class="hljs-attr">doctrine:</span>
    <span class="hljs-attr">dbal:</span>
        <span class="hljs-attr">dbname:</span>               <span class="hljs-string">database</span>
        <span class="hljs-attr">host:</span>                 <span class="hljs-string">localhost</span>
        <span class="hljs-attr">port:</span>                 <span class="hljs-number">1234</span>
        <span class="hljs-attr">user:</span>                 <span class="hljs-string">user</span>
        <span class="hljs-attr">password:</span>             <span class="hljs-string">secret</span>
        <span class="hljs-attr">driver:</span>               <span class="hljs-string">pdo_mysql</span>
        <span class="hljs-comment"># if the url option is specified, it will override the above config</span>
        <span class="hljs-attr">url:</span>                  <span class="hljs-string">mysql://db_user:db_password@127.0.0.1:3306/db_name</span>
        <span class="hljs-comment"># the DBAL driverClass option</span>
        <span class="hljs-attr">driver_class:</span>         <span class="hljs-string">App\DBAL\MyDatabaseDriver</span>
        <span class="hljs-comment"># the DBAL driverOptions option</span>
        <span class="hljs-attr">options:</span>
            <span class="hljs-attr">foo:</span> <span class="hljs-string">bar</span>
        <span class="hljs-attr">path:</span>                 <span class="hljs-string">'%kernel.project_dir%/var/data/data.sqlite'</span>
        <span class="hljs-attr">memory:</span>               <span class="hljs-literal">true</span>
        <span class="hljs-attr">unix_socket:</span>          <span class="hljs-string">/tmp/mysql.sock</span>
        <span class="hljs-comment"># the DBAL wrapperClass option</span>
        <span class="hljs-attr">wrapper_class:</span>        <span class="hljs-string">App\DBAL\MyConnectionWrapper</span>
        <span class="hljs-attr">charset:</span>              <span class="hljs-string">utf8mb4</span>
        <span class="hljs-attr">logging:</span>              <span class="hljs-string">'%kernel.debug%'</span>
        <span class="hljs-attr">platform_service:</span>     <span class="hljs-string">App\DBAL\MyDatabasePlatformService</span>
        <span class="hljs-attr">server_version:</span>       <span class="hljs-string">'5.7'</span>
        <span class="hljs-attr">mapping_types:</span>
            <span class="hljs-attr">enum:</span> <span class="hljs-string">string</span>
        <span class="hljs-attr">types:</span>
            <span class="hljs-attr">custom:</span> <span class="hljs-string">App\DBAL\MyCustomType</span></pre>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
        </div>
            <div role="tabpanel" id="configuration-block-tabpanel-251ebaa93123d0704420a2710fe287697167d955" aria-label="XML" class="configuration-codeblock" data-language="xml" style="display: none">
            <div translate="no" class="highlight-xml notranslate">
    <table class="highlighttable">
        <tbody>
            <tr>
                <td class="linenos">
                    <div class="linenodiv">
                        <pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34</pre>
                    </div>
                </td>
                <td class="code">
                    <div class="highlight">
                        <pre class="hljs xml"><span class="hljs-meta">&lt;?xml version="1.0" encoding="UTF-8" ?&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">container</span> <span class="hljs-attr">xmlns</span>=<span class="hljs-string">"http://symfony.com/schema/dic/services"</span>
    <span class="hljs-attr">xmlns:xsi</span>=<span class="hljs-string">"http://www.w3.org/2001/XMLSchema-instance"</span>
    <span class="hljs-attr">xmlns:doctrine</span>=<span class="hljs-string">"http://symfony.com/schema/dic/doctrine"</span>
    <span class="hljs-attr">xsi:schemaLocation</span>=<span class="hljs-string">"http://symfony.com/schema/dic/services
        https://symfony.com/schema/dic/services/services-1.0.xsd
        http://symfony.com/schema/dic/doctrine
        https://symfony.com/schema/dic/doctrine/doctrine-1.0.xsd"</span>&gt;</span>

    <span class="hljs-tag">&lt;<span class="hljs-name">doctrine:config</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">doctrine:dbal</span>
            <span class="hljs-attr">name</span>=<span class="hljs-string">"default"</span>
            <span class="hljs-attr">dbname</span>=<span class="hljs-string">"database"</span>
            <span class="hljs-attr">host</span>=<span class="hljs-string">"localhost"</span>
            <span class="hljs-attr">port</span>=<span class="hljs-string">"1234"</span>
            <span class="hljs-attr">user</span>=<span class="hljs-string">"user"</span>
            <span class="hljs-attr">password</span>=<span class="hljs-string">"secret"</span>
            <span class="hljs-attr">driver</span>=<span class="hljs-string">"pdo_mysql"</span>
            <span class="hljs-attr">driver-class</span>=<span class="hljs-string">"App\DBAL\MyDatabaseDriver"</span>
            <span class="hljs-attr">path</span>=<span class="hljs-string">"%kernel.project_dir%/var/data/data.sqlite"</span>
            <span class="hljs-attr">memory</span>=<span class="hljs-string">"true"</span>
            <span class="hljs-attr">unix-socket</span>=<span class="hljs-string">"/tmp/mysql.sock"</span>
            <span class="hljs-attr">wrapper-class</span>=<span class="hljs-string">"App\DBAL\MyConnectionWrapper"</span>
            <span class="hljs-attr">charset</span>=<span class="hljs-string">"utf8mb4"</span>
            <span class="hljs-attr">logging</span>=<span class="hljs-string">"%kernel.debug%"</span>
            <span class="hljs-attr">platform-service</span>=<span class="hljs-string">"App\DBAL\MyDatabasePlatformService"</span>
            <span class="hljs-attr">server-version</span>=<span class="hljs-string">"5.7"</span>&gt;</span>

            <span class="hljs-tag">&lt;<span class="hljs-name">doctrine:option</span> <span class="hljs-attr">key</span>=<span class="hljs-string">"foo"</span>&gt;</span>bar<span class="hljs-tag">&lt;/<span class="hljs-name">doctrine:option</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">doctrine:mapping-type</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"enum"</span>&gt;</span>string<span class="hljs-tag">&lt;/<span class="hljs-name">doctrine:mapping-type</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">doctrine:type</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"custom"</span>&gt;</span>App\DBAL\MyCustomType<span class="hljs-tag">&lt;/<span class="hljs-name">doctrine:type</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">doctrine:dbal</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">doctrine:config</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">container</span>&gt;</span></pre>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
        </div>
    </div>
<div class="admonition admonition-note ">
    <p class="admonition-title">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" width="24" height="24" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z" /></svg>
                <span>Note</span>
    </p><p>The <code translate="no" class="notranslate">server_version</code> option was added in Doctrine DBAL 2.5, which
is used by DoctrineBundle 1.3. The value of this option should match
your database server version (use <code translate="no" class="notranslate">postgres -V</code> or <code translate="no" class="notranslate">psql -V</code> command
to find your PostgreSQL version and <code translate="no" class="notranslate">mysql -V</code> to get your MySQL
version).</p>
<p>If you are running a MariaDB database, you must prefix the <code translate="no" class="notranslate">server_version</code>
value with <code translate="no" class="notranslate">mariadb-</code> (e.g. <code translate="no" class="notranslate">server_version: mariadb-10.4.14</code>).</p>
<p>Always wrap the server version number with quotes to parse it as a string
instead of a float number. Otherwise, the floating-point representation
issues can make your version be considered a different number (e.g. <code translate="no" class="notranslate">5.7</code>
will be rounded as <code translate="no" class="notranslate">5.6999999999999996447286321199499070644378662109375</code>).</p>
<p>If you don't define this option and you haven't created your database
yet, you may get <code translate="no" class="notranslate">PDOException</code> errors because Doctrine will try to
guess the database server version automatically and none is available.</p>
</div>
<p>If you want to configure multiple connections in YAML, put them under the
<code translate="no" class="notranslate">connections</code> key and give them a unique name:</p>
<div translate="no" class="highlight-yaml notranslate">
    <table class="highlighttable">
        <tbody>
            <tr>
                <td class="linenos">
                    <div class="linenodiv">
                        <pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16</pre>
                    </div>
                </td>
                <td class="code">
                    <div class="highlight">
                        <pre class="hljs yaml"><span class="hljs-attr">doctrine:</span>
    <span class="hljs-attr">dbal:</span>
        <span class="hljs-attr">default_connection:</span>       <span class="hljs-string">default</span>
        <span class="hljs-attr">connections:</span>
            <span class="hljs-attr">default:</span>
                <span class="hljs-attr">dbname:</span>           <span class="hljs-string">Symfony</span>
                <span class="hljs-attr">user:</span>             <span class="hljs-string">root</span>
                <span class="hljs-attr">password:</span>         <span class="hljs-literal">null</span>
                <span class="hljs-attr">host:</span>             <span class="hljs-string">localhost</span>
                <span class="hljs-attr">server_version:</span>   <span class="hljs-string">'5.6'</span>
            <span class="hljs-attr">customer:</span>
                <span class="hljs-attr">dbname:</span>           <span class="hljs-string">customer</span>
                <span class="hljs-attr">user:</span>             <span class="hljs-string">root</span>
                <span class="hljs-attr">password:</span>         <span class="hljs-literal">null</span>
                <span class="hljs-attr">host:</span>             <span class="hljs-string">localhost</span>
                <span class="hljs-attr">server_version:</span>   <span class="hljs-string">'5.7'</span></pre>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
<p>The <code translate="no" class="notranslate">database_connection</code> service always refers to the <em>default</em> connection,
which is the first one defined or the one configured via the
<code translate="no" class="notranslate">default_connection</code> parameter.</p>
<p>Each connection is also accessible via the <code translate="no" class="notranslate">doctrine.dbal.[name]_connection</code>
service where <code translate="no" class="notranslate">[name]</code> is the name of the connection. In a <a href="../../controller.html" class="reference internal">controller</a>
you can access it using the <code translate="no" class="notranslate">getConnection()</code> method and the name of the connection:</p>
<div translate="no" class="highlight-php notranslate">
    <table class="highlighttable">
        <tbody>
            <tr>
                <td class="linenos">
                    <div class="linenodiv">
                        <pre>1
2
3
4
5
6
7
8
9
10
11
12
13</pre>
                    </div>
                </td>
                <td class="code">
                    <div class="highlight">
                        <pre class="hljs php"><span class="hljs-comment">// src/Controller/SomeController.php</span>
<span class="hljs-keyword">use</span> <span class="hljs-title">Doctrine</span>\<span class="hljs-title">Persistence</span>\<span class="hljs-title">ManagerRegistry</span>;

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">SomeController</span>
</span>{
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">someMethod</span><span class="hljs-params">(ManagerRegistry <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>doctrine</span>)</span>
    </span>{
        <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>connection</span> = <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>doctrine</span><span class="hljs-operator">-&gt;</span>getConnection(<span class="hljs-string">'customer'</span>);
        <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>result</span> = <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>connection</span><span class="hljs-operator">-&gt;</span>fetchAll(<span class="hljs-string">'SELECT name FROM customer'</span>);

        <span class="hljs-comment">// ...</span>
    }
}</pre>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
</div>
<div class="section">
<h2 id="doctrine-orm-configuration">
    Doctrine ORM Configuration
    <a class="headerlink" href="#doctrine-orm-configuration" title="Permalink to this headline">¶</a>
</h2>
<p>This following configuration example shows all the configuration defaults
that the ORM resolves to:</p>
<div translate="no" class="highlight-yaml notranslate">
    <table class="highlighttable">
        <tbody>
            <tr>
                <td class="linenos">
                    <div class="linenodiv">
                        <pre>1
2
3
4
5
6
7
8
9
10
11
12</pre>
                    </div>
                </td>
                <td class="code">
                    <div class="highlight">
                        <pre class="hljs yaml"><span class="hljs-attr">doctrine:</span>
    <span class="hljs-attr">orm:</span>
        <span class="hljs-attr">auto_mapping:</span> <span class="hljs-literal">true</span>
        <span class="hljs-comment"># the standard distribution overrides this to be true in debug, false otherwise</span>
        <span class="hljs-attr">auto_generate_proxy_classes:</span> <span class="hljs-literal">false</span>
        <span class="hljs-attr">proxy_namespace:</span> <span class="hljs-string">Proxies</span>
        <span class="hljs-attr">proxy_dir:</span> <span class="hljs-string">'%kernel.cache_dir%/doctrine/orm/Proxies'</span>
        <span class="hljs-attr">default_entity_manager:</span> <span class="hljs-string">default</span>
        <span class="hljs-attr">metadata_cache_driver:</span> <span class="hljs-string">array</span>
        <span class="hljs-attr">query_cache_driver:</span> <span class="hljs-string">array</span>
        <span class="hljs-attr">result_cache_driver:</span> <span class="hljs-string">array</span>
        <span class="hljs-attr">naming_strategy:</span> <span class="hljs-string">doctrine.orm.naming_strategy.default</span></pre>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
<p>There are lots of other configuration options that you can use to overwrite
certain classes, but those are for very advanced use-cases only.</p>
<div class="section">
<h3 id="shortened-configuration-syntax">
    Shortened Configuration Syntax
    <a class="headerlink" href="#shortened-configuration-syntax" title="Permalink to this headline">¶</a>
</h3>
<p>When you are only using one entity manager, all config options available
can be placed directly under <code translate="no" class="notranslate">doctrine.orm</code> config level.</p>
<div translate="no" class="highlight-yaml notranslate">
    <table class="highlighttable">
        <tbody>
            <tr>
                <td class="linenos">
                    <div class="linenodiv">
                        <pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22</pre>
                    </div>
                </td>
                <td class="code">
                    <div class="highlight">
                        <pre class="hljs yaml"><span class="hljs-attr">doctrine:</span>
    <span class="hljs-attr">orm:</span>
        <span class="hljs-comment"># ...</span>
        <span class="hljs-attr">query_cache_driver:</span>
            <span class="hljs-comment"># ...</span>
        <span class="hljs-attr">metadata_cache_driver:</span>
            <span class="hljs-comment"># ...</span>
        <span class="hljs-attr">result_cache_driver:</span>
            <span class="hljs-comment"># ...</span>
        <span class="hljs-attr">connection:</span> <span class="hljs-string">~</span>
        <span class="hljs-attr">class_metadata_factory_name:</span>  <span class="hljs-string">Doctrine\ORM\Mapping\ClassMetadataFactory</span>
        <span class="hljs-attr">default_repository_class:</span>  <span class="hljs-string">Doctrine\ORM\EntityRepository</span>
        <span class="hljs-attr">auto_mapping:</span> <span class="hljs-literal">false</span>
        <span class="hljs-attr">naming_strategy:</span> <span class="hljs-string">doctrine.orm.naming_strategy.default</span>
        <span class="hljs-attr">hydrators:</span>
            <span class="hljs-comment"># ...</span>
        <span class="hljs-attr">mappings:</span>
            <span class="hljs-comment"># ...</span>
        <span class="hljs-attr">dql:</span>
            <span class="hljs-comment"># ...</span>
        <span class="hljs-attr">filters:</span>
            <span class="hljs-comment"># ...</span></pre>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
<p>This shortened version is commonly used in other documentation sections.
Keep in mind that you can't use both syntaxes at the same time.</p>
</div>
<div class="section">
<h3 id="caching-drivers">
    Caching Drivers
    <a class="headerlink" href="#caching-drivers" title="Permalink to this headline">¶</a>
</h3>
<p>Use any of the existing <a href="../../cache.html" class="reference internal">Symfony Cache</a> pools or define new pools
to cache each of Doctrine ORM elements (queries, results, etc.):</p>
<div translate="no" class="highlight-yaml notranslate">
    <table class="highlighttable">
        <tbody>
            <tr>
                <td class="linenos">
                    <div class="linenodiv">
                        <pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27</pre>
                    </div>
                </td>
                <td class="code">
                    <div class="highlight">
                        <pre class="hljs yaml"><span class="hljs-comment"># config/packages/prod/doctrine.yaml</span>
<span class="hljs-attr">framework:</span>
    <span class="hljs-attr">cache:</span>
        <span class="hljs-attr">pools:</span>
            <span class="hljs-attr">doctrine.result_cache_pool:</span>
                <span class="hljs-attr">adapter:</span> <span class="hljs-string">cache.app</span>
            <span class="hljs-attr">doctrine.system_cache_pool:</span>
                <span class="hljs-attr">adapter:</span> <span class="hljs-string">cache.system</span>

<span class="hljs-attr">doctrine:</span>
    <span class="hljs-attr">orm:</span>
        <span class="hljs-comment"># ...</span>
        <span class="hljs-attr">metadata_cache_driver:</span>
            <span class="hljs-attr">type:</span> <span class="hljs-string">pool</span>
            <span class="hljs-attr">pool:</span> <span class="hljs-string">doctrine.system_cache_pool</span>
        <span class="hljs-attr">query_cache_driver:</span>
            <span class="hljs-attr">type:</span> <span class="hljs-string">pool</span>
            <span class="hljs-attr">pool:</span> <span class="hljs-string">doctrine.system_cache_pool</span>
        <span class="hljs-attr">result_cache_driver:</span>
            <span class="hljs-attr">type:</span> <span class="hljs-string">pool</span>
            <span class="hljs-attr">pool:</span> <span class="hljs-string">doctrine.result_cache_pool</span>

        <span class="hljs-comment"># in addition to Symfony Cache pools, you can also use the</span>
        <span class="hljs-comment"># 'type: service' option to use any service as the cache</span>
        <span class="hljs-attr">query_cache_driver:</span>
            <span class="hljs-attr">type:</span> <span class="hljs-string">service</span>
            <span class="hljs-attr">id:</span> <span class="hljs-string">App\ORM\MyCacheService</span></pre>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
</div>
<div class="section">
<h3 id="mapping-configuration">
    Mapping Configuration
    <a class="headerlink" href="#mapping-configuration" title="Permalink to this headline">¶</a>
</h3>
<p>Explicit definition of all the mapped entities is the only necessary
configuration for the ORM and there are several configuration options that
you can control. The following configuration options exist for a mapping:</p>
<div class="section">
<h4 id="type">
    <code translate="no" class="notranslate">type</code>
    <a class="headerlink" href="#type" title="Permalink to this headline">¶</a>
</h4>
<p>One of <code translate="no" class="notranslate">annotation</code> (for PHP annotations; it's the default value),
<code translate="no" class="notranslate">attribute</code> (for PHP attributes), <code translate="no" class="notranslate">xml</code>, <code translate="no" class="notranslate">yml</code>, <code translate="no" class="notranslate">php</code> or
<code translate="no" class="notranslate">staticphp</code>. This specifies which type of metadata type your mapping uses.</p>
<p>See <a href="https://www.doctrine-project.org/projects/doctrine-orm/en/current/reference/metadata-drivers.html" class="reference external" rel="external noopener noreferrer" target="_blank">Doctrine Metadata Drivers</a> for more information about this option.</p>
</div>
<div class="section">
<h4 id="dir">
    <code translate="no" class="notranslate">dir</code>
    <a class="headerlink" href="#dir" title="Permalink to this headline">¶</a>
</h4>
<p>Absolute path to the mapping or entity files (depending on the driver).</p>
</div>
<div class="section">
<h4 id="prefix">
    <code translate="no" class="notranslate">prefix</code>
    <a class="headerlink" href="#prefix" title="Permalink to this headline">¶</a>
</h4>
<p>A common namespace prefix that all entities of this mapping share. This prefix
should never conflict with prefixes of other defined mappings otherwise some of
your entities cannot be found by Doctrine.</p>
</div>
<div class="section">
<h4 id="alias">
    <code translate="no" class="notranslate">alias</code>
    <a class="headerlink" href="#alias" title="Permalink to this headline">¶</a>
</h4>
<p>Doctrine offers a way to alias entity namespaces to simpler, shorter names
to be used in DQL queries or for Repository access.</p>
</div>
<div class="section">
<h4 id="is-bundle">
    <code translate="no" class="notranslate">is_bundle</code>
    <a class="headerlink" href="#is-bundle" title="Permalink to this headline">¶</a>
</h4>
<p>This option is <code translate="no" class="notranslate">false</code> by default and it's considered a legacy option. It was
only useful in previous Symfony versions, when it was recommended to use bundles
to organize the application code.</p>
</div>
</div>
<div class="section">
<h3 id="custom-mapping-entities-in-a-bundle">
    Custom Mapping Entities in a Bundle
    <a class="headerlink" href="#custom-mapping-entities-in-a-bundle" title="Permalink to this headline">¶</a>
</h3>
<p>Doctrine's <code translate="no" class="notranslate">auto_mapping</code> feature loads attribute configuration from
the <code translate="no" class="notranslate">Entity/</code> directory of each bundle <em>and</em> looks for other formats (e.g.
YAML, XML) in the <code translate="no" class="notranslate">Resources/config/doctrine</code> directory.</p>
<p>If you store metadata somewhere else in your bundle, you can define your
own mappings, where you tell Doctrine exactly <em>where</em> to look, along with
some other configurations.</p>
<p>If you're using the <code translate="no" class="notranslate">auto_mapping</code> configuration, you just need to overwrite
the configurations you want. In this case it's important that the key of
the mapping configurations corresponds to the name of the bundle.</p>
<p>For example, suppose you decide to store your <code translate="no" class="notranslate">XML</code> configuration for
<code translate="no" class="notranslate">AppBundle</code> entities in the <code translate="no" class="notranslate">@AppBundle/SomeResources/config/doctrine</code>
directory instead:</p>
<div class="configuration-block">
    <div role="tablist" aria-label="Configuration formats" class="configuration-tabs configuration-tabs-length-3">
                    <button role="tab" type="button" data-language="yaml"
                aria-controls="configuration-block-tabpanel-b6d1272af9449b95761c9ac9d143db0e05aa04f2" aria-selected="true"
                data-active="true" >
                <span>YAML</span>
            </button>
                    <button role="tab" type="button" data-language="xml"
                aria-controls="configuration-block-tabpanel-7fdc47aee22f13cc96d54c72c30c8ccec612e680" aria-selected="false"
                 tabindex="-1">
                <span>XML</span>
            </button>
                    <button role="tab" type="button" data-language="php"
                aria-controls="configuration-block-tabpanel-ce3ea7f028e85114368e3710cc8a818d7e7b0419" aria-selected="false"
                 tabindex="-1">
                <span>PHP</span>
            </button>
            </div>

            <div role="tabpanel" id="configuration-block-tabpanel-b6d1272af9449b95761c9ac9d143db0e05aa04f2" aria-label="YAML" class="configuration-codeblock" data-language="yaml" style="">
            <div translate="no" class="highlight-yaml notranslate">
    <table class="highlighttable">
        <tbody>
            <tr>
                <td class="linenos">
                    <div class="linenodiv">
                        <pre>1
2
3
4
5
6
7
8
9
10</pre>
                    </div>
                </td>
                <td class="code">
                    <div class="highlight">
                        <pre class="hljs yaml"><span class="hljs-attr">doctrine:</span>
    <span class="hljs-comment"># ...</span>
    <span class="hljs-attr">orm:</span>
        <span class="hljs-comment"># ...</span>
        <span class="hljs-attr">auto_mapping:</span> <span class="hljs-literal">true</span>
        <span class="hljs-attr">mappings:</span>
            <span class="hljs-comment"># ...</span>
            <span class="hljs-attr">AppBundle:</span>
                <span class="hljs-attr">type:</span> <span class="hljs-string">xml</span>
                <span class="hljs-attr">dir:</span> <span class="hljs-string">SomeResources/config/doctrine</span></pre>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
        </div>
            <div role="tabpanel" id="configuration-block-tabpanel-7fdc47aee22f13cc96d54c72c30c8ccec612e680" aria-label="XML" class="configuration-codeblock" data-language="xml" style="display: none">
            <div translate="no" class="highlight-xml notranslate">
    <table class="highlighttable">
        <tbody>
            <tr>
                <td class="linenos">
                    <div class="linenodiv">
                        <pre>1
2
3
4
5
6
7
8
9
10
11
12
13</pre>
                    </div>
                </td>
                <td class="code">
                    <div class="highlight">
                        <pre class="hljs xml"><span class="hljs-meta">&lt;?xml version="1.0" encoding="UTF-8" ?&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">container</span> <span class="hljs-attr">xmlns</span>=<span class="hljs-string">"http://symfony.com/schema/dic/services"</span>
    <span class="hljs-attr">xmlns:xsi</span>=<span class="hljs-string">"http://www.w3.org/2001/XMLSchema-instance"</span>
    <span class="hljs-attr">xmlns:doctrine</span>=<span class="hljs-string">"http://symfony.com/schema/dic/doctrine"</span>
    <span class="hljs-attr">xsi:schemaLocation</span>=<span class="hljs-string">"http://symfony.com/schema/dic/services
        https://symfony.com/schema/dic/services/services-1.0.xsd"</span>&gt;</span>

    <span class="hljs-tag">&lt;<span class="hljs-name">doctrine:config</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">doctrine:orm</span> <span class="hljs-attr">auto-mapping</span>=<span class="hljs-string">"true"</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">mapping</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"AppBundle"</span> <span class="hljs-attr">dir</span>=<span class="hljs-string">"SomeResources/config/doctrine"</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"xml"</span>/&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">doctrine:orm</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">doctrine:config</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">container</span>&gt;</span></pre>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
        </div>
            <div role="tabpanel" id="configuration-block-tabpanel-ce3ea7f028e85114368e3710cc8a818d7e7b0419" aria-label="PHP" class="configuration-codeblock" data-language="php" style="display: none">
            <div translate="no" class="highlight-php notranslate">
    <table class="highlighttable">
        <tbody>
            <tr>
                <td class="linenos">
                    <div class="linenodiv">
                        <pre>1
2
3
4
5
6
7
8
9
10
11</pre>
                    </div>
                </td>
                <td class="code">
                    <div class="highlight">
                        <pre class="hljs php"><span class="hljs-keyword">use</span> <span class="hljs-title">Symfony</span>\<span class="hljs-title">Config</span>\<span class="hljs-title">DoctrineConfig</span>;

<span class="hljs-keyword">return</span> <span class="hljs-keyword">static</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(DoctrineConfig <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>doctrine</span>)</span> </span>{
    <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>emDefault</span> = <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>doctrine</span><span class="hljs-operator">-&gt;</span>orm()<span class="hljs-operator">-&gt;</span>entityManager(<span class="hljs-string">'default'</span>);

    <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>emDefault</span><span class="hljs-operator">-&gt;</span>autoMapping(<span class="hljs-keyword">true</span>);
    <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>emDefault</span><span class="hljs-operator">-&gt;</span>mapping(<span class="hljs-string">'AppBundle'</span>)
        <span class="hljs-operator">-&gt;</span>type(<span class="hljs-string">'xml'</span>)
        <span class="hljs-operator">-&gt;</span>dir(<span class="hljs-string">'SomeResources/config/doctrine'</span>)
    ;
};</pre>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
        </div>
    </div>
</div>
<div class="section">
<h3 id="mapping-entities-outside-of-a-bundle">
    Mapping Entities Outside of a Bundle
    <a class="headerlink" href="#mapping-entities-outside-of-a-bundle" title="Permalink to this headline">¶</a>
</h3>
<p>For example, the following looks for entity classes in the <code translate="no" class="notranslate">Entity</code>
namespace in the <code translate="no" class="notranslate">src/Entity</code> directory and gives them an <code translate="no" class="notranslate">App</code> alias
(so you can say things like <code translate="no" class="notranslate">App:Post</code>):</p>
<div class="configuration-block">
    <div role="tablist" aria-label="Configuration formats" class="configuration-tabs configuration-tabs-length-3">
                    <button role="tab" type="button" data-language="yaml"
                aria-controls="configuration-block-tabpanel-3fe307b7221bc29f51c1df669a26600261e0fad2" aria-selected="true"
                data-active="true" >
                <span>YAML</span>
            </button>
                    <button role="tab" type="button" data-language="xml"
                aria-controls="configuration-block-tabpanel-d011d1e8718f44eb0ee35d973ee74cdea20424d1" aria-selected="false"
                 tabindex="-1">
                <span>XML</span>
            </button>
                    <button role="tab" type="button" data-language="php"
                aria-controls="configuration-block-tabpanel-67f7589258788167e75a476ca651dc21d20de980" aria-selected="false"
                 tabindex="-1">
                <span>PHP</span>
            </button>
            </div>

            <div role="tabpanel" id="configuration-block-tabpanel-3fe307b7221bc29f51c1df669a26600261e0fad2" aria-label="YAML" class="configuration-codeblock" data-language="yaml" style="">
            <div translate="no" class="highlight-yaml notranslate">
    <table class="highlighttable">
        <tbody>
            <tr>
                <td class="linenos">
                    <div class="linenodiv">
                        <pre>1
2
3
4
5
6
7
8
9
10
11
12</pre>
                    </div>
                </td>
                <td class="code">
                    <div class="highlight">
                        <pre class="hljs yaml"><span class="hljs-attr">doctrine:</span>
        <span class="hljs-comment"># ...</span>
        <span class="hljs-attr">orm:</span>
            <span class="hljs-comment"># ...</span>
            <span class="hljs-attr">mappings:</span>
                <span class="hljs-comment"># ...</span>
                <span class="hljs-attr">SomeEntityNamespace:</span>
                    <span class="hljs-attr">type:</span> <span class="hljs-string">annotation</span>
                    <span class="hljs-attr">dir:</span> <span class="hljs-string">'%kernel.project_dir%/src/Entity'</span>
                    <span class="hljs-attr">is_bundle:</span> <span class="hljs-literal">false</span>
                    <span class="hljs-attr">prefix:</span> <span class="hljs-string">App\Entity</span>
                    <span class="hljs-attr">alias:</span> <span class="hljs-string">App</span></pre>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
        </div>
            <div role="tabpanel" id="configuration-block-tabpanel-d011d1e8718f44eb0ee35d973ee74cdea20424d1" aria-label="XML" class="configuration-codeblock" data-language="xml" style="display: none">
            <div translate="no" class="highlight-xml notranslate">
    <table class="highlighttable">
        <tbody>
            <tr>
                <td class="linenos">
                    <div class="linenodiv">
                        <pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19</pre>
                    </div>
                </td>
                <td class="code">
                    <div class="highlight">
                        <pre class="hljs xml"><span class="hljs-meta">&lt;?xml version="1.0" encoding="UTF-8" ?&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">container</span> <span class="hljs-attr">xmlns</span>=<span class="hljs-string">"http://symfony.com/schema/dic/services"</span>
    <span class="hljs-attr">xmlns:xsi</span>=<span class="hljs-string">"http://www.w3.org/2001/XMLSchema-instance"</span>
    <span class="hljs-attr">xmlns:doctrine</span>=<span class="hljs-string">"http://symfony.com/schema/dic/doctrine"</span>
    <span class="hljs-attr">xsi:schemaLocation</span>=<span class="hljs-string">"http://symfony.com/schema/dic/services
        https://symfony.com/schema/dic/services/services-1.0.xsd"</span>&gt;</span>

    <span class="hljs-tag">&lt;<span class="hljs-name">doctrine:config</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">doctrine:orm</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">mapping</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"SomeEntityNamespace"</span>
                <span class="hljs-attr">type</span>=<span class="hljs-string">"annotation"</span>
                <span class="hljs-attr">dir</span>=<span class="hljs-string">"%kernel.project_dir%/src/Entity"</span>
                <span class="hljs-attr">is-bundle</span>=<span class="hljs-string">"false"</span>
                <span class="hljs-attr">prefix</span>=<span class="hljs-string">"App\Entity"</span>
                <span class="hljs-attr">alias</span>=<span class="hljs-string">"App"</span>
            /&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">doctrine:orm</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">doctrine:config</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">container</span>&gt;</span></pre>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
        </div>
            <div role="tabpanel" id="configuration-block-tabpanel-67f7589258788167e75a476ca651dc21d20de980" aria-label="PHP" class="configuration-codeblock" data-language="php" style="display: none">
            <div translate="no" class="highlight-php notranslate">
    <table class="highlighttable">
        <tbody>
            <tr>
                <td class="linenos">
                    <div class="linenodiv">
                        <pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14</pre>
                    </div>
                </td>
                <td class="code">
                    <div class="highlight">
                        <pre class="hljs php"><span class="hljs-keyword">use</span> <span class="hljs-title">Symfony</span>\<span class="hljs-title">Config</span>\<span class="hljs-title">DoctrineConfig</span>;

<span class="hljs-keyword">return</span> <span class="hljs-keyword">static</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(DoctrineConfig <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>doctrine</span>)</span> </span>{
    <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>emDefault</span> = <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>doctrine</span><span class="hljs-operator">-&gt;</span>orm()<span class="hljs-operator">-&gt;</span>entityManager(<span class="hljs-string">'default'</span>);

    <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>emDefault</span><span class="hljs-operator">-&gt;</span>autoMapping(<span class="hljs-keyword">true</span>);
    <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>emDefault</span><span class="hljs-operator">-&gt;</span>mapping(<span class="hljs-string">'SomeEntityNamespace'</span>)
        <span class="hljs-operator">-&gt;</span>type(<span class="hljs-string">'annotation'</span>)
        <span class="hljs-operator">-&gt;</span>dir(<span class="hljs-string">'%kernel.project_dir%/src/Entity'</span>)
        <span class="hljs-operator">-&gt;</span>isBundle(<span class="hljs-keyword">false</span>)
        <span class="hljs-operator">-&gt;</span>prefix(<span class="hljs-string">'App\Entity'</span>)
        <span class="hljs-operator">-&gt;</span>alias(<span class="hljs-string">'App'</span>)
    ;
};</pre>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
        </div>
    </div>
<div class="section">
<h4 id="detecting-a-mapping-configuration-format">
    Detecting a Mapping Configuration Format
    <a class="headerlink" href="#detecting-a-mapping-configuration-format" title="Permalink to this headline">¶</a>
</h4>
<p>If the <code translate="no" class="notranslate">type</code> on the bundle configuration isn't set, the DoctrineBundle
will try to detect the correct mapping configuration format for the bundle.</p>
<p>DoctrineBundle will look for files matching <code translate="no" class="notranslate">*.orm.[FORMAT]</code> (e.g.
<code translate="no" class="notranslate">Post.orm.yaml</code>) in the configured <code translate="no" class="notranslate">dir</code> of your mapping (if you're mapping
a bundle, then <code translate="no" class="notranslate">dir</code> is relative to the bundle's directory).</p>
<p>The bundle looks for (in this order) XML, YAML and PHP files.
Using the <code translate="no" class="notranslate">auto_mapping</code> feature, every bundle can have only one
configuration format. The bundle will stop as soon as it locates one.</p>
<p>If it wasn't possible to determine a configuration format for a bundle,
the DoctrineBundle will check if there is an <code translate="no" class="notranslate">Entity</code> folder in the bundle's
root directory. If the folder exist, Doctrine will fall back to using an
annotation driver.</p>
</div>
<div class="section">
<h4 id="default-value-of-dir">
    Default Value of Dir
    <a class="headerlink" href="#default-value-of-dir" title="Permalink to this headline">¶</a>
</h4>
<p>If <code translate="no" class="notranslate">dir</code> is not specified, then its default value depends on which configuration
driver is being used. For drivers that rely on the PHP files (annotation,
<code translate="no" class="notranslate">staticphp</code>) it will be <code translate="no" class="notranslate">[Bundle]/Entity</code>. For drivers that are using
configuration files (XML, YAML, ...) it will be
<code translate="no" class="notranslate">[Bundle]/Resources/config/doctrine</code>.</p>
<p>If the <code translate="no" class="notranslate">dir</code> configuration is set and the <code translate="no" class="notranslate">is_bundle</code> configuration
is <code translate="no" class="notranslate">true</code>, the DoctrineBundle will prefix the <code translate="no" class="notranslate">dir</code> configuration with
the path of the bundle.</p>
</div>
</div>
</div>
</div>

                            </div>                    </div>
                                    </div>        </div>

    </section>

</div>


<script type="text/javascript" src="assets/js/theme.js"></script>
<script type="text/javascript" src="assets/js/badge_only.js"></script>

 
</body>
</html>