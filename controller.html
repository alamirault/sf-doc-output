        
<!DOCTYPE html>
<!--[if IE 8]>
<html class="no-js lt-ie9" lang="en"> <![endif]-->
<!--[if gt IE 8]><!-->
<html class="no-js" lang="en"> <!--<![endif]-->
<head><base href="/">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
            
                                
    
    <link rel="stylesheet" href="assets/css/theme.css" type="text/css" />
    <link rel="stylesheet" href="assets/css/highlightjs.css" type="text/css" />
    <link rel="stylesheet" href="assets/css/badge_only.css" type="text/css" />

</head>

<body class="wy-body-for-nav">
 <div class="wy-grid-for-nav">

        <nav data-toggle="wy-nav-shift" class="wy-nav-side">
        <div class="wy-side-scroll">
            <div class="wy-side-nav-search">
                
                                                                                                    
                                                                                                                                                                        </div>

            <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
                                                                                                                                                                                                                                                                                                                            </div>
        </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

                                                        

        <div class="wy-nav-content">                <div class="rst-content">
                                        <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">                            <div itemprop="articleBody">
                                    <div class="section">
<h1 id="controller">
    Controller
    <a class="headerlink" href="#controller" title="Permalink to this headline">¶</a>
</h1>
<p>A controller is a PHP function you create that reads information from the
<code translate="no" class="notranslate">Request</code> object and creates and returns a <code translate="no" class="notranslate">Response</code> object. The response could
be an HTML page, JSON, XML, a file download, a redirect, a 404 error or anything
else. The controller runs whatever arbitrary logic <em>your application</em> needs
to render the content of a page.</p>
<div class="admonition admonition-tip ">
    <p class="admonition-title">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" width="24" height="24" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z" /></svg>
                <span>Tip</span>
    </p><p>If you haven't already created your first working page, check out
<a href="page_creation.html" class="reference internal">Create your First Page in Symfony</a> and then come back!</p>
</div>
<div class="section">
<h2 id="a-basic-controller">
    A Basic Controller
    <a class="headerlink" href="#a-basic-controller" title="Permalink to this headline">¶</a>
</h2>
<p>While a controller can be any PHP callable (function, method on an object,
or a <code translate="no" class="notranslate">Closure</code>), a controller is usually a method inside a controller
class:</p>
<div translate="no" class="highlight-php notranslate">
    <table class="highlighttable">
        <tbody>
            <tr>
                <td class="linenos">
                    <div class="linenodiv">
                        <pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18</pre>
                    </div>
                </td>
                <td class="code">
                    <div class="highlight">
                        <pre class="hljs php"><span class="hljs-comment">// src/Controller/LuckyController.php</span>
<span class="hljs-keyword">namespace</span> <span class="hljs-title">App</span>\<span class="hljs-title">Controller</span>;

<span class="hljs-keyword">use</span> <span class="hljs-title">Symfony</span>\<span class="hljs-title">Component</span>\<span class="hljs-title">HttpFoundation</span>\<span class="hljs-title">Response</span>;
<span class="hljs-keyword">use</span> <span class="hljs-title">Symfony</span>\<span class="hljs-title">Component</span>\<span class="hljs-title">Routing</span>\<span class="hljs-title">Annotation</span>\<span class="hljs-title">Route</span>;

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">LuckyController</span>
</span>{
    <span class="hljs-comment">#[Route('/lucky/number/{max}', name: 'app_lucky_number')]</span>
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">number</span><span class="hljs-params">(int <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>max</span>)</span>: <span class="hljs-title">Response</span>
    </span>{
        <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>number</span> = random_int(<span class="hljs-number">0</span>, <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>max</span>);

        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> Response(
            <span class="hljs-string">'&lt;html&gt;&lt;body&gt;Lucky number: '</span>.<span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>number</span>.<span class="hljs-string">'&lt;/body&gt;&lt;/html&gt;'</span>
        );
    }
}</pre>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
<p>The controller is the <code translate="no" class="notranslate">number()</code> method, which lives inside the
controller class <code translate="no" class="notranslate">LuckyController</code>.</p>
<p>This controller is pretty straightforward:</p>
<ul>
    <li><em>line 2</em>: Symfony takes advantage of PHP's namespace functionality to
namespace the entire controller class.</li>
<li><em>line 4</em>: Symfony again takes advantage of PHP's namespace functionality:
the <code translate="no" class="notranslate">use</code> keyword imports the <code translate="no" class="notranslate">Response</code> class, which the controller
must return.</li>
<li><em>line 7</em>: The class can technically be called anything, but it's suffixed
with <code translate="no" class="notranslate">Controller</code> by convention.</li>
<li><em>line 10</em>: The action method is allowed to have a <code translate="no" class="notranslate">$max</code> argument thanks to the
<code translate="no" class="notranslate">{max}</code> <a href="routing.html" class="reference internal">wildcard in the route</a>.</li>
<li><em>line 14</em>: The controller creates and returns a <code translate="no" class="notranslate">Response</code> object.</li>
</ul>
<div class="section">
<h3 id="mapping-a-url-to-a-controller">
    Mapping a URL to a Controller
    <a class="headerlink" href="#mapping-a-url-to-a-controller" title="Permalink to this headline">¶</a>
</h3>
<p>In order to <em>view</em> the result of this controller, you need to map a URL to it via
a route. This was done above with the <code translate="no" class="notranslate">#[Route(&#039;/lucky/number/{max}&#039;)]</code>
<a href="page_creation.html#annotation-routes" class="reference internal">route attribute</a>.</p>
<p>To see your page, go to this URL in your browser: <a href="http://localhost:8000/lucky/number/100" class="reference external" rel="external noopener noreferrer" target="_blank">http://localhost:8000/lucky/number/100</a></p>
<p>For more information on routing, see <a href="routing.html" class="reference internal">Routing</a>.</p>
<span id="the-base-controller-class-services"></span>
<span id="the-base-controller-classes-services"></span>
</div>
</div>
<div class="section">
<h2 id="the-base-controller-class-services">
    The Base Controller Class &amp; Services
    <a class="headerlink" href="#the-base-controller-class-services" title="Permalink to this headline">¶</a>
</h2>
<p>To aid development, Symfony comes with an optional base controller class called
<a href="https://github.com/symfony/symfony/blob/5.4/src/Symfony/Bundle/FrameworkBundle/Controller/AbstractController.php" class="reference external" title="Symfony\Bundle\FrameworkBundle\Controller\AbstractController" rel="external noopener noreferrer" target="_blank">AbstractController</a>.
It can be extended to gain access to helper methods.</p>
<p>Add the <code translate="no" class="notranslate">use</code> statement atop your controller class and then modify
<code translate="no" class="notranslate">LuckyController</code> to extend it:</p>
<div translate="no" class="highlight-diff notranslate">
    <table class="highlighttable">
        <tbody>
            <tr>
                <td class="linenos">
                    <div class="linenodiv">
                        <pre>1
2
3
4
5
6
7
8
9
10</pre>
                    </div>
                </td>
                <td class="code">
                    <div class="highlight">
                        <pre class="hljs diff">// src/Controller/LuckyController.php
  namespace App\Controller;

<span class="hljs-addition">+ use Symfony\Bundle\FrameworkBundle\Controller\AbstractController;</span>

<span class="hljs-deletion">- class LuckyController</span>
<span class="hljs-addition">+ class LuckyController extends AbstractController</span>
  {
      // ...
  }</pre>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
<p>That's it! You now have access to methods like <a href="controller.html#controller-rendering-templates" class="reference internal">$this->render()</a>
and many others that you'll learn about next.</p>
<div class="section">
<h3 id="generating-urls">
    Generating URLs
    <a class="headerlink" href="#generating-urls" title="Permalink to this headline">¶</a>
</h3>
<p>The <a href="https://github.com/symfony/symfony/blob/5.4/src/Symfony/Bundle/FrameworkBundle/Controller/AbstractController.php#method_generateUrl" class="reference external" title="Symfony\Bundle\FrameworkBundle\Controller\AbstractController::generateUrl()" rel="external noopener noreferrer" target="_blank">generateUrl()</a>
method is just a helper method that generates the URL for a given route:</p>
<div translate="no" class="highlight-php notranslate">
    <table class="highlighttable">
        <tbody>
            <tr>
                <td class="linenos">
                    <div class="linenodiv">
                        <pre>1</pre>
                    </div>
                </td>
                <td class="code">
                    <div class="highlight">
                        <pre class="hljs php"><span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>url</span> = <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>this</span><span class="hljs-operator">-&gt;</span>generateUrl(<span class="hljs-string">'app_lucky_number'</span>, [<span class="hljs-string">'max'</span> =&gt; <span class="hljs-number">10</span>]);</pre>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
<span id="controller-redirect"></span>
</div>
<div class="section">
<h3 id="redirecting">
    Redirecting
    <a class="headerlink" href="#redirecting" title="Permalink to this headline">¶</a>
</h3>
<p>If you want to redirect the user to another page, use the <code translate="no" class="notranslate">redirectToRoute()</code>
and <code translate="no" class="notranslate">redirect()</code> methods:</p>
<div translate="no" class="highlight-php notranslate">
    <table class="highlighttable">
        <tbody>
            <tr>
                <td class="linenos">
                    <div class="linenodiv">
                        <pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29</pre>
                    </div>
                </td>
                <td class="code">
                    <div class="highlight">
                        <pre class="hljs php"><span class="hljs-keyword">use</span> <span class="hljs-title">Symfony</span>\<span class="hljs-title">Component</span>\<span class="hljs-title">HttpFoundation</span>\<span class="hljs-title">RedirectResponse</span>;
<span class="hljs-keyword">use</span> <span class="hljs-title">Symfony</span>\<span class="hljs-title">Component</span>\<span class="hljs-title">HttpFoundation</span>\<span class="hljs-title">Response</span>;

<span class="hljs-comment">// ...</span>
<span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">index</span><span class="hljs-params">()</span>: <span class="hljs-title">RedirectResponse</span>
</span>{
    <span class="hljs-comment">// redirects to the "homepage" route</span>
    <span class="hljs-keyword">return</span> <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>this</span><span class="hljs-operator">-&gt;</span>redirectToRoute(<span class="hljs-string">'homepage'</span>);

    <span class="hljs-comment">// redirectToRoute is a shortcut for:</span>
    <span class="hljs-comment">// return new RedirectResponse($this-&gt;generateUrl('homepage'));</span>

    <span class="hljs-comment">// does a permanent HTTP 301 redirect</span>
    <span class="hljs-keyword">return</span> <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>this</span><span class="hljs-operator">-&gt;</span>redirectToRoute(<span class="hljs-string">'homepage'</span>, [], <span class="hljs-number">301</span>);
    <span class="hljs-comment">// if you prefer, you can use PHP constants instead of hardcoded numbers</span>
    <span class="hljs-keyword">return</span> <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>this</span><span class="hljs-operator">-&gt;</span>redirectToRoute(<span class="hljs-string">'homepage'</span>, [], Response<span class="hljs-operator">::</span>HTTP_MOVED_PERMANENTLY);

    <span class="hljs-comment">// redirect to a route with parameters</span>
    <span class="hljs-keyword">return</span> <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>this</span><span class="hljs-operator">-&gt;</span>redirectToRoute(<span class="hljs-string">'app_lucky_number'</span>, [<span class="hljs-string">'max'</span> =&gt; <span class="hljs-number">10</span>]);

    <span class="hljs-comment">// redirects to a route and maintains the original query string parameters</span>
    <span class="hljs-keyword">return</span> <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>this</span><span class="hljs-operator">-&gt;</span>redirectToRoute(<span class="hljs-string">'blog_show'</span>, <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>request</span><span class="hljs-operator">-&gt;</span>query<span class="hljs-operator">-&gt;</span>all());

    <span class="hljs-comment">// redirects to the current route (e.g. for Post/Redirect/Get pattern):</span>
    <span class="hljs-keyword">return</span> <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>this</span><span class="hljs-operator">-&gt;</span>redirectToRoute(<span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>request</span><span class="hljs-operator">-&gt;</span>attributes<span class="hljs-operator">-&gt;</span>get(<span class="hljs-string">'_route'</span>));

    <span class="hljs-comment">// redirects externally</span>
    <span class="hljs-keyword">return</span> <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>this</span><span class="hljs-operator">-&gt;</span>redirect(<span class="hljs-string">'http://symfony.com/doc'</span>);
}</pre>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
<div class="admonition admonition-caution ">
    <p class="admonition-title">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" width="24" height="24" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" /></svg>
                <span>Caution</span>
    </p><p>The <code translate="no" class="notranslate">redirect()</code> method does not check its destination in any way. If you
redirect to a URL provided by end-users, your application may be open
to the <a href="https://cheatsheetseries.owasp.org/cheatsheets/Unvalidated_Redirects_and_Forwards_Cheat_Sheet.html" class="reference external" rel="external noopener noreferrer" target="_blank">unvalidated redirects security vulnerability</a>.</p>
</div>
<span id="controller-rendering-templates"></span>
</div>
<div class="section">
<h3 id="rendering-templates">
    Rendering Templates
    <a class="headerlink" href="#rendering-templates" title="Permalink to this headline">¶</a>
</h3>
<p>If you're serving HTML, you'll want to render a template. The <code translate="no" class="notranslate">render()</code>
method renders a template <strong>and</strong> puts that content into a <code translate="no" class="notranslate">Response</code>
object for you:</p>
<div translate="no" class="highlight-php notranslate">
    <table class="highlighttable">
        <tbody>
            <tr>
                <td class="linenos">
                    <div class="linenodiv">
                        <pre>1
2</pre>
                    </div>
                </td>
                <td class="code">
                    <div class="highlight">
                        <pre class="hljs php"><span class="hljs-comment">// renders templates/lucky/number.html.twig</span>
<span class="hljs-keyword">return</span> <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>this</span><span class="hljs-operator">-&gt;</span>render(<span class="hljs-string">'lucky/number.html.twig'</span>, [<span class="hljs-string">'number'</span> =&gt; <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>number</span>]);</pre>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
<p>Templating and Twig are explained more in the
<a href="templates.html" class="reference internal">Creating and Using Templates article</a>.</p>
<span id="controller-accessing-services"></span>
<span id="accessing-other-services"></span>
</div>
<div class="section">
<h3 id="fetching-services">
    Fetching Services
    <a class="headerlink" href="#fetching-services" title="Permalink to this headline">¶</a>
</h3>
<p>Symfony comes <em>packed</em> with a lot of useful classes and functionalities, called <a href="service_container.html" class="reference internal">services</a>.
These are used for rendering templates, sending emails, querying the database and
any other &quot;work&quot; you can think of.</p>
<p>If you need a service in a controller, type-hint an argument with its class
(or interface) name. Symfony will automatically pass you the service you need:</p>
<div translate="no" class="highlight-php notranslate">
    <table class="highlighttable">
        <tbody>
            <tr>
                <td class="linenos">
                    <div class="linenodiv">
                        <pre>1
2
3
4
5
6
7
8
9
10</pre>
                    </div>
                </td>
                <td class="code">
                    <div class="highlight">
                        <pre class="hljs php"><span class="hljs-keyword">use</span> <span class="hljs-title">Psr</span>\<span class="hljs-title">Log</span>\<span class="hljs-title">LoggerInterface</span>;
<span class="hljs-keyword">use</span> <span class="hljs-title">Symfony</span>\<span class="hljs-title">Component</span>\<span class="hljs-title">HttpFoundation</span>\<span class="hljs-title">Response</span>;
<span class="hljs-comment">// ...</span>

<span class="hljs-comment">#[Route('/lucky/number/{max}')]</span>
<span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">number</span><span class="hljs-params">(int <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>max</span>, LoggerInterface <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>logger</span>)</span>: <span class="hljs-title">Response</span>
</span>{
    <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>logger</span><span class="hljs-operator">-&gt;</span>info(<span class="hljs-string">'We are logging!'</span>);
    <span class="hljs-comment">// ...</span>
}</pre>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
<p>Awesome!</p>
<p>What other services can you type-hint? To see them, use the <code translate="no" class="notranslate">debug:autowiring</code> console
command:</p>
<div translate="no" class="highlight-terminal highlight-bash notranslate">
    <table class="highlighttable">
        <tbody>
            <tr>
                <td class="linenos">
                    <div class="linenodiv">
                        <pre>1</pre>
                    </div>
                </td>
                <td class="code">
                    <div class="highlight">
                        <pre class="hljs terminal bash"><span class="hljs-prompt">$ </span>php bin/console debug:autowiring</pre>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
<div class="admonition admonition-tip ">
    <p class="admonition-title">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" width="24" height="24" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z" /></svg>
                <span>Tip</span>
    </p><p>If you need control over the <em>exact</em> value of an argument, or require a parameter,
you can use the <code translate="no" class="notranslate">#[Autowire]</code> attribute:</p>
<div translate="no" class="highlight-php notranslate">
    <table class="highlighttable">
        <tbody>
            <tr>
                <td class="linenos">
                    <div class="linenodiv">
                        <pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23</pre>
                    </div>
                </td>
                <td class="code">
                    <div class="highlight">
                        <pre class="hljs php"><span class="hljs-comment">// ...</span>
<span class="hljs-keyword">use</span> <span class="hljs-title">Psr</span>\<span class="hljs-title">Log</span>\<span class="hljs-title">LoggerInterface</span>;
<span class="hljs-keyword">use</span> <span class="hljs-title">Symfony</span>\<span class="hljs-title">Component</span>\<span class="hljs-title">DependencyInjection</span>\<span class="hljs-title">Attribute</span>\<span class="hljs-title">Autowire</span>;
<span class="hljs-keyword">use</span> <span class="hljs-title">Symfony</span>\<span class="hljs-title">Component</span>\<span class="hljs-title">HttpFoundation</span>\<span class="hljs-title">Response</span>;

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">LuckyController</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">AbstractController</span>
</span>{
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">number</span><span class="hljs-params">(
        int <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>max</span>,

        // inject a specific logger service
        #[Autowire<span class="hljs-params">(service: <span class="hljs-string">'monolog.logger.request'</span>)</span>]
        LoggerInterface <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>logger</span>,

        // or inject parameter values
        #[Autowire<span class="hljs-params">(<span class="hljs-string">'%kernel.project_dir%'</span>)</span>]
        string <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>projectDir</span>
    )</span>: <span class="hljs-title">Response</span>
    </span>{
        <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>logger</span><span class="hljs-operator">-&gt;</span>info(<span class="hljs-string">'We are logging!'</span>);
        <span class="hljs-comment">// ...</span>
    }
}</pre>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
<p>You can read more about this attribute in <a href="service_container/autowiring.html#autowire-attribute" class="reference internal">Defining Services Dependencies Automatically (Autowiring)</a>.</p>
<div class="admonition admonition-versionadded ">
    <p class="admonition-title">
                                    <span>6.1</span>
    </p><p>The <code translate="no" class="notranslate">#[Autowire]</code> attribute was introduced in Symfony 6.1.</p>
</div>
</div>
<p>Like with all services, you can also use regular
<a href="service_container.html#services-constructor-injection" class="reference internal">constructor injection</a> in your
controllers.</p>
<p>For more information about services, see the <a href="service_container.html" class="reference internal">Service Container</a> article.</p>
</div>
</div>
<div class="section">
<h2 id="generating-controllers">
    Generating Controllers
    <a class="headerlink" href="#generating-controllers" title="Permalink to this headline">¶</a>
</h2>
<p>To save time, you can install <a href="https://symfony.com/doc/current/bundles/SymfonyMakerBundle/index.html" class="reference external">Symfony Maker</a> and tell Symfony to generate a
new controller class:</p>
<div translate="no" class="highlight-terminal highlight-bash notranslate">
    <table class="highlighttable">
        <tbody>
            <tr>
                <td class="linenos">
                    <div class="linenodiv">
                        <pre>1
2
3
4</pre>
                    </div>
                </td>
                <td class="code">
                    <div class="highlight">
                        <pre class="hljs terminal bash"><span class="hljs-prompt">$ </span>php bin/console make:controller BrandNewController

created: src/Controller/BrandNewController.php
created: templates/brandnew/index.html.twig</pre>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
<p>If you want to generate an entire CRUD from a Doctrine <a href="doctrine.html" class="reference internal">entity</a>,
use:</p>
<div translate="no" class="highlight-terminal highlight-bash notranslate">
    <table class="highlighttable">
        <tbody>
            <tr>
                <td class="linenos">
                    <div class="linenodiv">
                        <pre>1
2
3
4
5
6
7
8
9
10</pre>
                    </div>
                </td>
                <td class="code">
                    <div class="highlight">
                        <pre class="hljs terminal bash"><span class="hljs-prompt">$ </span>php bin/console make:crud Product

created: src/Controller/ProductController.php
created: src/Form/ProductType.php
created: templates/product/_delete_form.html.twig
created: templates/product/_form.html.twig
created: templates/product/edit.html.twig
created: templates/product/index.html.twig
created: templates/product/new.html.twig
created: templates/product/show.html.twig</pre>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
</div>
<div class="section">
<h2 id="managing-errors-and-404-pages">
    Managing Errors and 404 Pages
    <a class="headerlink" href="#managing-errors-and-404-pages" title="Permalink to this headline">¶</a>
</h2>
<p>When things are not found, you should return a 404 response. To do this, throw a
special type of exception:</p>
<div translate="no" class="highlight-php notranslate">
    <table class="highlighttable">
        <tbody>
            <tr>
                <td class="linenos">
                    <div class="linenodiv">
                        <pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17</pre>
                    </div>
                </td>
                <td class="code">
                    <div class="highlight">
                        <pre class="hljs php"><span class="hljs-keyword">use</span> <span class="hljs-title">Symfony</span>\<span class="hljs-title">Component</span>\<span class="hljs-title">HttpFoundation</span>\<span class="hljs-title">Response</span>;
<span class="hljs-keyword">use</span> <span class="hljs-title">Symfony</span>\<span class="hljs-title">Component</span>\<span class="hljs-title">HttpKernel</span>\<span class="hljs-title">Exception</span>\<span class="hljs-title">NotFoundHttpException</span>;

<span class="hljs-comment">// ...</span>
<span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">index</span><span class="hljs-params">()</span>: <span class="hljs-title">Response</span>
</span>{
    <span class="hljs-comment">// retrieve the object from database</span>
    <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>product</span> = ...;
    <span class="hljs-keyword">if</span> (!<span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>product</span>) {
        <span class="hljs-keyword">throw</span> <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>this</span><span class="hljs-operator">-&gt;</span>createNotFoundException(<span class="hljs-string">'The product does not exist'</span>);

        <span class="hljs-comment">// the above is just a shortcut for:</span>
        <span class="hljs-comment">// throw new NotFoundHttpException('The product does not exist');</span>
    }

    <span class="hljs-keyword">return</span> <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>this</span><span class="hljs-operator">-&gt;</span>render(<span class="hljs-comment">/* ... */</span>);
}</pre>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
<p>The <a href="https://github.com/symfony/symfony/blob/5.4/src/Symfony/Bundle/FrameworkBundle/Controller/AbstractController.php#method_createNotFoundException" class="reference external" title="Symfony\Bundle\FrameworkBundle\Controller\AbstractController::createNotFoundException()" rel="external noopener noreferrer" target="_blank">createNotFoundException()</a>
method is just a shortcut to create a special
<a href="https://github.com/symfony/symfony/blob/5.4/src/Symfony/Component/HttpKernel/Exception/NotFoundHttpException.php" class="reference external" title="Symfony\Component\HttpKernel\Exception\NotFoundHttpException" rel="external noopener noreferrer" target="_blank">NotFoundHttpException</a>
object, which ultimately triggers a 404 HTTP response inside Symfony.</p>
<p>If you throw an exception that extends or is an instance of
<a href="https://github.com/symfony/symfony/blob/5.4/src/Symfony/Component/HttpKernel/Exception/HttpException.php" class="reference external" title="Symfony\Component\HttpKernel\Exception\HttpException" rel="external noopener noreferrer" target="_blank">HttpException</a>, Symfony will
use the appropriate HTTP status code. Otherwise, the response will have a 500
HTTP status code:</p>
<div translate="no" class="highlight-php notranslate">
    <table class="highlighttable">
        <tbody>
            <tr>
                <td class="linenos">
                    <div class="linenodiv">
                        <pre>1
2</pre>
                    </div>
                </td>
                <td class="code">
                    <div class="highlight">
                        <pre class="hljs php"><span class="hljs-comment">// this exception ultimately generates a 500 status error</span>
<span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> \<span class="hljs-keyword">Exception</span>(<span class="hljs-string">'Something went wrong!'</span>);</pre>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
<p>In every case, an error page is shown to the end user and a full debug
error page is shown to the developer (i.e. when you're in &quot;Debug&quot; mode - see
<a href="configuration.html#page-creation-environments" class="reference internal">Configuring Symfony</a>).</p>
<p>To customize the error page that's shown to the user, see the
<a href="controller/error_pages.html" class="reference internal">How to Customize Error Pages</a> article.</p>
<span id="controller-request-argument"></span>
</div>
<div class="section">
<h2 id="the-request-object-as-a-controller-argument">
    The Request object as a Controller Argument
    <a class="headerlink" href="#the-request-object-as-a-controller-argument" title="Permalink to this headline">¶</a>
</h2>
<p>What if you need to read query parameters, grab a request header or get access
to an uploaded file? That information is stored in Symfony's <code translate="no" class="notranslate">Request</code>
object. To access it in your controller, add it as an argument and
<strong>type-hint it with the Request class</strong>:</p>
<div translate="no" class="highlight-php notranslate">
    <table class="highlighttable">
        <tbody>
            <tr>
                <td class="linenos">
                    <div class="linenodiv">
                        <pre>1
2
3
4
5
6
7
8
9
10</pre>
                    </div>
                </td>
                <td class="code">
                    <div class="highlight">
                        <pre class="hljs php"><span class="hljs-keyword">use</span> <span class="hljs-title">Symfony</span>\<span class="hljs-title">Component</span>\<span class="hljs-title">HttpFoundation</span>\<span class="hljs-title">Request</span>;
<span class="hljs-keyword">use</span> <span class="hljs-title">Symfony</span>\<span class="hljs-title">Component</span>\<span class="hljs-title">HttpFoundation</span>\<span class="hljs-title">Response</span>;
<span class="hljs-comment">// ...</span>

<span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">index</span><span class="hljs-params">(Request <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>request</span>)</span>: <span class="hljs-title">Response</span>
</span>{
    <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>page</span> = <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>request</span><span class="hljs-operator">-&gt;</span>query<span class="hljs-operator">-&gt;</span>get(<span class="hljs-string">'page'</span>, <span class="hljs-number">1</span>);

    <span class="hljs-comment">// ...</span>
}</pre>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
<p><a href="controller.html#request-object-info" class="reference internal">Keep reading</a> for more information about using the
Request object.</p>
</div>
<div class="section">
<h2 id="managing-the-session">
    Managing the Session
    <a class="headerlink" href="#managing-the-session" title="Permalink to this headline">¶</a>
</h2>
<p>You can store special messages, called &quot;flash&quot; messages, on the user's session.
By design, flash messages are meant to be used exactly once: they vanish from
the session automatically as soon as you retrieve them. This feature makes
&quot;flash&quot; messages particularly great for storing user notifications.</p>
<p>For example, imagine you're processing a <a href="forms.html" class="reference internal">form</a> submission:</p>
<div class="configuration-block">
    <div role="tablist" aria-label="Configuration formats" class="configuration-tabs configuration-tabs-length-1">
                    <button role="tab" type="button" data-language="php-symfony"
                aria-controls="configuration-block-tabpanel-8cecaa99b046f6c213dd517edbda16e29e5cc154" aria-selected="true"
                data-active="true" >
                <span>Framework Use</span>
            </button>
            </div>

            <div role="tabpanel" id="configuration-block-tabpanel-8cecaa99b046f6c213dd517edbda16e29e5cc154" aria-label="Framework Use" class="configuration-codeblock" data-language="php-symfony" style="">
            <div translate="no" class="highlight-php-symfony highlight-php notranslate">
    <table class="highlighttable">
        <tbody>
            <tr>
                <td class="linenos">
                    <div class="linenodiv">
                        <pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22</pre>
                    </div>
                </td>
                <td class="code">
                    <div class="highlight">
                        <pre class="hljs php-symfony php"><span class="hljs-keyword">use</span> <span class="hljs-title">Symfony</span>\<span class="hljs-title">Component</span>\<span class="hljs-title">HttpFoundation</span>\<span class="hljs-title">Request</span>;
<span class="hljs-keyword">use</span> <span class="hljs-title">Symfony</span>\<span class="hljs-title">Component</span>\<span class="hljs-title">HttpFoundation</span>\<span class="hljs-title">Response</span>;
<span class="hljs-comment">// ...</span>

<span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">update</span><span class="hljs-params">(Request <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>request</span>)</span>: <span class="hljs-title">Response</span>
</span>{
    <span class="hljs-comment">// ...</span>

    <span class="hljs-keyword">if</span> (<span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>form</span><span class="hljs-operator">-&gt;</span>isSubmitted() &amp;&amp; <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>form</span><span class="hljs-operator">-&gt;</span>isValid()) {
        <span class="hljs-comment">// do some sort of processing</span>

        <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>this</span><span class="hljs-operator">-&gt;</span>addFlash(
            <span class="hljs-string">'notice'</span>,
            <span class="hljs-string">'Your changes were saved!'</span>
        );
        <span class="hljs-comment">// $this-&gt;addFlash() is equivalent to $request-&gt;getSession()-&gt;getFlashBag()-&gt;add()</span>

        <span class="hljs-keyword">return</span> <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>this</span><span class="hljs-operator">-&gt;</span>redirectToRoute(<span class="hljs-comment">/* ... */</span>);
    }

    <span class="hljs-keyword">return</span> <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>this</span><span class="hljs-operator">-&gt;</span>render(<span class="hljs-comment">/* ... */</span>);
}</pre>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
        </div>
    </div>
<p><a href="session.html#session-intro" class="reference internal">Reading</a> for more information about using Sessions.</p>
<span id="request-object-info"></span>
</div>
<div class="section">
<h2 id="the-request-and-response-object">
    The Request and Response Object
    <a class="headerlink" href="#the-request-and-response-object" title="Permalink to this headline">¶</a>
</h2>
<p>As mentioned <a href="controller.html#controller-request-argument" class="reference internal">earlier</a>, Symfony will
pass the <code translate="no" class="notranslate">Request</code> object to any controller argument that is type-hinted with
the <code translate="no" class="notranslate">Request</code> class:</p>
<div translate="no" class="highlight-php notranslate">
    <table class="highlighttable">
        <tbody>
            <tr>
                <td class="linenos">
                    <div class="linenodiv">
                        <pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26</pre>
                    </div>
                </td>
                <td class="code">
                    <div class="highlight">
                        <pre class="hljs php"><span class="hljs-keyword">use</span> <span class="hljs-title">Symfony</span>\<span class="hljs-title">Component</span>\<span class="hljs-title">HttpFoundation</span>\<span class="hljs-title">Request</span>;
<span class="hljs-keyword">use</span> <span class="hljs-title">Symfony</span>\<span class="hljs-title">Component</span>\<span class="hljs-title">HttpFoundation</span>\<span class="hljs-title">Response</span>;

<span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">index</span><span class="hljs-params">(Request <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>request</span>)</span>: <span class="hljs-title">Response</span>
</span>{
    <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>request</span><span class="hljs-operator">-&gt;</span>isXmlHttpRequest(); <span class="hljs-comment">// is it an Ajax request?</span>

    <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>request</span><span class="hljs-operator">-&gt;</span>getPreferredLanguage([<span class="hljs-string">'en'</span>, <span class="hljs-string">'fr'</span>]);

    <span class="hljs-comment">// retrieves GET and POST variables respectively</span>
    <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>request</span><span class="hljs-operator">-&gt;</span>query<span class="hljs-operator">-&gt;</span>get(<span class="hljs-string">'page'</span>);
    <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>request</span><span class="hljs-operator">-&gt;</span>request<span class="hljs-operator">-&gt;</span>get(<span class="hljs-string">'page'</span>);

    <span class="hljs-comment">// retrieves SERVER variables</span>
    <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>request</span><span class="hljs-operator">-&gt;</span>server<span class="hljs-operator">-&gt;</span>get(<span class="hljs-string">'HTTP_HOST'</span>);

    <span class="hljs-comment">// retrieves an instance of UploadedFile identified by foo</span>
    <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>request</span><span class="hljs-operator">-&gt;</span>files<span class="hljs-operator">-&gt;</span>get(<span class="hljs-string">'foo'</span>);

    <span class="hljs-comment">// retrieves a COOKIE value</span>
    <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>request</span><span class="hljs-operator">-&gt;</span>cookies<span class="hljs-operator">-&gt;</span>get(<span class="hljs-string">'PHPSESSID'</span>);

    <span class="hljs-comment">// retrieves an HTTP request header, with normalized, lowercase keys</span>
    <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>request</span><span class="hljs-operator">-&gt;</span>headers<span class="hljs-operator">-&gt;</span>get(<span class="hljs-string">'host'</span>);
    <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>request</span><span class="hljs-operator">-&gt;</span>headers<span class="hljs-operator">-&gt;</span>get(<span class="hljs-string">'content-type'</span>);
}</pre>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
<p>The <code translate="no" class="notranslate">Request</code> class has several public properties and methods that return any
information you need about the request.</p>
<p>Like the <code translate="no" class="notranslate">Request</code>, the <code translate="no" class="notranslate">Response</code> object has a public <code translate="no" class="notranslate">headers</code> property.
This object is of the type <a href="https://github.com/symfony/symfony/blob/5.4/src/Symfony/Component/HttpFoundation/ResponseHeaderBag.php" class="reference external" title="Symfony\Component\HttpFoundation\ResponseHeaderBag" rel="external noopener noreferrer" target="_blank">ResponseHeaderBag</a>
and provides methods for getting and setting response headers. The header names are
normalized. As a result, the name <code translate="no" class="notranslate">Content-Type</code> is equivalent to
the name <code translate="no" class="notranslate">content-type</code> or <code translate="no" class="notranslate">content_type</code>.</p>
<p>In Symfony, a controller is required to return a <code translate="no" class="notranslate">Response</code> object:</p>
<div translate="no" class="highlight-php notranslate">
    <table class="highlighttable">
        <tbody>
            <tr>
                <td class="linenos">
                    <div class="linenodiv">
                        <pre>1
2
3
4
5
6
7
8</pre>
                    </div>
                </td>
                <td class="code">
                    <div class="highlight">
                        <pre class="hljs php"><span class="hljs-keyword">use</span> <span class="hljs-title">Symfony</span>\<span class="hljs-title">Component</span>\<span class="hljs-title">HttpFoundation</span>\<span class="hljs-title">Response</span>;

<span class="hljs-comment">// creates a simple Response with a 200 status code (the default)</span>
<span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>response</span> = <span class="hljs-keyword">new</span> Response(<span class="hljs-string">'Hello '</span>.<span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>name</span>, Response<span class="hljs-operator">::</span>HTTP_OK);

<span class="hljs-comment">// creates a CSS-response with a 200 status code</span>
<span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>response</span> = <span class="hljs-keyword">new</span> Response(<span class="hljs-string">'&lt;style&gt; ... &lt;/style&gt;'</span>);
<span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>response</span><span class="hljs-operator">-&gt;</span>headers<span class="hljs-operator">-&gt;</span>set(<span class="hljs-string">'Content-Type'</span>, <span class="hljs-string">'text/css'</span>);</pre>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
<p>To facilitate this, different response objects are included to address different
response types.  Some of these are mentioned below. To learn more about the
<code translate="no" class="notranslate">Request</code> and <code translate="no" class="notranslate">Response</code> (and different <code translate="no" class="notranslate">Response</code> classes), see the
<a href="components/http_foundation.html#component-http-foundation-request" class="reference internal">HttpFoundation component documentation</a>.</p>
<div class="section">
<h3 id="accessing-configuration-values">
    Accessing Configuration Values
    <a class="headerlink" href="#accessing-configuration-values" title="Permalink to this headline">¶</a>
</h3>
<p>To get the value of any <a href="configuration.html#configuration-parameters" class="reference internal">configuration parameter</a>
from a controller, use the <code translate="no" class="notranslate">getParameter()</code> helper method:</p>
<div translate="no" class="highlight-php notranslate">
    <table class="highlighttable">
        <tbody>
            <tr>
                <td class="linenos">
                    <div class="linenodiv">
                        <pre>1
2
3
4
5
6</pre>
                    </div>
                </td>
                <td class="code">
                    <div class="highlight">
                        <pre class="hljs php"><span class="hljs-comment">// ...</span>
<span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">index</span><span class="hljs-params">()</span>: <span class="hljs-title">Response</span>
</span>{
    <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>contentsDir</span> = <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>this</span><span class="hljs-operator">-&gt;</span>getParameter(<span class="hljs-string">'kernel.project_dir'</span>).<span class="hljs-string">'/contents'</span>;
    <span class="hljs-comment">// ...</span>
}</pre>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
</div>
<div class="section">
<h3 id="returning-json-response">
    Returning JSON Response
    <a class="headerlink" href="#returning-json-response" title="Permalink to this headline">¶</a>
</h3>
<p>To return JSON from a controller, use the <code translate="no" class="notranslate">json()</code> helper method. This returns a
<code translate="no" class="notranslate">JsonResponse</code> object that encodes the data automatically:</p>
<div translate="no" class="highlight-php notranslate">
    <table class="highlighttable">
        <tbody>
            <tr>
                <td class="linenos">
                    <div class="linenodiv">
                        <pre>1
2
3
4
5
6
7
8
9
10
11</pre>
                    </div>
                </td>
                <td class="code">
                    <div class="highlight">
                        <pre class="hljs php"><span class="hljs-keyword">use</span> <span class="hljs-title">Symfony</span>\<span class="hljs-title">Component</span>\<span class="hljs-title">HttpFoundation</span>\<span class="hljs-title">JsonResponse</span>;
<span class="hljs-comment">// ...</span>

<span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">index</span><span class="hljs-params">()</span>: <span class="hljs-title">JsonResponse</span>
</span>{
    <span class="hljs-comment">// returns '{"username":"jane.doe"}' and sets the proper Content-Type header</span>
    <span class="hljs-keyword">return</span> <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>this</span><span class="hljs-operator">-&gt;</span>json([<span class="hljs-string">'username'</span> =&gt; <span class="hljs-string">'jane.doe'</span>]);

    <span class="hljs-comment">// the shortcut defines three optional arguments</span>
    <span class="hljs-comment">// return $this-&gt;json($data, $status = 200, $headers = [], $context = []);</span>
}</pre>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
<p>If the <a href="serializer.html" class="reference internal">serializer service</a> is enabled in your
application, it will be used to serialize the data to JSON. Otherwise,
the <a href="https://secure.php.net/manual/en/function.json-encode.php" class="reference external" title="json_encode" rel="external noopener noreferrer" target="_blank">json_encode</a> function is used.</p>
</div>
<div class="section">
<h3 id="streaming-file-responses">
    Streaming File Responses
    <a class="headerlink" href="#streaming-file-responses" title="Permalink to this headline">¶</a>
</h3>
<p>You can use the <a href="https://github.com/symfony/symfony/blob/5.4/src/Symfony/Bundle/FrameworkBundle/Controller/AbstractController.php#method_file" class="reference external" title="Symfony\Bundle\FrameworkBundle\Controller\AbstractController::file()" rel="external noopener noreferrer" target="_blank">file()</a>
helper to serve a file from inside a controller:</p>
<div translate="no" class="highlight-php notranslate">
    <table class="highlighttable">
        <tbody>
            <tr>
                <td class="linenos">
                    <div class="linenodiv">
                        <pre>1
2
3
4
5
6
7
8</pre>
                    </div>
                </td>
                <td class="code">
                    <div class="highlight">
                        <pre class="hljs php"><span class="hljs-keyword">use</span> <span class="hljs-title">Symfony</span>\<span class="hljs-title">Component</span>\<span class="hljs-title">HttpFoundation</span>\<span class="hljs-title">BinaryFileResponse</span>;
<span class="hljs-comment">// ...</span>

<span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">download</span><span class="hljs-params">()</span>: <span class="hljs-title">BinaryFileResponse</span>
</span>{
    <span class="hljs-comment">// send the file contents and force the browser to download it</span>
    <span class="hljs-keyword">return</span> <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>this</span><span class="hljs-operator">-&gt;</span>file(<span class="hljs-string">'/path/to/some_file.pdf'</span>);
}</pre>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
<p>The <code translate="no" class="notranslate">file()</code> helper provides some arguments to configure its behavior:</p>
<div translate="no" class="highlight-php notranslate">
    <table class="highlighttable">
        <tbody>
            <tr>
                <td class="linenos">
                    <div class="linenodiv">
                        <pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17</pre>
                    </div>
                </td>
                <td class="code">
                    <div class="highlight">
                        <pre class="hljs php"><span class="hljs-keyword">use</span> <span class="hljs-title">Symfony</span>\<span class="hljs-title">Component</span>\<span class="hljs-title">HttpFoundation</span>\<span class="hljs-title">File</span>\<span class="hljs-title">File</span>;
<span class="hljs-keyword">use</span> <span class="hljs-title">Symfony</span>\<span class="hljs-title">Component</span>\<span class="hljs-title">HttpFoundation</span>\<span class="hljs-title">ResponseHeaderBag</span>;
<span class="hljs-comment">// ...</span>

<span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">download</span><span class="hljs-params">()</span>: <span class="hljs-title">BinaryFileResponse</span>
</span>{
    <span class="hljs-comment">// load the file from the filesystem</span>
    <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>file</span> = <span class="hljs-keyword">new</span> File(<span class="hljs-string">'/path/to/some_file.pdf'</span>);

    <span class="hljs-keyword">return</span> <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>this</span><span class="hljs-operator">-&gt;</span>file(<span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>file</span>);

    <span class="hljs-comment">// rename the downloaded file</span>
    <span class="hljs-keyword">return</span> <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>this</span><span class="hljs-operator">-&gt;</span>file(<span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>file</span>, <span class="hljs-string">'custom_name.pdf'</span>);

    <span class="hljs-comment">// display the file contents in the browser instead of downloading it</span>
    <span class="hljs-keyword">return</span> <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>this</span><span class="hljs-operator">-&gt;</span>file(<span class="hljs-string">'invoice_3241.pdf'</span>, <span class="hljs-string">'my_invoice.pdf'</span>, ResponseHeaderBag<span class="hljs-operator">::</span>DISPOSITION_INLINE);
}</pre>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
</div>
<div class="section">
<h3 id="sending-early-hints">
    Sending Early Hints
    <a class="headerlink" href="#sending-early-hints" title="Permalink to this headline">¶</a>
</h3>
<div class="admonition admonition-versionadded ">
    <p class="admonition-title">
                                    <span>6.3</span>
    </p><p>The Early Hints helper of the <code translate="no" class="notranslate">AbstractController</code> was introduced
in Symfony 6.3.</p>
</div>
<p><a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/103" class="reference external" rel="external noopener noreferrer" target="_blank">Early hints</a> tell the browser to start downloading some assets even before the
application sends the response content. This improves perceived performance
because the browser can prefetch resources that will be needed once the full
response is finally sent. These resources are commonly Javascript or CSS files,
but they can be any type of resource.</p>
<div class="admonition admonition-note ">
    <p class="admonition-title">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" width="24" height="24" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z" /></svg>
                <span>Note</span>
    </p><p>In order to work, the <a href="https://www.php.net/manual/en/function.php-sapi-name.php" class="reference external" rel="external noopener noreferrer" target="_blank">SAPI</a> you're using must support this feature, like
<a href="https://frankenphp.dev" class="reference external" rel="external noopener noreferrer" target="_blank">FrankenPHP</a>.</p>
</div>
<p>You can send early hints from your controller action thanks to the
<a href="https://github.com/symfony/symfony/blob/5.4/src/Symfony/Bundle/FrameworkBundle/Controller/AbstractController.php#method_sendEarlyHints" class="reference external" title="Symfony\Bundle\FrameworkBundle\Controller\AbstractController::sendEarlyHints()" rel="external noopener noreferrer" target="_blank">sendEarlyHints()</a>
method:</p>
<div translate="no" class="highlight-php notranslate">
    <table class="highlighttable">
        <tbody>
            <tr>
                <td class="linenos">
                    <div class="linenodiv">
                        <pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22</pre>
                    </div>
                </td>
                <td class="code">
                    <div class="highlight">
                        <pre class="hljs php"><span class="hljs-keyword">namespace</span> <span class="hljs-title">App</span>\<span class="hljs-title">Controller</span>;

<span class="hljs-keyword">use</span> <span class="hljs-title">Symfony</span>\<span class="hljs-title">Bundle</span>\<span class="hljs-title">FrameworkBundle</span>\<span class="hljs-title">Controller</span>\<span class="hljs-title">AbstractController</span>;
<span class="hljs-keyword">use</span> <span class="hljs-title">Symfony</span>\<span class="hljs-title">Component</span>\<span class="hljs-title">HttpFoundation</span>\<span class="hljs-title">Response</span>;
<span class="hljs-keyword">use</span> <span class="hljs-title">Symfony</span>\<span class="hljs-title">Component</span>\<span class="hljs-title">Routing</span>\<span class="hljs-title">Annotation</span>\<span class="hljs-title">Route</span>;
<span class="hljs-keyword">use</span> <span class="hljs-title">Symfony</span>\<span class="hljs-title">Component</span>\<span class="hljs-title">WebLink</span>\<span class="hljs-title">Link</span>;

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">HomepageController</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">AbstractController</span>
</span>{
    <span class="hljs-comment">#[Route("/", name: "homepage")]</span>
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">index</span><span class="hljs-params">()</span>: <span class="hljs-title">Response</span>
    </span>{
        <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>response</span> = <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>this</span><span class="hljs-operator">-&gt;</span>sendEarlyHints([
            (<span class="hljs-keyword">new</span> Link(href: <span class="hljs-string">'/style.css'</span>))<span class="hljs-operator">-&gt;</span>withAttribute(<span class="hljs-string">'as'</span>, <span class="hljs-string">'stylesheet'</span>),
            (<span class="hljs-keyword">new</span> Link(href: <span class="hljs-string">'/script.js'</span>))<span class="hljs-operator">-&gt;</span>withAttribute(<span class="hljs-string">'as'</span>, <span class="hljs-string">'script'</span>),
        ]);

        <span class="hljs-comment">// Do something slow...</span>

        <span class="hljs-keyword">return</span> <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>this</span><span class="hljs-operator">-&gt;</span>render(<span class="hljs-string">'homepage/index.html.twig'</span>, response: <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>response</span>);
    }
}</pre>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
<p>Technically, Early Hints are an informational HTTP response with the status code
<code translate="no" class="notranslate">103</code>. The <code translate="no" class="notranslate">sendEarlyHints()</code> method creates a <code translate="no" class="notranslate">Response</code> object with that
status code and sends its headers immediately.</p>
<p>This way, browsers can start downloading the assets immediately; like the
<code translate="no" class="notranslate">style.css</code> and <code translate="no" class="notranslate">script.js</code> files in the above example). The
<code translate="no" class="notranslate">sendEarlyHints()</code> method also returns the <code translate="no" class="notranslate">Response</code> object, which you
must use to create the full response sent from the controller action.</p>
</div>
</div>
<div class="section">
<h2 id="final-thoughts">
    Final Thoughts
    <a class="headerlink" href="#final-thoughts" title="Permalink to this headline">¶</a>
</h2>
<p>In Symfony, a controller is usually a class method which is used to accept
requests, and return a <code translate="no" class="notranslate">Response</code> object. When mapped with a URL, a controller
becomes accessible and its response can be viewed.</p>
<p>To facilitate the development of controllers, Symfony provides an
<code translate="no" class="notranslate">AbstractController</code>.  It can be used to extend the controller class allowing
access to some frequently used utilities such as <code translate="no" class="notranslate">render()</code> and
<code translate="no" class="notranslate">redirectToRoute()</code>. The <code translate="no" class="notranslate">AbstractController</code> also provides the
<code translate="no" class="notranslate">createNotFoundException()</code> utility which is used to return a page not found
response.</p>
<p>In other articles, you'll learn how to use specific services from inside your controller
that will help you persist and fetch objects from a database, process form submissions,
handle caching and more.</p>
</div>
<div class="section">
<h2 id="keep-going">
    Keep Going!
    <a class="headerlink" href="#keep-going" title="Permalink to this headline">¶</a>
</h2>
<p>Next, learn all about <a href="templates.html" class="reference internal">rendering templates with Twig</a>.</p>
</div>
<div class="section">
<h2 id="learn-more-about-controllers">
    Learn more about Controllers
    <a class="headerlink" href="#learn-more-about-controllers" title="Permalink to this headline">¶</a>
</h2>

<div class="toctree-wrapper toc-size-md"><ul class="toctree toctree-level-1 toctree-length-5"><li><a href="controller/error_pages.html">How to Customize Error Pages</a></li><li><a href="controller/forwarding.html">How to Forward Requests to another Controller</a></li><li><a href="controller/service.html">How to Define Controllers as Services</a></li><li><a href="controller/upload_file.html">How to Upload Files</a></li><li><a href="controller/value_resolver.html">Extending Action Argument Resolving</a></li></ul></div>
</div>
</div>

                            </div>                    </div>
                                    </div>        </div>

    </section>

</div>


<script type="text/javascript" src="assets/js/theme.js"></script>
<script type="text/javascript" src="assets/js/badge_only.js"></script>

 
</body>
</html>