        
<!DOCTYPE html>
<!--[if IE 8]>
<html class="no-js lt-ie9" lang="en"> <![endif]-->
<!--[if gt IE 8]><!-->
<html class="no-js" lang="en"> <!--<![endif]-->
<head><base href="/">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
            
                                
    
    <link rel="stylesheet" href="assets/css/theme.css" type="text/css" />
    <link rel="stylesheet" href="assets/css/highlightjs.css" type="text/css" />
    <link rel="stylesheet" href="assets/css/badge_only.css" type="text/css" />

</head>

<body class="wy-body-for-nav">
 <div class="wy-grid-for-nav">

        <nav data-toggle="wy-nav-shift" class="wy-nav-side">
        <div class="wy-side-scroll">
            <div class="wy-side-nav-search">
                
                                                                                                    
                                                                                                                                                                        </div>

            <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
                                                                                                                                                                                                                                                                                                                            </div>
        </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

                                                        

        <div class="wy-nav-content">                <div class="rst-content">
                                        <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">                            <div itemprop="articleBody">
                                    <div class="section">
<h1 id="how-to-write-a-custom-authenticator">
    How to Write a Custom Authenticator
    <a class="headerlink" href="#how-to-write-a-custom-authenticator" title="Permalink to this headline">¶</a>
</h1>
<p>Symfony comes with <a href="../security.html#security-authenticators" class="reference internal">many authenticators</a> and
third party bundles also implement more complex cases like JWT and oAuth
2.0. However, sometimes you need to implement a custom authentication
mechanism that doesn't exist yet or you need to customize one. In such
cases, you must create and use your own authenticator.</p>
<p>Authenticators should implement the
<a href="https://github.com/symfony/symfony/blob/5.4/src/Symfony/Component/Security/Http/Authenticator/AuthenticatorInterface.php" class="reference external" title="Symfony\Component\Security\Http\Authenticator\AuthenticatorInterface" rel="external noopener noreferrer" target="_blank">AuthenticatorInterface</a>.
You can also extend
<a href="https://github.com/symfony/symfony/blob/5.4/src/Symfony/Component/Security/Http/Authenticator/AbstractAuthenticator.php" class="reference external" title="Symfony\Component\Security\Http\Authenticator\AbstractAuthenticator" rel="external noopener noreferrer" target="_blank">AbstractAuthenticator</a>,
which has a default implementation for the <code translate="no" class="notranslate">createToken()</code>
method that fits most use-cases:</p>
<div translate="no" class="highlight-php notranslate">
    <table class="highlighttable">
        <tbody>
            <tr>
                <td class="linenos">
                    <div class="linenodiv">
                        <pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57</pre>
                    </div>
                </td>
                <td class="code">
                    <div class="highlight">
                        <pre class="hljs php"><span class="hljs-comment">// src/Security/ApiKeyAuthenticator.php</span>
<span class="hljs-keyword">namespace</span> <span class="hljs-title">App</span>\<span class="hljs-title">Security</span>;

<span class="hljs-keyword">use</span> <span class="hljs-title">Symfony</span>\<span class="hljs-title">Component</span>\<span class="hljs-title">HttpFoundation</span>\<span class="hljs-title">JsonResponse</span>;
<span class="hljs-keyword">use</span> <span class="hljs-title">Symfony</span>\<span class="hljs-title">Component</span>\<span class="hljs-title">HttpFoundation</span>\<span class="hljs-title">Request</span>;
<span class="hljs-keyword">use</span> <span class="hljs-title">Symfony</span>\<span class="hljs-title">Component</span>\<span class="hljs-title">HttpFoundation</span>\<span class="hljs-title">Response</span>;
<span class="hljs-keyword">use</span> <span class="hljs-title">Symfony</span>\<span class="hljs-title">Component</span>\<span class="hljs-title">Security</span>\<span class="hljs-title">Core</span>\<span class="hljs-title">Authentication</span>\<span class="hljs-title">Token</span>\<span class="hljs-title">TokenInterface</span>;
<span class="hljs-keyword">use</span> <span class="hljs-title">Symfony</span>\<span class="hljs-title">Component</span>\<span class="hljs-title">Security</span>\<span class="hljs-title">Core</span>\<span class="hljs-title">Exception</span>\<span class="hljs-title">AuthenticationException</span>;
<span class="hljs-keyword">use</span> <span class="hljs-title">Symfony</span>\<span class="hljs-title">Component</span>\<span class="hljs-title">Security</span>\<span class="hljs-title">Core</span>\<span class="hljs-title">Exception</span>\<span class="hljs-title">CustomUserMessageAuthenticationException</span>;
<span class="hljs-keyword">use</span> <span class="hljs-title">Symfony</span>\<span class="hljs-title">Component</span>\<span class="hljs-title">Security</span>\<span class="hljs-title">Http</span>\<span class="hljs-title">Authenticator</span>\<span class="hljs-title">AbstractAuthenticator</span>;
<span class="hljs-keyword">use</span> <span class="hljs-title">Symfony</span>\<span class="hljs-title">Component</span>\<span class="hljs-title">Security</span>\<span class="hljs-title">Http</span>\<span class="hljs-title">Authenticator</span>\<span class="hljs-title">Passport</span>\<span class="hljs-title">Badge</span>\<span class="hljs-title">UserBadge</span>;
<span class="hljs-keyword">use</span> <span class="hljs-title">Symfony</span>\<span class="hljs-title">Component</span>\<span class="hljs-title">Security</span>\<span class="hljs-title">Http</span>\<span class="hljs-title">Authenticator</span>\<span class="hljs-title">Passport</span>\<span class="hljs-title">Passport</span>;
<span class="hljs-keyword">use</span> <span class="hljs-title">Symfony</span>\<span class="hljs-title">Component</span>\<span class="hljs-title">Security</span>\<span class="hljs-title">Http</span>\<span class="hljs-title">Authenticator</span>\<span class="hljs-title">Passport</span>\<span class="hljs-title">SelfValidatingPassport</span>;

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">ApiKeyAuthenticator</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">AbstractAuthenticator</span>
</span>{
    <span class="hljs-comment">/**
     * Called on every request to decide if this authenticator should be
     * used for the request. Returning `false` will cause this authenticator
     * to be skipped.
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">supports</span><span class="hljs-params">(Request <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>request</span>)</span>: ?<span class="hljs-title">bool</span>
    </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>request</span><span class="hljs-operator">-&gt;</span>headers<span class="hljs-operator">-&gt;</span>has(<span class="hljs-string">'X-AUTH-TOKEN'</span>);
    }

    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">authenticate</span><span class="hljs-params">(Request <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>request</span>)</span>: <span class="hljs-title">Passport</span>
    </span>{
        <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>apiToken</span> = <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>request</span><span class="hljs-operator">-&gt;</span>headers<span class="hljs-operator">-&gt;</span>get(<span class="hljs-string">'X-AUTH-TOKEN'</span>);
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">null</span> === <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>apiToken</span>) {
            <span class="hljs-comment">// The token header was empty, authentication fails with HTTP Status</span>
            <span class="hljs-comment">// Code 401 "Unauthorized"</span>
            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> CustomUserMessageAuthenticationException(<span class="hljs-string">'No API token provided'</span>);
        }

        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> SelfValidatingPassport(<span class="hljs-keyword">new</span> UserBadge(<span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>apiToken</span>));
    }

    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">onAuthenticationSuccess</span><span class="hljs-params">(Request <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>request</span>, TokenInterface <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>token</span>, string <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>firewallName</span>)</span>: ?<span class="hljs-title">Response</span>
    </span>{
        <span class="hljs-comment">// on success, let the request continue</span>
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">null</span>;
    }

    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">onAuthenticationFailure</span><span class="hljs-params">(Request <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>request</span>, AuthenticationException <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>exception</span>)</span>: ?<span class="hljs-title">Response</span>
    </span>{
        <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>data</span> = [
            <span class="hljs-comment">// you may want to customize or obfuscate the message first</span>
            <span class="hljs-string">'message'</span> =&gt; strtr(<span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>exception</span><span class="hljs-operator">-&gt;</span>getMessageKey(), <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>exception</span><span class="hljs-operator">-&gt;</span>getMessageData())

            <span class="hljs-comment">// or to translate this message</span>
            <span class="hljs-comment">// $this-&gt;translator-&gt;trans($exception-&gt;getMessageKey(), $exception-&gt;getMessageData())</span>
        ];

        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> JsonResponse(<span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>data</span>, Response<span class="hljs-operator">::</span>HTTP_UNAUTHORIZED);
    }
}</pre>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
<div class="admonition admonition-tip ">
    <p class="admonition-title">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" width="24" height="24" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z" /></svg>
                <span>Tip</span>
    </p><p>If your custom authenticator is a login form, you can extend from the
<a href="https://github.com/symfony/symfony/blob/5.4/src/Symfony/Component/Security/Http/Authenticator/AbstractLoginFormAuthenticator.php" class="reference external" title="Symfony\Component\Security\Http\Authenticator\AbstractLoginFormAuthenticator" rel="external noopener noreferrer" target="_blank">AbstractLoginFormAuthenticator</a>
class instead to make your job easier.</p>
</div>
<p>The authenticator can be enabled using the <code translate="no" class="notranslate">custom_authenticators</code> setting:</p>
<div class="configuration-block">
    <div role="tablist" aria-label="Configuration formats" class="configuration-tabs configuration-tabs-length-3">
                    <button role="tab" type="button" data-language="yaml"
                aria-controls="configuration-block-tabpanel-d2a455f0a4926b883716e758bcea6d2559800705" aria-selected="true"
                data-active="true" >
                <span>YAML</span>
            </button>
                    <button role="tab" type="button" data-language="xml"
                aria-controls="configuration-block-tabpanel-fe29dec81a408c15e31ef864950546b28234c258" aria-selected="false"
                 tabindex="-1">
                <span>XML</span>
            </button>
                    <button role="tab" type="button" data-language="php"
                aria-controls="configuration-block-tabpanel-c8055dcbab518404b8d5edd13847025b7f3a3150" aria-selected="false"
                 tabindex="-1">
                <span>PHP</span>
            </button>
            </div>

            <div role="tabpanel" id="configuration-block-tabpanel-d2a455f0a4926b883716e758bcea6d2559800705" aria-label="YAML" class="configuration-codeblock" data-language="yaml" style="">
            <div translate="no" class="highlight-yaml notranslate">
    <table class="highlighttable">
        <tbody>
            <tr>
                <td class="linenos">
                    <div class="linenodiv">
                        <pre>1
2
3
4
5
6
7
8</pre>
                    </div>
                </td>
                <td class="code">
                    <div class="highlight">
                        <pre class="hljs yaml"><span class="hljs-comment"># config/packages/security.yaml</span>
<span class="hljs-attr">security:</span>

    <span class="hljs-comment"># ...</span>
    <span class="hljs-attr">firewalls:</span>
        <span class="hljs-attr">main:</span>
            <span class="hljs-attr">custom_authenticators:</span>
                <span class="hljs-bullet">-</span> <span class="hljs-string">App\Security\ApiKeyAuthenticator</span></pre>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
        </div>
            <div role="tabpanel" id="configuration-block-tabpanel-fe29dec81a408c15e31ef864950546b28234c258" aria-label="XML" class="configuration-codeblock" data-language="xml" style="display: none">
            <div translate="no" class="highlight-xml notranslate">
    <table class="highlighttable">
        <tbody>
            <tr>
                <td class="linenos">
                    <div class="linenodiv">
                        <pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18</pre>
                    </div>
                </td>
                <td class="code">
                    <div class="highlight">
                        <pre class="hljs xml"><span class="hljs-comment">&lt;!-- config/packages/security.xml --&gt;</span>
<span class="hljs-meta">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">srv:container</span> <span class="hljs-attr">xmlns</span>=<span class="hljs-string">"http://symfony.com/schema/dic/security"</span>
    <span class="hljs-attr">xmlns:xsi</span>=<span class="hljs-string">"http://www.w3.org/2001/XMLSchema-instance"</span>
    <span class="hljs-attr">xmlns:srv</span>=<span class="hljs-string">"http://symfony.com/schema/dic/services"</span>
    <span class="hljs-attr">xsi:schemaLocation</span>=<span class="hljs-string">"http://symfony.com/schema/dic/services
        https://symfony.com/schema/dic/services/services-1.0.xsd
        http://symfony.com/schema/dic/security
        https://symfony.com/schema/dic/security/security-1.0.xsd"</span>&gt;</span>

    <span class="hljs-tag">&lt;<span class="hljs-name">config</span> <span class="hljs-attr">enable-authenticator-manager</span>=<span class="hljs-string">"true"</span>&gt;</span>
        <span class="hljs-comment">&lt;!-- ... --&gt;</span>

        <span class="hljs-tag">&lt;<span class="hljs-name">firewall</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"main"</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">custom-authenticator</span>&gt;</span>App\Security\ApiKeyAuthenticator<span class="hljs-tag">&lt;/<span class="hljs-name">custom-authenticator</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">firewall</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">config</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">srv:container</span>&gt;</span></pre>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
        </div>
            <div role="tabpanel" id="configuration-block-tabpanel-c8055dcbab518404b8d5edd13847025b7f3a3150" aria-label="PHP" class="configuration-codeblock" data-language="php" style="display: none">
            <div translate="no" class="highlight-php notranslate">
    <table class="highlighttable">
        <tbody>
            <tr>
                <td class="linenos">
                    <div class="linenodiv">
                        <pre>1
2
3
4
5
6
7
8
9
10
11
12</pre>
                    </div>
                </td>
                <td class="code">
                    <div class="highlight">
                        <pre class="hljs php"><span class="hljs-comment">// config/packages/security.php</span>
<span class="hljs-keyword">use</span> <span class="hljs-title">App</span>\<span class="hljs-title">Security</span>\<span class="hljs-title">ApiKeyAuthenticator</span>;
<span class="hljs-keyword">use</span> <span class="hljs-title">Symfony</span>\<span class="hljs-title">Config</span>\<span class="hljs-title">SecurityConfig</span>;

<span class="hljs-keyword">return</span> <span class="hljs-keyword">static</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(SecurityConfig <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>security</span>)</span> </span>{
    <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>security</span><span class="hljs-operator">-&gt;</span>enableAuthenticatorManager(<span class="hljs-keyword">true</span>);
    <span class="hljs-comment">// ....</span>

    <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>security</span><span class="hljs-operator">-&gt;</span>firewall(<span class="hljs-string">'main'</span>)
        <span class="hljs-operator">-&gt;</span>customAuthenticators([ApiKeyAuthenticator<span class="hljs-operator">::</span>class])
    ;
};</pre>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
        </div>
    </div>
<div class="admonition admonition-tip ">
    <p class="admonition-title">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" width="24" height="24" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z" /></svg>
                <span>Tip</span>
    </p><p>You may want your authenticator to implement
<code translate="no" class="notranslate">AuthenticationEntryPointInterface</code>. This defines the response sent
to users to start authentication (e.g. when they visit a protected
page). Read more about it in <a href="entry_point.html" class="reference internal">The Entry Point: Helping Users Start Authentication</a>.</p>
</div>
<p>The <code translate="no" class="notranslate">authenticate()</code> method is the most important method of the
authenticator. Its job is to extract credentials (e.g. username &amp;
password, or API tokens) from the <code translate="no" class="notranslate">Request</code> object and transform these
into a security
<a href="https://github.com/symfony/symfony/blob/5.4/src/Symfony/Component/Security/Http/Authenticator/Passport/Passport.php" class="reference external" title="Symfony\Component\Security\Http\Authenticator\Passport\Passport" rel="external noopener noreferrer" target="_blank">Passport</a>
(security passports are explained later in this article).</p>
<p>After the authentication process finished, the user is either authenticated
or there was something wrong (e.g. incorrect password). The authenticator
can define what happens in these cases:</p>
<dl>
                        <dt><code translate="no" class="notranslate">onAuthenticationSuccess(Request $request, TokenInterface $token, string $firewallName): ?Response</code></dt>
        
        <dd>
                            <p class="first">If the user is authenticated, this method is called with the
authenticated <code translate="no" class="notranslate">$token</code>. This method can return a response (e.g.
redirect the user to the homepage).</p>
                            <p class="last">If <code translate="no" class="notranslate">null</code> is returned, the request continues like normal (i.e. the
controller matching the login route is called). This is useful for API
routes where each route is protected by an API key header.</p>
                    </dd>
                        <dt><code translate="no" class="notranslate">onAuthenticationFailure(Request $request, AuthenticationException $exception): ?Response</code></dt>
        
        <dd>
                            <p class="first">If an <code translate="no" class="notranslate">AuthenticationException</code> is thrown during authentication, the
process fails and this method is called. This method can return a
response (e.g. to return a 401 Unauthorized response in API routes).</p>
                            <p>If <code translate="no" class="notranslate">null</code> is returned, the request continues like normal. This is
useful for e.g. login forms, where the login controller is run again
with the login errors.</p>
                            <p>If you're using <a href="../security.html#security-login-throttling" class="reference internal">login throttling</a>,
you can check if <code translate="no" class="notranslate">$exception</code> is an instance of
<a href="https://github.com/symfony/symfony/blob/5.4/src/Symfony/Component/Security/Core/Exception/TooManyLoginAttemptsAuthenticationException.php" class="reference external" title="Symfony\Component\Security\Core\Exception\TooManyLoginAttemptsAuthenticationException" rel="external noopener noreferrer" target="_blank">TooManyLoginAttemptsAuthenticationException</a>
(e.g. to display an appropriate message).</p>
                            <p class="last"><strong>Caution</strong>: Never use <code translate="no" class="notranslate">$exception-&gt;getMessage()</code> for <code translate="no" class="notranslate">AuthenticationException</code>
instances. This message might contain sensitive information that you
don't want to be publicly exposed. Instead, use <code translate="no" class="notranslate">$exception-&gt;getMessageKey()</code>
and <code translate="no" class="notranslate">$exception-&gt;getMessageData()</code> like shown in the full example
above. Use <a href="https://github.com/symfony/symfony/blob/5.4/src/Symfony/Component/Security/Core/Exception/CustomUserMessageAuthenticationException.php" class="reference external" title="Symfony\Component\Security\Core\Exception\CustomUserMessageAuthenticationException" rel="external noopener noreferrer" target="_blank">CustomUserMessageAuthenticationException</a>
if you want to set custom error messages.</p>
                    </dd>
    </dl>
<div class="admonition admonition-tip ">
    <p class="admonition-title">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" width="24" height="24" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z" /></svg>
                <span>Tip</span>
    </p><p>If your login method is interactive, which means that the user actively
logged into your application, you may want your authenticator to implement the
<a href="https://github.com/symfony/symfony/blob/5.4/src/Symfony/Component/Security/Http/Authenticator/InteractiveAuthenticatorInterface.php" class="reference external" title="Symfony\Component\Security\Http\Authenticator\InteractiveAuthenticatorInterface" rel="external noopener noreferrer" target="_blank">InteractiveAuthenticatorInterface</a>
so that it dispatches an
<a href="https://github.com/symfony/symfony/blob/5.4/src/Symfony/Component/Security/Http/Event/InteractiveLoginEvent.php" class="reference external" title="Symfony\Component\Security\Http\Event\InteractiveLoginEvent" rel="external noopener noreferrer" target="_blank">InteractiveLoginEvent</a></p>
</div>
<span id="security-passport"></span>
<div class="section">
<h2 id="security-passports">
    Security Passports
    <a class="headerlink" href="#security-passports" title="Permalink to this headline">¶</a>
</h2>
<p>A passport is an object that contains the user that will be authenticated as
well as other pieces of information, like whether a password should be checked
or if &quot;remember me&quot; functionality should be enabled.</p>
<p>The default
<a href="https://github.com/symfony/symfony/blob/5.4/src/Symfony/Component/Security/Http/Authenticator/Passport/Passport.php" class="reference external" title="Symfony\Component\Security\Http\Authenticator\Passport\Passport" rel="external noopener noreferrer" target="_blank">Passport</a>
requires a user and some sort of &quot;credentials&quot; (e.g. a password).</p>
<p>Use the
<a href="https://github.com/symfony/symfony/blob/5.4/src/Symfony/Component/Security/Http/Authenticator/Passport/Badge/UserBadge.php" class="reference external" title="Symfony\Component\Security\Http\Authenticator\Passport\Badge\UserBadge" rel="external noopener noreferrer" target="_blank">UserBadge</a>
to attach the user to the passport. The <code translate="no" class="notranslate">UserBadge</code> requires a user
identifier (e.g. the username or email), which is used to load the user
using <a href="../security.html#security-user-providers" class="reference internal">the user provider</a>:</p>
<div translate="no" class="highlight-php notranslate">
    <table class="highlighttable">
        <tbody>
            <tr>
                <td class="linenos">
                    <div class="linenodiv">
                        <pre>1
2
3
4</pre>
                    </div>
                </td>
                <td class="code">
                    <div class="highlight">
                        <pre class="hljs php"><span class="hljs-keyword">use</span> <span class="hljs-title">Symfony</span>\<span class="hljs-title">Component</span>\<span class="hljs-title">Security</span>\<span class="hljs-title">Http</span>\<span class="hljs-title">Authenticator</span>\<span class="hljs-title">Passport</span>\<span class="hljs-title">Badge</span>\<span class="hljs-title">UserBadge</span>;

<span class="hljs-comment">// ...</span>
<span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>passport</span> = <span class="hljs-keyword">new</span> Passport(<span class="hljs-keyword">new</span> UserBadge(<span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>email</span>), <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>credentials</span>);</pre>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
<div class="admonition admonition-note ">
    <p class="admonition-title">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" width="24" height="24" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z" /></svg>
                <span>Note</span>
    </p><p>The maximum length allowed for the user identifier is 4096 characters to
prevent <a href="https://symfony.com/blog/cve-2016-4423-large-username-storage-in-session" class="reference external">session storage flooding</a> attacks.</p>
</div>
<div class="admonition admonition-note ">
    <p class="admonition-title">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" width="24" height="24" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z" /></svg>
                <span>Note</span>
    </p><p>You can optionally pass a user loader as second argument to the
<code translate="no" class="notranslate">UserBadge</code>. This callable receives the <code translate="no" class="notranslate">$userIdentifier</code>
and must return a <code translate="no" class="notranslate">UserInterface</code> object (otherwise a
<code translate="no" class="notranslate">UserNotFoundException</code> is thrown):</p>
<div translate="no" class="highlight-php notranslate">
    <table class="highlighttable">
        <tbody>
            <tr>
                <td class="linenos">
                    <div class="linenodiv">
                        <pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25</pre>
                    </div>
                </td>
                <td class="code">
                    <div class="highlight">
                        <pre class="hljs php"><span class="hljs-comment">// src/Security/CustomAuthenticator.php</span>
<span class="hljs-keyword">namespace</span> <span class="hljs-title">App</span>\<span class="hljs-title">Security</span>;

<span class="hljs-keyword">use</span> <span class="hljs-title">App</span>\<span class="hljs-title">Repository</span>\<span class="hljs-title">UserRepository</span>;
<span class="hljs-comment">// ...</span>

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">CustomAuthenticator</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">AbstractAuthenticator</span>
</span>{
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">__construct</span><span class="hljs-params">(
        private UserRepository <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>userRepository</span>,
    )</span> </span>{
    }

    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">authenticate</span><span class="hljs-params">(Request <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>request</span>)</span>: <span class="hljs-title">Passport</span>
    </span>{
        <span class="hljs-comment">// ...</span>

        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> Passport(
            <span class="hljs-keyword">new</span> UserBadge(<span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>email</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(string <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>userIdentifier</span>)</span> </span>{
                <span class="hljs-keyword">return</span> <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>this</span><span class="hljs-operator">-&gt;</span>userRepository<span class="hljs-operator">-&gt;</span>findOneBy([<span class="hljs-string">'email'</span> =&gt; <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>userIdentifier</span>]);
            }),
            <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>credentials</span>
        );
    }
}</pre>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
</div>
<p>The following credential classes are supported by default:</p>
<dl>
                        <dt><a href="https://github.com/symfony/symfony/blob/5.4/src/Symfony/Component/Security/Http/Authenticator/Passport/Credentials/PasswordCredentials.php" class="reference external" title="Symfony\Component\Security\Http\Authenticator\Passport\Credentials\PasswordCredentials" rel="external noopener noreferrer" target="_blank">PasswordCredentials</a></dt>
        
        <dd>
                            <p class="first">This requires a plaintext <code translate="no" class="notranslate">$password</code>, which is validated using the
<a href="../security.html#security-encoding-user-password" class="reference internal">password encoder configured for the user</a>:</p>
                            <div translate="no" class="highlight-php notranslate">
    <table class="highlighttable">
        <tbody>
            <tr>
                <td class="linenos">
                    <div class="linenodiv">
                        <pre>1
2
3
4</pre>
                    </div>
                </td>
                <td class="code">
                    <div class="highlight">
                        <pre class="hljs php"><span class="hljs-keyword">use</span> <span class="hljs-title">Symfony</span>\<span class="hljs-title">Component</span>\<span class="hljs-title">Security</span>\<span class="hljs-title">Http</span>\<span class="hljs-title">Authenticator</span>\<span class="hljs-title">Passport</span>\<span class="hljs-title">Credentials</span>\<span class="hljs-title">PasswordCredentials</span>;

<span class="hljs-comment">// ...</span>
<span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> Passport(<span class="hljs-keyword">new</span> UserBadge(<span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>email</span>), <span class="hljs-keyword">new</span> PasswordCredentials(<span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>plaintextPassword</span>));</pre>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
                    </dd>
                        <dt><a href="https://github.com/symfony/symfony/blob/5.4/src/Symfony/Component/Security/Http/Authenticator/Passport/Credentials/CustomCredentials.php" class="reference external" title="Symfony\Component\Security\Http\Authenticator\Passport\Credentials\CustomCredentials" rel="external noopener noreferrer" target="_blank">CustomCredentials</a></dt>
        
        <dd>
                            <p class="first">Allows a custom closure to check credentials:</p>
                            <div translate="no" class="highlight-php notranslate">
    <table class="highlighttable">
        <tbody>
            <tr>
                <td class="linenos">
                    <div class="linenodiv">
                        <pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15</pre>
                    </div>
                </td>
                <td class="code">
                    <div class="highlight">
                        <pre class="hljs php"><span class="hljs-keyword">use</span> <span class="hljs-title">Symfony</span>\<span class="hljs-title">Component</span>\<span class="hljs-title">Security</span>\<span class="hljs-title">Core</span>\<span class="hljs-title">User</span>\<span class="hljs-title">UserInterface</span>;
<span class="hljs-keyword">use</span> <span class="hljs-title">Symfony</span>\<span class="hljs-title">Component</span>\<span class="hljs-title">Security</span>\<span class="hljs-title">Http</span>\<span class="hljs-title">Authenticator</span>\<span class="hljs-title">Passport</span>\<span class="hljs-title">Credentials</span>\<span class="hljs-title">CustomCredentials</span>;

<span class="hljs-comment">// ...</span>
<span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> Passport(<span class="hljs-keyword">new</span> UserBadge(<span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>email</span>), <span class="hljs-keyword">new</span> CustomCredentials(
    <span class="hljs-comment">// If this function returns anything else than `true`, the credentials</span>
    <span class="hljs-comment">// are marked as invalid.</span>
    <span class="hljs-comment">// The $credentials parameter is equal to the next argument of this class</span>
    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(<span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>credentials</span>, UserInterface <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>user</span>)</span> </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>user</span><span class="hljs-operator">-&gt;</span>getApiToken() === <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>credentials</span>;
    },

    <span class="hljs-comment">// The custom credentials</span>
    <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>apiToken</span>
));</pre>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
                    </dd>
    </dl>
<div class="section">
<h3 id="self-validating-passport">
    Self Validating Passport
    <a class="headerlink" href="#self-validating-passport" title="Permalink to this headline">¶</a>
</h3>
<p>If you don't need any credentials to be checked (e.g. when using API
tokens), you can use the
<a href="https://github.com/symfony/symfony/blob/5.4/src/Symfony/Component/Security/Http/Authenticator/Passport/SelfValidatingPassport.php" class="reference external" title="Symfony\Component\Security\Http\Authenticator\Passport\SelfValidatingPassport" rel="external noopener noreferrer" target="_blank">SelfValidatingPassport</a>.
This class only requires a <code translate="no" class="notranslate">UserBadge</code> object and optionally <a href="custom_authenticator.html#passport-badges" class="reference internal">Passport Badges</a>.</p>
</div>
</div>
<div class="section">
<h2 id="passport-badges">
    Passport Badges
    <a class="headerlink" href="#passport-badges" title="Permalink to this headline">¶</a>
</h2>
<p>The <code translate="no" class="notranslate">Passport</code> also optionally allows you to add <em>security badges</em>.
Badges attach more data to the passport (to extend security). By default,
the following badges are supported:</p>
<dl>
                        <dt><a href="https://github.com/symfony/symfony/blob/5.4/src/Symfony/Component/Security/Http/Authenticator/Passport/Badge/RememberMeBadge.php" class="reference external" title="Symfony\Component\Security\Http\Authenticator\Passport\Badge\RememberMeBadge" rel="external noopener noreferrer" target="_blank">RememberMeBadge</a></dt>
        
        <dd>
                            When this badge is added to the passport, the authenticator indicates
remember me is supported. Whether remember me is actually used depends
on special <code translate="no" class="notranslate">remember_me</code> configuration. Read
<a href="remember_me.html" class="reference internal">How to Add &quot;Remember Me&quot; Login Functionality</a> for more information.
                    </dd>
                        <dt><a href="https://github.com/symfony/symfony/blob/5.4/src/Symfony/Component/Security/Http/Authenticator/Passport/Badge/PasswordUpgradeBadge.php" class="reference external" title="Symfony\Component\Security\Http\Authenticator\Passport\Badge\PasswordUpgradeBadge" rel="external noopener noreferrer" target="_blank">PasswordUpgradeBadge</a></dt>
        
        <dd>
                            This is used to automatically upgrade the password to a new hash upon
successful login (if needed). This badge requires the plaintext password and a
password upgrader (e.g. the user repository). See <a href="passwords.html#security-password-migration" class="reference internal">Password Hashing and Verification</a>.
                    </dd>
                        <dt><a href="https://github.com/symfony/symfony/blob/5.4/src/Symfony/Component/Security/Http/Authenticator/Passport/Badge/CsrfTokenBadge.php" class="reference external" title="Symfony\Component\Security\Http\Authenticator\Passport\Badge\CsrfTokenBadge" rel="external noopener noreferrer" target="_blank">CsrfTokenBadge</a></dt>
        
        <dd>
                            Automatically validates CSRF tokens for this authenticator during
authentication. The constructor requires a token ID (unique per form)
and CSRF token (unique per request). See <a href="csrf.html" class="reference internal">How to Implement CSRF Protection</a>.
                    </dd>
                        <dt><a href="https://github.com/symfony/symfony/blob/5.4/src/Symfony/Component/Security/Http/Authenticator/Passport/Badge/PreAuthenticatedUserBadge.php" class="reference external" title="Symfony\Component\Security\Http\Authenticator\Passport\Badge\PreAuthenticatedUserBadge" rel="external noopener noreferrer" target="_blank">PreAuthenticatedUserBadge</a></dt>
        
        <dd>
                            Indicates that this user was pre-authenticated (i.e. before Symfony was
initiated). This skips the
<a href="user_checkers.html" class="reference internal">pre-authentication user checker</a>.
                    </dd>
    </dl>
<div class="admonition admonition-note ">
    <p class="admonition-title">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" width="24" height="24" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z" /></svg>
                <span>Note</span>
    </p><p>The <code translate="no" class="notranslate">PasswordUpgradeBadge</code> is automatically added to the passport if the
passport has <code translate="no" class="notranslate">PasswordCredentials</code>.</p>
</div>
<p>For instance, if you want to add CSRF to your custom authenticator, you
would initialize the passport like this:</p>
<div translate="no" class="highlight-php notranslate">
    <table class="highlighttable">
        <tbody>
            <tr>
                <td class="linenos">
                    <div class="linenodiv">
                        <pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26</pre>
                    </div>
                </td>
                <td class="code">
                    <div class="highlight">
                        <pre class="hljs php"><span class="hljs-comment">// src/Service/LoginAuthenticator.php</span>
<span class="hljs-keyword">namespace</span> <span class="hljs-title">App</span>\<span class="hljs-title">Service</span>;

<span class="hljs-comment">// ...</span>
<span class="hljs-keyword">use</span> <span class="hljs-title">Symfony</span>\<span class="hljs-title">Component</span>\<span class="hljs-title">Security</span>\<span class="hljs-title">Http</span>\<span class="hljs-title">Authenticator</span>\<span class="hljs-title">AbstractAuthenticator</span>;
<span class="hljs-keyword">use</span> <span class="hljs-title">Symfony</span>\<span class="hljs-title">Component</span>\<span class="hljs-title">Security</span>\<span class="hljs-title">Http</span>\<span class="hljs-title">Authenticator</span>\<span class="hljs-title">Passport</span>\<span class="hljs-title">Badge</span>\<span class="hljs-title">CsrfTokenBadge</span>;
<span class="hljs-keyword">use</span> <span class="hljs-title">Symfony</span>\<span class="hljs-title">Component</span>\<span class="hljs-title">Security</span>\<span class="hljs-title">Http</span>\<span class="hljs-title">Authenticator</span>\<span class="hljs-title">Passport</span>\<span class="hljs-title">Badge</span>\<span class="hljs-title">UserBadge</span>;
<span class="hljs-keyword">use</span> <span class="hljs-title">Symfony</span>\<span class="hljs-title">Component</span>\<span class="hljs-title">Security</span>\<span class="hljs-title">Http</span>\<span class="hljs-title">Authenticator</span>\<span class="hljs-title">Passport</span>\<span class="hljs-title">Passport</span>;

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">LoginAuthenticator</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">AbstractAuthenticator</span>
</span>{
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">authenticate</span><span class="hljs-params">(Request <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>request</span>)</span>: <span class="hljs-title">Passport</span>
    </span>{
        <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>password</span> = <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>request</span><span class="hljs-operator">-&gt;</span>request<span class="hljs-operator">-&gt;</span>get(<span class="hljs-string">'password'</span>);
        <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>username</span> = <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>request</span><span class="hljs-operator">-&gt;</span>request<span class="hljs-operator">-&gt;</span>get(<span class="hljs-string">'username'</span>);
        <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>csrfToken</span> = <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>request</span><span class="hljs-operator">-&gt;</span>request<span class="hljs-operator">-&gt;</span>get(<span class="hljs-string">'csrf_token'</span>);

        <span class="hljs-comment">// ... validate no parameter is empty</span>

        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> Passport(
            <span class="hljs-keyword">new</span> UserBadge(<span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>username</span>),
            <span class="hljs-keyword">new</span> PasswordCredentials(<span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>password</span>),
            [<span class="hljs-keyword">new</span> CsrfTokenBadge(<span class="hljs-string">'login'</span>, <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>csrfToken</span>)]
        );
    }
}</pre>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
</div>
<div class="section">
<h2 id="passport-attributes">
    Passport Attributes
    <a class="headerlink" href="#passport-attributes" title="Permalink to this headline">¶</a>
</h2>
<p>Besides badges, passports can define attributes, which allows the <code translate="no" class="notranslate">authenticate()</code>
method to store arbitrary information in the passport to access it from other
authenticator methods (e.g. <code translate="no" class="notranslate">createToken()</code>):</p>
<div translate="no" class="highlight-php notranslate">
    <table class="highlighttable">
        <tbody>
            <tr>
                <td class="linenos">
                    <div class="linenodiv">
                        <pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25</pre>
                    </div>
                </td>
                <td class="code">
                    <div class="highlight">
                        <pre class="hljs php"><span class="hljs-comment">// ...</span>
<span class="hljs-keyword">use</span> <span class="hljs-title">Symfony</span>\<span class="hljs-title">Component</span>\<span class="hljs-title">Security</span>\<span class="hljs-title">Http</span>\<span class="hljs-title">Authenticator</span>\<span class="hljs-title">Passport</span>\<span class="hljs-title">Badge</span>\<span class="hljs-title">UserBadge</span>;

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">LoginAuthenticator</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">AbstractAuthenticator</span>
</span>{
    <span class="hljs-comment">// ...</span>

    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">authenticate</span><span class="hljs-params">(Request <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>request</span>)</span>: <span class="hljs-title">Passport</span>
    </span>{
        <span class="hljs-comment">// ... process the request</span>

        <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>passport</span> = <span class="hljs-keyword">new</span> SelfValidatingPassport(<span class="hljs-keyword">new</span> UserBadge(<span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>username</span>), []);

        <span class="hljs-comment">// set a custom attribute (e.g. scope)</span>
        <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>passport</span><span class="hljs-operator">-&gt;</span>setAttribute(<span class="hljs-string">'scope'</span>, <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>oauthScope</span>);

        <span class="hljs-keyword">return</span> <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>passport</span>;
    }

    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">createToken</span><span class="hljs-params">(Passport <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>passport</span>, string <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>firewallName</span>)</span>: <span class="hljs-title">TokenInterface</span>
    </span>{
        <span class="hljs-comment">// read the attribute value</span>
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> CustomOauthToken(<span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>passport</span><span class="hljs-operator">-&gt;</span>getUser(), <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>passport</span><span class="hljs-operator">-&gt;</span>getAttribute(<span class="hljs-string">'scope'</span>));
    }
}</pre>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
</div>
</div>

                            </div>                    </div>
                                    </div>        </div>

    </section>

</div>


<script type="text/javascript" src="assets/js/theme.js"></script>
<script type="text/javascript" src="assets/js/badge_only.js"></script>

 
</body>
</html>