        
<!DOCTYPE html>
<!--[if IE 8]>
<html class="no-js lt-ie9" lang="en"> <![endif]-->
<!--[if gt IE 8]><!-->
<html class="no-js" lang="en"> <!--<![endif]-->
<head><base href="/">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
            
                                
    
    <link rel="stylesheet" href="assets/css/theme.css" type="text/css" />
    <link rel="stylesheet" href="assets/css/highlightjs.css" type="text/css" />
    <link rel="stylesheet" href="assets/css/badge_only.css" type="text/css" />

</head>

<body class="wy-body-for-nav">
 <div class="wy-grid-for-nav">

        <nav data-toggle="wy-nav-shift" class="wy-nav-side">
        <div class="wy-side-scroll">
            <div class="wy-side-nav-search">
                
                                                                                                    
                                                                                                                                                                        </div>

            <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
                                                                                                                                                                                                                                                                                                                            </div>
        </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

                                                        

        <div class="wy-nav-content">                <div class="rst-content">
                                        <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">                            <div itemprop="articleBody">
                                    <div class="section">
<h1 id="html-sanitizer">
    HTML Sanitizer
    <a class="headerlink" href="#html-sanitizer" title="Permalink to this headline">¶</a>
</h1>
<div class="admonition admonition-versionadded ">
    <p class="admonition-title">
                                    <span>6.1</span>
    </p><p>The HTML Sanitizer component was introduced in Symfony 6.1.</p>
</div>
<p>The HTML Sanitizer component aims at sanitizing/cleaning untrusted HTML
code (e.g. created by a WYSIWYG editor in the browser) into HTML that can
be trusted. It is based on the <a href="https://wicg.github.io/sanitizer-api/" class="reference external" rel="external noopener noreferrer" target="_blank">HTML Sanitizer W3C Standard Proposal</a>.</p>
<p>The HTML sanitizer creates a new HTML structure from scratch, taking only
the elements and attributes that are allowed by configuration. This means
that the returned HTML is very predictable (it only contains allowed
elements), but it does not work well with badly formatted input (e.g.
invalid HTML). The sanitizer is targeted for two use cases:</p>
<ul>
    <li>Preventing security attacks based on XSS or other technologies relying on
execution of malicious code on the visitors browsers;</li>
<li>Generating HTML that always respects a certain format (only certain
tags, attributes, hosts, etc.) to be able to consistently style the
resulting output with CSS. This also protects your application against
attacks related to e.g. changing the CSS of the whole page.</li>
</ul>
<span id="html-sanitizer-installation"></span>
<div class="section">
<h2 id="installation">
    Installation
    <a class="headerlink" href="#installation" title="Permalink to this headline">¶</a>
</h2>
<p>You can install the HTML Sanitizer component with:</p>
<div translate="no" class="highlight-terminal highlight-bash notranslate">
    <table class="highlighttable">
        <tbody>
            <tr>
                <td class="linenos">
                    <div class="linenodiv">
                        <pre>1</pre>
                    </div>
                </td>
                <td class="code">
                    <div class="highlight">
                        <pre class="hljs terminal bash"><span class="hljs-prompt">$ </span>composer require symfony/html-sanitizer</pre>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
</div>
<div class="section">
<h2 id="basic-usage">
    Basic Usage
    <a class="headerlink" href="#basic-usage" title="Permalink to this headline">¶</a>
</h2>
<p>Use the <a href="https://github.com/symfony/symfony/blob/5.4/src/Symfony/Component/HtmlSanitizer/HtmlSanitizer.php" class="reference external" title="Symfony\Component\HtmlSanitizer\HtmlSanitizer" rel="external noopener noreferrer" target="_blank">HtmlSanitizer</a> class to
sanitize the HTML. In the Symfony framework, this class is available as the
<code translate="no" class="notranslate">html_sanitizer</code> service. This service will be <a href="service_container/autowiring.html" class="reference internal">autowired</a>
automatically when type-hinting for
<a href="https://github.com/symfony/symfony/blob/5.4/src/Symfony/Component/HtmlSanitizer/HtmlSanitizerInterface.php" class="reference external" title="Symfony\Component\HtmlSanitizer\HtmlSanitizerInterface" rel="external noopener noreferrer" target="_blank">HtmlSanitizerInterface</a>:</p>
<div class="configuration-block">
    <div role="tablist" aria-label="Configuration formats" class="configuration-tabs configuration-tabs-length-2">
                    <button role="tab" type="button" data-language="php-symfony"
                aria-controls="configuration-block-tabpanel-568deeb121bfde5ae5e31e671dc2b375e466f304" aria-selected="true"
                data-active="true" >
                <span>Framework Use</span>
            </button>
                    <button role="tab" type="button" data-language="php-standalone"
                aria-controls="configuration-block-tabpanel-77248fdfd352e3512b124c86a6d3214829b401b0" aria-selected="false"
                 tabindex="-1">
                <span>Standalone Use</span>
            </button>
            </div>

            <div role="tabpanel" id="configuration-block-tabpanel-568deeb121bfde5ae5e31e671dc2b375e466f304" aria-label="Framework Use" class="configuration-codeblock" data-language="php-symfony" style="">
            <div translate="no" class="highlight-php-symfony highlight-php notranslate">
    <table class="highlighttable">
        <tbody>
            <tr>
                <td class="linenos">
                    <div class="linenodiv">
                        <pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16</pre>
                    </div>
                </td>
                <td class="code">
                    <div class="highlight">
                        <pre class="hljs php-symfony php"><span class="hljs-comment">// src/Controller/BlogPostController.php</span>
<span class="hljs-keyword">namespace</span> <span class="hljs-title">App</span>\<span class="hljs-title">Controller</span>;

<span class="hljs-comment">// ...</span>
<span class="hljs-keyword">use</span> <span class="hljs-title">Symfony</span>\<span class="hljs-title">Component</span>\<span class="hljs-title">HtmlSanitizer</span>\<span class="hljs-title">HtmlSanitizerInterface</span>;

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">BlogPostController</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">AbstractController</span>
</span>{
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">createAction</span><span class="hljs-params">(HtmlSanitizerInterface <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>htmlSanitizer</span>, Request <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>request</span>)</span>: <span class="hljs-title">Response</span>
    </span>{
        <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>unsafeContents</span> = <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>request</span><span class="hljs-operator">-&gt;</span>request<span class="hljs-operator">-&gt;</span>get(<span class="hljs-string">'post_contents'</span>);

        <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>safeContents</span> = <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>htmlSanitizer</span><span class="hljs-operator">-&gt;</span>sanitize(<span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>unsafeContents</span>);
        <span class="hljs-comment">// ... proceed using the safe HTML</span>
    }
}</pre>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
        </div>
            <div role="tabpanel" id="configuration-block-tabpanel-77248fdfd352e3512b124c86a6d3214829b401b0" aria-label="Standalone Use" class="configuration-codeblock" data-language="php-standalone" style="display: none">
            <div translate="no" class="highlight-php-standalone highlight-php notranslate">
    <table class="highlighttable">
        <tbody>
            <tr>
                <td class="linenos">
                    <div class="linenodiv">
                        <pre>1
2
3
4
5
6
7
8
9
10
11
12</pre>
                    </div>
                </td>
                <td class="code">
                    <div class="highlight">
                        <pre class="hljs php-standalone php"><span class="hljs-keyword">use</span> <span class="hljs-title">Symfony</span>\<span class="hljs-title">Component</span>\<span class="hljs-title">HtmlSanitizer</span>\<span class="hljs-title">HtmlSanitizer</span>;
<span class="hljs-keyword">use</span> <span class="hljs-title">Symfony</span>\<span class="hljs-title">Component</span>\<span class="hljs-title">HtmlSanitizer</span>\<span class="hljs-title">HtmlSanitizerConfig</span>;

<span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>htmlSanitizer</span> = <span class="hljs-keyword">new</span> HtmlSanitizer(
    (<span class="hljs-keyword">new</span> HtmlSanitizerConfig())<span class="hljs-operator">-&gt;</span>allowSafeElements()
);

<span class="hljs-comment">// unsafe HTML (e.g. from a WYSIWYG editor in the browser)</span>
<span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>unsafePostContents</span> = ...;

<span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>safePostContents</span> = <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>htmlSanitizer</span><span class="hljs-operator">-&gt;</span>sanitize(<span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>unsafePostContents</span>);
<span class="hljs-comment">// ... proceed using the safe HTML</span></pre>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
        </div>
    </div>
<div class="admonition admonition-note ">
    <p class="admonition-title">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" width="24" height="24" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z" /></svg>
                <span>Note</span>
    </p><p>The default configuration of the HTML sanitizer allows all &quot;safe&quot;
elements and attributes, as defined by the <a href="https://wicg.github.io/sanitizer-api/" class="reference external" rel="external noopener noreferrer" target="_blank">W3C Standard Proposal</a>. In
practice, this means that the resulting code will not contain any
scripts, styles or other elements that can cause the website to behave
or look different. Later in this article, you'll learn how to
<a href="html_sanitizer.html#html-sanitizer-configuration" class="reference internal">fully customize the HTML sanitizer</a>.</p>
</div>
</div>
<div class="section">
<h2 id="sanitizing-html-for-a-specific-context">
    Sanitizing HTML for a Specific Context
    <a class="headerlink" href="#sanitizing-html-for-a-specific-context" title="Permalink to this headline">¶</a>
</h2>
<p>The default <a href="https://github.com/symfony/symfony/blob/5.4/src/Symfony/Component/HtmlSanitizer/HtmlSanitizer.php#method_sanitize" class="reference external" title="Symfony\Component\HtmlSanitizer\HtmlSanitizer::sanitize()" rel="external noopener noreferrer" target="_blank">sanitize()</a>
method cleans the HTML code for usage in the <code translate="no" class="notranslate">&lt;body&gt;</code> element. Using the
<a href="https://github.com/symfony/symfony/blob/5.4/src/Symfony/Component/HtmlSanitizer/HtmlSanitizer.php#method_sanitizeFor" class="reference external" title="Symfony\Component\HtmlSanitizer\HtmlSanitizer::sanitizeFor()" rel="external noopener noreferrer" target="_blank">sanitizeFor()</a>
method, you can instruct HTML sanitizer to customize this for the
<code translate="no" class="notranslate">&lt;head&gt;</code> or a more specific HTML tag:</p>
<div translate="no" class="highlight-php notranslate">
    <table class="highlighttable">
        <tbody>
            <tr>
                <td class="linenos">
                    <div class="linenodiv">
                        <pre>1
2
3
4
5
6
7
8
9
10</pre>
                    </div>
                </td>
                <td class="code">
                    <div class="highlight">
                        <pre class="hljs php"><span class="hljs-comment">// tags not allowed in &lt;head&gt; will be removed</span>
<span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>safeInput</span> = <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>htmlSanitizer</span><span class="hljs-operator">-&gt;</span>sanitizeFor(<span class="hljs-string">'head'</span>, <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>userInput</span>);

<span class="hljs-comment">// encodes the returned HTML using HTML entities</span>
<span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>safeInput</span> = <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>htmlSanitizer</span><span class="hljs-operator">-&gt;</span>sanitizeFor(<span class="hljs-string">'title'</span>, <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>userInput</span>);
<span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>safeInput</span> = <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>htmlSanitizer</span><span class="hljs-operator">-&gt;</span>sanitizeFor(<span class="hljs-string">'textarea'</span>, <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>userInput</span>);

<span class="hljs-comment">// uses the &lt;body&gt; context, removing tags only allowed in &lt;head&gt;</span>
<span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>safeInput</span> = <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>htmlSanitizer</span><span class="hljs-operator">-&gt;</span>sanitizeFor(<span class="hljs-string">'body'</span>, <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>userInput</span>);
<span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>safeInput</span> = <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>htmlSanitizer</span><span class="hljs-operator">-&gt;</span>sanitizeFor(<span class="hljs-string">'section'</span>, <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>userInput</span>);</pre>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
</div>
<div class="section">
<h2 id="sanitizing-html-from-form-input">
    Sanitizing HTML from Form Input
    <a class="headerlink" href="#sanitizing-html-from-form-input" title="Permalink to this headline">¶</a>
</h2>
<p>The HTML sanitizer component directly integrates with Symfony Forms, to
sanitize the form input before it is processed by your application.</p>
<p>You can enable the sanitizer in <code translate="no" class="notranslate">TextType</code> forms, or any form extending
this type (such as <code translate="no" class="notranslate">TextareaType</code>), using the <code translate="no" class="notranslate">sanitize_html</code> option:</p>
<div translate="no" class="highlight-php notranslate">
    <table class="highlighttable">
        <tbody>
            <tr>
                <td class="linenos">
                    <div class="linenodiv">
                        <pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17</pre>
                    </div>
                </td>
                <td class="code">
                    <div class="highlight">
                        <pre class="hljs php"><span class="hljs-comment">// src/Form/BlogPostType.php</span>
<span class="hljs-keyword">namespace</span> <span class="hljs-title">App</span>\<span class="hljs-title">Form</span>;

<span class="hljs-comment">// ...</span>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">BlogPostType</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">AbstractType</span>
</span>{
    <span class="hljs-comment">// ...</span>

    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">configureOptions</span><span class="hljs-params">(OptionsResolver <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>resolver</span>)</span>: <span class="hljs-title">void</span>
    </span>{
        <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>resolver</span><span class="hljs-operator">-&gt;</span>setDefaults([
            <span class="hljs-string">'sanitize_html'</span> =&gt; <span class="hljs-keyword">true</span>,
            <span class="hljs-comment">// use the "sanitizer" option to use a custom sanitizer (see below)</span>
            <span class="hljs-comment">//'sanitizer' =&gt; 'app.post_sanitizer',</span>
        ]);
    }
}</pre>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
<span id="html-sanitizer-twig"></span>
</div>
<div class="section">
<h2 id="sanitizing-html-in-twig-templates">
    Sanitizing HTML in Twig Templates
    <a class="headerlink" href="#sanitizing-html-in-twig-templates" title="Permalink to this headline">¶</a>
</h2>
<p>Besides sanitizing user input, you can also sanitize HTML code before
outputting it in a Twig template using the <code translate="no" class="notranslate">sanitize_html()</code> filter:</p>
<div translate="no" class="highlight-twig notranslate">
    <table class="highlighttable">
        <tbody>
            <tr>
                <td class="linenos">
                    <div class="linenodiv">
                        <pre>1
2
3
4</pre>
                    </div>
                </td>
                <td class="code">
                    <div class="highlight">
                        <pre class="hljs twig"><span class="hljs-template-variable">{{ post.body|sanitize_html }}</span><span class="xml">

</span><span class="hljs-comment">{# you can also use a custom sanitizer (see below) #}</span><span class="xml">
</span><span class="hljs-template-variable">{{ post.body|sanitize_html('app.post_sanitizer') }}</span></pre>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
<span id="html-sanitizer-configuration"></span>
</div>
<div class="section">
<h2 id="configuration">
    Configuration
    <a class="headerlink" href="#configuration" title="Permalink to this headline">¶</a>
</h2>
<p>The behavior of the HTML sanitizer can be fully customized. This allows you
to explicitly state which elements, attributes and even attribute values
are allowed.</p>
<p>You can do this by defining a new HTML sanitizer in the configuration:</p>
<div class="configuration-block">
    <div role="tablist" aria-label="Configuration formats" class="configuration-tabs configuration-tabs-length-4">
                    <button role="tab" type="button" data-language="yaml"
                aria-controls="configuration-block-tabpanel-313bbba1ae89ad157cccac60383155660b4e653a" aria-selected="true"
                data-active="true" >
                <span>YAML</span>
            </button>
                    <button role="tab" type="button" data-language="xml"
                aria-controls="configuration-block-tabpanel-dc8d235d11d90e3a39ffeb76b0bb2239ab92a096" aria-selected="false"
                 tabindex="-1">
                <span>XML</span>
            </button>
                    <button role="tab" type="button" data-language="php"
                aria-controls="configuration-block-tabpanel-e9f201cfd530f3e2071a4943d73d331e741c269b" aria-selected="false"
                 tabindex="-1">
                <span>PHP</span>
            </button>
                    <button role="tab" type="button" data-language="php-standalone"
                aria-controls="configuration-block-tabpanel-673a5b7100126ce5e7c2bd73240aa40c6c6df948" aria-selected="false"
                 tabindex="-1">
                <span>Standalone Use</span>
            </button>
            </div>

            <div role="tabpanel" id="configuration-block-tabpanel-313bbba1ae89ad157cccac60383155660b4e653a" aria-label="YAML" class="configuration-codeblock" data-language="yaml" style="">
            <div translate="no" class="highlight-yaml notranslate">
    <table class="highlighttable">
        <tbody>
            <tr>
                <td class="linenos">
                    <div class="linenodiv">
                        <pre>1
2
3
4
5
6
7</pre>
                    </div>
                </td>
                <td class="code">
                    <div class="highlight">
                        <pre class="hljs yaml"><span class="hljs-comment"># config/packages/html_sanitizer.yaml</span>
<span class="hljs-attr">framework:</span>
    <span class="hljs-attr">html_sanitizer:</span>
        <span class="hljs-attr">sanitizers:</span>
            <span class="hljs-attr">app.post_sanitizer:</span>
                <span class="hljs-attr">block_elements:</span>
                    <span class="hljs-bullet">-</span> <span class="hljs-string">h1</span></pre>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
        </div>
            <div role="tabpanel" id="configuration-block-tabpanel-dc8d235d11d90e3a39ffeb76b0bb2239ab92a096" aria-label="XML" class="configuration-codeblock" data-language="xml" style="display: none">
            <div translate="no" class="highlight-xml notranslate">
    <table class="highlighttable">
        <tbody>
            <tr>
                <td class="linenos">
                    <div class="linenodiv">
                        <pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17</pre>
                    </div>
                </td>
                <td class="code">
                    <div class="highlight">
                        <pre class="hljs xml"><span class="hljs-comment">&lt;!-- config/packages/html_sanitizer.xml --&gt;</span>
<span class="hljs-meta">&lt;?xml version="1.0" encoding="UTF-8" ?&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">container</span> <span class="hljs-attr">xmlns</span>=<span class="hljs-string">"http://symfony.com/schema/dic/services"</span>
    <span class="hljs-attr">xmlns:xsi</span>=<span class="hljs-string">"http://www.w3.org/2001/XMLSchema-instance"</span>
    <span class="hljs-attr">xmlns:framework</span>=<span class="hljs-string">"http://symfony.com/schema/dic/symfony"</span>
    <span class="hljs-attr">xsi:schemaLocation</span>=<span class="hljs-string">"http://symfony.com/schema/dic/services
        https://symfony.com/schema/dic/services/services-1.0.xsd
        http://symfony.com/schema/dic/symfony https://symfony.com/schema/dic/symfony/symfony-1.0.xsd"</span>&gt;</span>

    <span class="hljs-tag">&lt;<span class="hljs-name">framework:config</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">framework:html-sanitizer</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">framework:sanitizer</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"app.post_sanitizer"</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">framework:block-element</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"h1"</span>/&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-name">framework:sanitizer</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">framework:html-sanitizer</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">framework:config</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">container</span>&gt;</span></pre>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
        </div>
            <div role="tabpanel" id="configuration-block-tabpanel-e9f201cfd530f3e2071a4943d73d331e741c269b" aria-label="PHP" class="configuration-codeblock" data-language="php" style="display: none">
            <div translate="no" class="highlight-php notranslate">
    <table class="highlighttable">
        <tbody>
            <tr>
                <td class="linenos">
                    <div class="linenodiv">
                        <pre>1
2
3
4
5
6
7
8
9</pre>
                    </div>
                </td>
                <td class="code">
                    <div class="highlight">
                        <pre class="hljs php"><span class="hljs-comment">// config/packages/framework.php</span>
<span class="hljs-keyword">use</span> <span class="hljs-title">Symfony</span>\<span class="hljs-title">Config</span>\<span class="hljs-title">FrameworkConfig</span>;

<span class="hljs-keyword">return</span> <span class="hljs-keyword">static</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(FrameworkConfig <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>framework</span>)</span> </span>{
    <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>framework</span><span class="hljs-operator">-&gt;</span>htmlSanitizer()
        <span class="hljs-operator">-&gt;</span>sanitizer(<span class="hljs-string">'app.post_sanitizer'</span>)
            <span class="hljs-operator">-&gt;</span>blockElement(<span class="hljs-string">'h1'</span>)
    ;
};</pre>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
        </div>
            <div role="tabpanel" id="configuration-block-tabpanel-673a5b7100126ce5e7c2bd73240aa40c6c6df948" aria-label="Standalone Use" class="configuration-codeblock" data-language="php-standalone" style="display: none">
            <div translate="no" class="highlight-php-standalone highlight-php notranslate">
    <table class="highlighttable">
        <tbody>
            <tr>
                <td class="linenos">
                    <div class="linenodiv">
                        <pre>1
2
3
4
5
6
7</pre>
                    </div>
                </td>
                <td class="code">
                    <div class="highlight">
                        <pre class="hljs php-standalone php"><span class="hljs-keyword">use</span> <span class="hljs-title">Symfony</span>\<span class="hljs-title">Component</span>\<span class="hljs-title">HtmlSanitizer</span>\<span class="hljs-title">HtmlSanitizer</span>;
<span class="hljs-keyword">use</span> <span class="hljs-title">Symfony</span>\<span class="hljs-title">Component</span>\<span class="hljs-title">HtmlSanitizer</span>\<span class="hljs-title">HtmlSanitizerConfig</span>;

<span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>postSanitizer</span> = <span class="hljs-keyword">new</span> HtmlSanitizer(
    (<span class="hljs-keyword">new</span> HtmlSanitizerConfig())
        <span class="hljs-operator">-&gt;</span>blockElement(<span class="hljs-string">'h1'</span>)
);</pre>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
        </div>
    </div>
<p>This configuration defines a new <code translate="no" class="notranslate">html_sanitizer.sanitizer.app.post_sanitizer</code>
service. This service will be <a href="service_container/autowiring.html" class="reference internal">autowired</a>
for services having an <code translate="no" class="notranslate">HtmlSanitizerInterface $appPostSanitizer</code> parameter.</p>
<div class="section">
<h3 id="allow-element-baselines">
    Allow Element Baselines
    <a class="headerlink" href="#allow-element-baselines" title="Permalink to this headline">¶</a>
</h3>
<p>You can start the custom HTML sanitizer by using one of the two baselines:</p>
<dl>
                        <dt>Static elements</dt>
        
        <dd>
                            All elements and attributes on the baseline allow lists from the
<a href="https://wicg.github.io/sanitizer-api/" class="reference external" rel="external noopener noreferrer" target="_blank">W3C Standard Proposal</a> (this does not include scripts).
                    </dd>
                        <dt>Safe elements</dt>
        
        <dd>
                            All elements and attributes from the &quot;static elements&quot; list, excluding
elements and attributes that can also lead to CSS
injection/click-jacking.
                    </dd>
    </dl>
<div class="configuration-block">
    <div role="tablist" aria-label="Configuration formats" class="configuration-tabs configuration-tabs-length-4">
                    <button role="tab" type="button" data-language="yaml"
                aria-controls="configuration-block-tabpanel-744f3c6b3d86f40cbe68b43506325f78c26fe48b" aria-selected="true"
                data-active="true" >
                <span>YAML</span>
            </button>
                    <button role="tab" type="button" data-language="xml"
                aria-controls="configuration-block-tabpanel-d1a498fef4c56b16bca6d4284ed69cba8fab0ad8" aria-selected="false"
                 tabindex="-1">
                <span>XML</span>
            </button>
                    <button role="tab" type="button" data-language="php"
                aria-controls="configuration-block-tabpanel-9a24a1271c6afd2619cb291477fdb13237dff65c" aria-selected="false"
                 tabindex="-1">
                <span>PHP</span>
            </button>
                    <button role="tab" type="button" data-language="php-standalone"
                aria-controls="configuration-block-tabpanel-c836d09cc199043fb52ebd72518556a1bb744964" aria-selected="false"
                 tabindex="-1">
                <span>Standalone Use</span>
            </button>
            </div>

            <div role="tabpanel" id="configuration-block-tabpanel-744f3c6b3d86f40cbe68b43506325f78c26fe48b" aria-label="YAML" class="configuration-codeblock" data-language="yaml" style="">
            <div translate="no" class="highlight-yaml notranslate">
    <table class="highlighttable">
        <tbody>
            <tr>
                <td class="linenos">
                    <div class="linenodiv">
                        <pre>1
2
3
4
5
6
7
8</pre>
                    </div>
                </td>
                <td class="code">
                    <div class="highlight">
                        <pre class="hljs yaml"><span class="hljs-comment"># config/packages/html_sanitizer.yaml</span>
<span class="hljs-attr">framework:</span>
    <span class="hljs-attr">html_sanitizer:</span>
        <span class="hljs-attr">sanitizers:</span>
            <span class="hljs-attr">app.post_sanitizer:</span>
                <span class="hljs-comment"># enable either of these</span>
                <span class="hljs-attr">allow_safe_elements:</span> <span class="hljs-literal">true</span>
                <span class="hljs-attr">allow_static_elements:</span> <span class="hljs-literal">true</span></pre>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
        </div>
            <div role="tabpanel" id="configuration-block-tabpanel-d1a498fef4c56b16bca6d4284ed69cba8fab0ad8" aria-label="XML" class="configuration-codeblock" data-language="xml" style="display: none">
            <div translate="no" class="highlight-xml notranslate">
    <table class="highlighttable">
        <tbody>
            <tr>
                <td class="linenos">
                    <div class="linenodiv">
                        <pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21</pre>
                    </div>
                </td>
                <td class="code">
                    <div class="highlight">
                        <pre class="hljs xml"><span class="hljs-comment">&lt;!-- config/packages/html_sanitizer.xml --&gt;</span>
<span class="hljs-meta">&lt;?xml version="1.0" encoding="UTF-8" ?&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">container</span> <span class="hljs-attr">xmlns</span>=<span class="hljs-string">"http://symfony.com/schema/dic/services"</span>
    <span class="hljs-attr">xmlns:xsi</span>=<span class="hljs-string">"http://www.w3.org/2001/XMLSchema-instance"</span>
    <span class="hljs-attr">xmlns:framework</span>=<span class="hljs-string">"http://symfony.com/schema/dic/symfony"</span>
    <span class="hljs-attr">xsi:schemaLocation</span>=<span class="hljs-string">"http://symfony.com/schema/dic/services
        https://symfony.com/schema/dic/services/services-1.0.xsd
        http://symfony.com/schema/dic/symfony https://symfony.com/schema/dic/symfony/symfony-1.0.xsd"</span>&gt;</span>

    <span class="hljs-tag">&lt;<span class="hljs-name">framework:config</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">framework:html-sanitizer</span>&gt;</span>
            <span class="hljs-comment">&lt;!-- allow-safe-elements/allow-static-elements:
                 enable either of these --&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">framework:sanitizer</span>
                <span class="hljs-attr">name</span>=<span class="hljs-string">"app.post_sanitizer"</span>
                <span class="hljs-attr">allow-safe-elements</span>=<span class="hljs-string">"true"</span>
                <span class="hljs-attr">allow-static-elements</span>=<span class="hljs-string">"true"</span>
            /&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">framework:html-sanitizer</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">framework:config</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">container</span>&gt;</span></pre>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
        </div>
            <div role="tabpanel" id="configuration-block-tabpanel-9a24a1271c6afd2619cb291477fdb13237dff65c" aria-label="PHP" class="configuration-codeblock" data-language="php" style="display: none">
            <div translate="no" class="highlight-php notranslate">
    <table class="highlighttable">
        <tbody>
            <tr>
                <td class="linenos">
                    <div class="linenodiv">
                        <pre>1
2
3
4
5
6
7
8
9
10
11</pre>
                    </div>
                </td>
                <td class="code">
                    <div class="highlight">
                        <pre class="hljs php"><span class="hljs-comment">// config/packages/framework.php</span>
<span class="hljs-keyword">use</span> <span class="hljs-title">Symfony</span>\<span class="hljs-title">Config</span>\<span class="hljs-title">FrameworkConfig</span>;

<span class="hljs-keyword">return</span> <span class="hljs-keyword">static</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(FrameworkConfig <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>framework</span>)</span> </span>{
    <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>framework</span><span class="hljs-operator">-&gt;</span>htmlSanitizer()
        <span class="hljs-operator">-&gt;</span>sanitizer(<span class="hljs-string">'app.post_sanitizer'</span>)
            <span class="hljs-comment">// enable either of these</span>
            <span class="hljs-operator">-&gt;</span>allowSafeElements(<span class="hljs-keyword">true</span>)
            <span class="hljs-operator">-&gt;</span>allowStaticElements(<span class="hljs-keyword">true</span>)
    ;
};</pre>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
        </div>
            <div role="tabpanel" id="configuration-block-tabpanel-c836d09cc199043fb52ebd72518556a1bb744964" aria-label="Standalone Use" class="configuration-codeblock" data-language="php-standalone" style="display: none">
            <div translate="no" class="highlight-php-standalone highlight-php notranslate">
    <table class="highlighttable">
        <tbody>
            <tr>
                <td class="linenos">
                    <div class="linenodiv">
                        <pre>1
2
3
4
5
6
7
8
9</pre>
                    </div>
                </td>
                <td class="code">
                    <div class="highlight">
                        <pre class="hljs php-standalone php"><span class="hljs-keyword">use</span> <span class="hljs-title">Symfony</span>\<span class="hljs-title">Component</span>\<span class="hljs-title">HtmlSanitizer</span>\<span class="hljs-title">HtmlSanitizer</span>;
<span class="hljs-keyword">use</span> <span class="hljs-title">Symfony</span>\<span class="hljs-title">Component</span>\<span class="hljs-title">HtmlSanitizer</span>\<span class="hljs-title">HtmlSanitizerConfig</span>;

<span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>postSanitizer</span> = <span class="hljs-keyword">new</span> HtmlSanitizer(
    (<span class="hljs-keyword">new</span> HtmlSanitizerConfig())
        <span class="hljs-comment">// enable either of these</span>
        <span class="hljs-operator">-&gt;</span>allowSafeElements()
        <span class="hljs-operator">-&gt;</span>allowStaticElements()
);</pre>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
        </div>
    </div>
</div>
<div class="section">
<h3 id="allow-elements">
    Allow Elements
    <a class="headerlink" href="#allow-elements" title="Permalink to this headline">¶</a>
</h3>
<p>This adds elements to the allow list. For each element, you can also
specify the allowed attributes on that element. If not given, all allowed
attributes from the <a href="https://wicg.github.io/sanitizer-api/" class="reference external" rel="external noopener noreferrer" target="_blank">W3C Standard Proposal</a> are allowed.</p>
<div class="configuration-block">
    <div role="tablist" aria-label="Configuration formats" class="configuration-tabs configuration-tabs-length-4">
                    <button role="tab" type="button" data-language="yaml"
                aria-controls="configuration-block-tabpanel-c9ee57ed1918ceca906ce350f1dfbed65dc3b9c5" aria-selected="true"
                data-active="true" >
                <span>YAML</span>
            </button>
                    <button role="tab" type="button" data-language="xml"
                aria-controls="configuration-block-tabpanel-7855e6f38bcdf008b7cadecdcb66af4e9c1f327d" aria-selected="false"
                 tabindex="-1">
                <span>XML</span>
            </button>
                    <button role="tab" type="button" data-language="php"
                aria-controls="configuration-block-tabpanel-76d131d784568f275ff395671250f549ce405387" aria-selected="false"
                 tabindex="-1">
                <span>PHP</span>
            </button>
                    <button role="tab" type="button" data-language="php-standalone"
                aria-controls="configuration-block-tabpanel-ceae7f78965a1d18943020eb449fc11f90498215" aria-selected="false"
                 tabindex="-1">
                <span>Standalone Use</span>
            </button>
            </div>

            <div role="tabpanel" id="configuration-block-tabpanel-c9ee57ed1918ceca906ce350f1dfbed65dc3b9c5" aria-label="YAML" class="configuration-codeblock" data-language="yaml" style="">
            <div translate="no" class="highlight-yaml notranslate">
    <table class="highlighttable">
        <tbody>
            <tr>
                <td class="linenos">
                    <div class="linenodiv">
                        <pre>1
2
3
4
5
6
7
8
9
10
11
12
13</pre>
                    </div>
                </td>
                <td class="code">
                    <div class="highlight">
                        <pre class="hljs yaml"><span class="hljs-comment"># config/packages/html_sanitizer.yaml</span>
<span class="hljs-attr">framework:</span>
    <span class="hljs-attr">html_sanitizer:</span>
        <span class="hljs-attr">sanitizers:</span>
            <span class="hljs-attr">app.post_sanitizer:</span>
                <span class="hljs-comment"># ...</span>
                <span class="hljs-attr">allow_elements:</span>
                    <span class="hljs-comment"># allow the &lt;article&gt; element and 2 attributes</span>
                    <span class="hljs-attr">article:</span> <span class="hljs-string">['class',</span> <span class="hljs-string">'data-attr'</span><span class="hljs-string">]</span>
                    <span class="hljs-comment"># allow the &lt;img&gt; element and preserve the src attribute</span>
                    <span class="hljs-attr">img:</span> <span class="hljs-string">'src'</span>
                    <span class="hljs-comment"># allow the &lt;h1&gt; element with all safe attributes</span>
                    <span class="hljs-attr">h1:</span> <span class="hljs-string">'*'</span></pre>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
        </div>
            <div role="tabpanel" id="configuration-block-tabpanel-7855e6f38bcdf008b7cadecdcb66af4e9c1f327d" aria-label="XML" class="configuration-codeblock" data-language="xml" style="display: none">
            <div translate="no" class="highlight-xml notranslate">
    <table class="highlighttable">
        <tbody>
            <tr>
                <td class="linenos">
                    <div class="linenodiv">
                        <pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33</pre>
                    </div>
                </td>
                <td class="code">
                    <div class="highlight">
                        <pre class="hljs xml"><span class="hljs-comment">&lt;!-- config/packages/html_sanitizer.xml --&gt;</span>
<span class="hljs-meta">&lt;?xml version="1.0" encoding="UTF-8" ?&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">container</span> <span class="hljs-attr">xmlns</span>=<span class="hljs-string">"http://symfony.com/schema/dic/services"</span>
    <span class="hljs-attr">xmlns:xsi</span>=<span class="hljs-string">"http://www.w3.org/2001/XMLSchema-instance"</span>
    <span class="hljs-attr">xmlns:framework</span>=<span class="hljs-string">"http://symfony.com/schema/dic/symfony"</span>
    <span class="hljs-attr">xsi:schemaLocation</span>=<span class="hljs-string">"http://symfony.com/schema/dic/services
        https://symfony.com/schema/dic/services/services-1.0.xsd
        http://symfony.com/schema/dic/symfony https://symfony.com/schema/dic/symfony/symfony-1.0.xsd"</span>&gt;</span>

    <span class="hljs-tag">&lt;<span class="hljs-name">framework:config</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">framework:html-sanitizer</span>&gt;</span>
            <span class="hljs-comment">&lt;!-- allow-safe-elements/allow-static-elements:
                 enable either of these --&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">framework:sanitizer</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"app.post_sanitizer"</span>&gt;</span>
                <span class="hljs-comment">&lt;!-- allow the &lt;article&gt; element and 2 attributes --&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">framework:allow-element</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"article"</span>&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-name">framework:attribute</span>&gt;</span>class<span class="hljs-tag">&lt;/<span class="hljs-name">framework:attribute</span>&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-name">framework:attribute</span>&gt;</span>data-attr<span class="hljs-tag">&lt;/<span class="hljs-name">framework:attribute</span>&gt;</span>
                <span class="hljs-tag">&lt;/<span class="hljs-name">framework:allow-element</span>&gt;</span>

                <span class="hljs-comment">&lt;!-- allow the &lt;img&gt; element and preserve the src attribute --&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">framework:allow-element</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"img"</span>&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-name">framework:attribute</span>&gt;</span>src<span class="hljs-tag">&lt;/<span class="hljs-name">framework:attribute</span>&gt;</span>
                <span class="hljs-tag">&lt;/<span class="hljs-name">framework:allow-element</span>&gt;</span>

                <span class="hljs-comment">&lt;!-- allow the &lt;h1&gt; element with all safe attributes --&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">framework:allow-element</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"img"</span>&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-name">framework:attribute</span>&gt;</span>*<span class="hljs-tag">&lt;/<span class="hljs-name">framework:attribute</span>&gt;</span>
                <span class="hljs-tag">&lt;/<span class="hljs-name">framework:allow-element</span>&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-name">framework:sanitizer</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">framework:html-sanitizer</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">framework:config</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">container</span>&gt;</span></pre>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
        </div>
            <div role="tabpanel" id="configuration-block-tabpanel-76d131d784568f275ff395671250f549ce405387" aria-label="PHP" class="configuration-codeblock" data-language="php" style="display: none">
            <div translate="no" class="highlight-php notranslate">
    <table class="highlighttable">
        <tbody>
            <tr>
                <td class="linenos">
                    <div class="linenodiv">
                        <pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16</pre>
                    </div>
                </td>
                <td class="code">
                    <div class="highlight">
                        <pre class="hljs php"><span class="hljs-comment">// config/packages/framework.php</span>
<span class="hljs-keyword">use</span> <span class="hljs-title">Symfony</span>\<span class="hljs-title">Config</span>\<span class="hljs-title">FrameworkConfig</span>;

<span class="hljs-keyword">return</span> <span class="hljs-keyword">static</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(FrameworkConfig <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>framework</span>)</span> </span>{
    <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>framework</span><span class="hljs-operator">-&gt;</span>htmlSanitizer()
        <span class="hljs-operator">-&gt;</span>sanitizer(<span class="hljs-string">'app.post_sanitizer'</span>)
            <span class="hljs-comment">// allow the &lt;article&gt; element and 2 attributes</span>
            <span class="hljs-operator">-&gt;</span>allowElement(<span class="hljs-string">'article'</span>, [<span class="hljs-string">'class'</span>, <span class="hljs-string">'data-attr'</span>])

            <span class="hljs-comment">// allow the &lt;img&gt; element and preserve the src attribute</span>
            <span class="hljs-operator">-&gt;</span>allowElement(<span class="hljs-string">'img'</span>, <span class="hljs-string">'src'</span>)

            <span class="hljs-comment">// allow the &lt;h1&gt; element with all safe attributes</span>
            <span class="hljs-operator">-&gt;</span>allowElement(<span class="hljs-string">'h1'</span>)
    ;
};</pre>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
        </div>
            <div role="tabpanel" id="configuration-block-tabpanel-ceae7f78965a1d18943020eb449fc11f90498215" aria-label="Standalone Use" class="configuration-codeblock" data-language="php-standalone" style="display: none">
            <div translate="no" class="highlight-php-standalone highlight-php notranslate">
    <table class="highlighttable">
        <tbody>
            <tr>
                <td class="linenos">
                    <div class="linenodiv">
                        <pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14</pre>
                    </div>
                </td>
                <td class="code">
                    <div class="highlight">
                        <pre class="hljs php-standalone php"><span class="hljs-keyword">use</span> <span class="hljs-title">Symfony</span>\<span class="hljs-title">Component</span>\<span class="hljs-title">HtmlSanitizer</span>\<span class="hljs-title">HtmlSanitizer</span>;
<span class="hljs-keyword">use</span> <span class="hljs-title">Symfony</span>\<span class="hljs-title">Component</span>\<span class="hljs-title">HtmlSanitizer</span>\<span class="hljs-title">HtmlSanitizerConfig</span>;

<span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>postSanitizer</span> = <span class="hljs-keyword">new</span> HtmlSanitizer(
    (<span class="hljs-keyword">new</span> HtmlSanitizerConfig())
        <span class="hljs-comment">// allow the &lt;article&gt; element and 2 attributes</span>
        <span class="hljs-operator">-&gt;</span>allowElement(<span class="hljs-string">'article'</span>, [<span class="hljs-string">'class'</span>, <span class="hljs-string">'data-attr'</span>])

        <span class="hljs-comment">// allow the &lt;img&gt; element and preserve the src attribute</span>
        <span class="hljs-operator">-&gt;</span>allowElement(<span class="hljs-string">'img'</span>, <span class="hljs-string">'src'</span>)

        <span class="hljs-comment">// allow the &lt;h1&gt; element with all safe attributes</span>
        <span class="hljs-operator">-&gt;</span>allowElement(<span class="hljs-string">'h1'</span>)
);</pre>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
        </div>
    </div>
</div>
<div class="section">
<h3 id="block-and-drop-elements">
    Block and Drop Elements
    <a class="headerlink" href="#block-and-drop-elements" title="Permalink to this headline">¶</a>
</h3>
<p>You can also block (the element will be removed, but its children
will be kept) or drop (the element and its children will be removed)
elements.</p>
<p>This can also be used to remove elements from the allow list.</p>
<div class="configuration-block">
    <div role="tablist" aria-label="Configuration formats" class="configuration-tabs configuration-tabs-length-4">
                    <button role="tab" type="button" data-language="yaml"
                aria-controls="configuration-block-tabpanel-cb111055505dff72cc861fb1fdfe69fb06dd307a" aria-selected="true"
                data-active="true" >
                <span>YAML</span>
            </button>
                    <button role="tab" type="button" data-language="xml"
                aria-controls="configuration-block-tabpanel-59de1fa6a20f81e95b9b56e3d48a05a5d55ccff9" aria-selected="false"
                 tabindex="-1">
                <span>XML</span>
            </button>
                    <button role="tab" type="button" data-language="php"
                aria-controls="configuration-block-tabpanel-913da939805e7bb5434d9c7a3dcb17e638d5afc1" aria-selected="false"
                 tabindex="-1">
                <span>PHP</span>
            </button>
                    <button role="tab" type="button" data-language="php-standalone"
                aria-controls="configuration-block-tabpanel-84406b140a1645897124eddf23b77153667e575c" aria-selected="false"
                 tabindex="-1">
                <span>Standalone Use</span>
            </button>
            </div>

            <div role="tabpanel" id="configuration-block-tabpanel-cb111055505dff72cc861fb1fdfe69fb06dd307a" aria-label="YAML" class="configuration-codeblock" data-language="yaml" style="">
            <div translate="no" class="highlight-yaml notranslate">
    <table class="highlighttable">
        <tbody>
            <tr>
                <td class="linenos">
                    <div class="linenodiv">
                        <pre>1
2
3
4
5
6
7
8
9
10
11</pre>
                    </div>
                </td>
                <td class="code">
                    <div class="highlight">
                        <pre class="hljs yaml"><span class="hljs-comment"># config/packages/html_sanitizer.yaml</span>
<span class="hljs-attr">framework:</span>
    <span class="hljs-attr">html_sanitizer:</span>
        <span class="hljs-attr">sanitizers:</span>
            <span class="hljs-attr">app.post_sanitizer:</span>
                <span class="hljs-comment"># ...</span>

                <span class="hljs-comment"># remove &lt;div&gt;, but process the children</span>
                <span class="hljs-attr">block_elements:</span> <span class="hljs-string">['div']</span>
                <span class="hljs-comment"># remove &lt;figure&gt; and its children</span>
                <span class="hljs-attr">drop_elements:</span> <span class="hljs-string">['figure']</span></pre>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
        </div>
            <div role="tabpanel" id="configuration-block-tabpanel-59de1fa6a20f81e95b9b56e3d48a05a5d55ccff9" aria-label="XML" class="configuration-codeblock" data-language="xml" style="display: none">
            <div translate="no" class="highlight-xml notranslate">
    <table class="highlighttable">
        <tbody>
            <tr>
                <td class="linenos">
                    <div class="linenodiv">
                        <pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19</pre>
                    </div>
                </td>
                <td class="code">
                    <div class="highlight">
                        <pre class="hljs xml"><span class="hljs-comment">&lt;!-- config/packages/html_sanitizer.xml --&gt;</span>
<span class="hljs-meta">&lt;?xml version="1.0" encoding="UTF-8" ?&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">container</span> <span class="hljs-attr">xmlns</span>=<span class="hljs-string">"http://symfony.com/schema/dic/services"</span>
    <span class="hljs-attr">xmlns:xsi</span>=<span class="hljs-string">"http://www.w3.org/2001/XMLSchema-instance"</span>
    <span class="hljs-attr">xmlns:framework</span>=<span class="hljs-string">"http://symfony.com/schema/dic/symfony"</span>
    <span class="hljs-attr">xsi:schemaLocation</span>=<span class="hljs-string">"http://symfony.com/schema/dic/services
        https://symfony.com/schema/dic/services/services-1.0.xsd
        http://symfony.com/schema/dic/symfony https://symfony.com/schema/dic/symfony/symfony-1.0.xsd"</span>&gt;</span>

    <span class="hljs-tag">&lt;<span class="hljs-name">framework:config</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">framework:html-sanitizer</span>&gt;</span>
            <span class="hljs-comment">&lt;!-- remove &lt;div&gt;, but process the children --&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">framework:block-element</span>&gt;</span>div<span class="hljs-tag">&lt;/<span class="hljs-name">framework:block-element</span>&gt;</span>

            <span class="hljs-comment">&lt;!-- remove &lt;figure&gt; and its children --&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">framework:drop-element</span>&gt;</span>figure<span class="hljs-tag">&lt;/<span class="hljs-name">framework:drop-element</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">framework:html-sanitizer</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">framework:config</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">container</span>&gt;</span></pre>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
        </div>
            <div role="tabpanel" id="configuration-block-tabpanel-913da939805e7bb5434d9c7a3dcb17e638d5afc1" aria-label="PHP" class="configuration-codeblock" data-language="php" style="display: none">
            <div translate="no" class="highlight-php notranslate">
    <table class="highlighttable">
        <tbody>
            <tr>
                <td class="linenos">
                    <div class="linenodiv">
                        <pre>1
2
3
4
5
6
7
8
9
10
11
12</pre>
                    </div>
                </td>
                <td class="code">
                    <div class="highlight">
                        <pre class="hljs php"><span class="hljs-comment">// config/packages/framework.php</span>
<span class="hljs-keyword">use</span> <span class="hljs-title">Symfony</span>\<span class="hljs-title">Config</span>\<span class="hljs-title">FrameworkConfig</span>;

<span class="hljs-keyword">return</span> <span class="hljs-keyword">static</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(FrameworkConfig <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>framework</span>)</span> </span>{
    <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>framework</span><span class="hljs-operator">-&gt;</span>htmlSanitizer()
        <span class="hljs-operator">-&gt;</span>sanitizer(<span class="hljs-string">'app.post_sanitizer'</span>)
            <span class="hljs-comment">// remove &lt;div&gt;, but process the children</span>
            <span class="hljs-operator">-&gt;</span>blockElement(<span class="hljs-string">'div'</span>)
            <span class="hljs-comment">// remove &lt;figure&gt; and its children</span>
            <span class="hljs-operator">-&gt;</span>dropElement(<span class="hljs-string">'figure'</span>)
    ;
};</pre>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
        </div>
            <div role="tabpanel" id="configuration-block-tabpanel-84406b140a1645897124eddf23b77153667e575c" aria-label="Standalone Use" class="configuration-codeblock" data-language="php-standalone" style="display: none">
            <div translate="no" class="highlight-php-standalone highlight-php notranslate">
    <table class="highlighttable">
        <tbody>
            <tr>
                <td class="linenos">
                    <div class="linenodiv">
                        <pre>1
2
3
4
5
6
7
8
9
10</pre>
                    </div>
                </td>
                <td class="code">
                    <div class="highlight">
                        <pre class="hljs php-standalone php"><span class="hljs-keyword">use</span> <span class="hljs-title">Symfony</span>\<span class="hljs-title">Component</span>\<span class="hljs-title">HtmlSanitizer</span>\<span class="hljs-title">HtmlSanitizer</span>;
<span class="hljs-keyword">use</span> <span class="hljs-title">Symfony</span>\<span class="hljs-title">Component</span>\<span class="hljs-title">HtmlSanitizer</span>\<span class="hljs-title">HtmlSanitizerConfig</span>;

<span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>postSanitizer</span> = <span class="hljs-keyword">new</span> HtmlSanitizer(
    (<span class="hljs-keyword">new</span> HtmlSanitizerConfig())
        <span class="hljs-comment">// remove &lt;div&gt;, but process the children</span>
        <span class="hljs-operator">-&gt;</span>blockElement(<span class="hljs-string">'div'</span>)
        <span class="hljs-comment">// remove &lt;figure&gt; and its children</span>
        <span class="hljs-operator">-&gt;</span>dropElement(<span class="hljs-string">'figure'</span>)
);</pre>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
        </div>
    </div>
</div>
<div class="section">
<h3 id="allow-attributes">
    Allow Attributes
    <a class="headerlink" href="#allow-attributes" title="Permalink to this headline">¶</a>
</h3>
<p>Using this option, you can specify which attributes will be preserved in
the returned HTML. The attribute will be allowed on the given elements, or
on all elements allowed <em>before this setting</em>.</p>
<div class="configuration-block">
    <div role="tablist" aria-label="Configuration formats" class="configuration-tabs configuration-tabs-length-4">
                    <button role="tab" type="button" data-language="yaml"
                aria-controls="configuration-block-tabpanel-50d58e3914892cb1ea2a6115a1de17beac68be85" aria-selected="true"
                data-active="true" >
                <span>YAML</span>
            </button>
                    <button role="tab" type="button" data-language="xml"
                aria-controls="configuration-block-tabpanel-5d0895e2578bc110d5d12e1290a74ce2655b1fa0" aria-selected="false"
                 tabindex="-1">
                <span>XML</span>
            </button>
                    <button role="tab" type="button" data-language="php"
                aria-controls="configuration-block-tabpanel-a52ba2eb334e74497d41515eb5335cb60eefe91b" aria-selected="false"
                 tabindex="-1">
                <span>PHP</span>
            </button>
                    <button role="tab" type="button" data-language="php-standalone"
                aria-controls="configuration-block-tabpanel-904d2bc7b31bd3130ba3e684028aeaf298b27867" aria-selected="false"
                 tabindex="-1">
                <span>Standalone Use</span>
            </button>
            </div>

            <div role="tabpanel" id="configuration-block-tabpanel-50d58e3914892cb1ea2a6115a1de17beac68be85" aria-label="YAML" class="configuration-codeblock" data-language="yaml" style="">
            <div translate="no" class="highlight-yaml notranslate">
    <table class="highlighttable">
        <tbody>
            <tr>
                <td class="linenos">
                    <div class="linenodiv">
                        <pre>1
2
3
4
5
6
7
8
9
10
11
12</pre>
                    </div>
                </td>
                <td class="code">
                    <div class="highlight">
                        <pre class="hljs yaml"><span class="hljs-comment"># config/packages/html_sanitizer.yaml</span>
<span class="hljs-attr">framework:</span>
    <span class="hljs-attr">html_sanitizer:</span>
        <span class="hljs-attr">sanitizers:</span>
            <span class="hljs-attr">app.post_sanitizer:</span>
                <span class="hljs-comment"># ...</span>
                <span class="hljs-attr">allow_attributes:</span>
                    <span class="hljs-comment"># allow "src' on &lt;iframe&gt; elements</span>
                    <span class="hljs-attr">src:</span> <span class="hljs-string">['iframe']</span>

                    <span class="hljs-comment"># allow "data-attr" on all elements currently allowed</span>
                    <span class="hljs-attr">data-attr:</span> <span class="hljs-string">'*'</span></pre>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
        </div>
            <div role="tabpanel" id="configuration-block-tabpanel-5d0895e2578bc110d5d12e1290a74ce2655b1fa0" aria-label="XML" class="configuration-codeblock" data-language="xml" style="display: none">
            <div translate="no" class="highlight-xml notranslate">
    <table class="highlighttable">
        <tbody>
            <tr>
                <td class="linenos">
                    <div class="linenodiv">
                        <pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23</pre>
                    </div>
                </td>
                <td class="code">
                    <div class="highlight">
                        <pre class="hljs xml"><span class="hljs-comment">&lt;!-- config/packages/html_sanitizer.xml --&gt;</span>
<span class="hljs-meta">&lt;?xml version="1.0" encoding="UTF-8" ?&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">container</span> <span class="hljs-attr">xmlns</span>=<span class="hljs-string">"http://symfony.com/schema/dic/services"</span>
    <span class="hljs-attr">xmlns:xsi</span>=<span class="hljs-string">"http://www.w3.org/2001/XMLSchema-instance"</span>
    <span class="hljs-attr">xmlns:framework</span>=<span class="hljs-string">"http://symfony.com/schema/dic/symfony"</span>
    <span class="hljs-attr">xsi:schemaLocation</span>=<span class="hljs-string">"http://symfony.com/schema/dic/services
        https://symfony.com/schema/dic/services/services-1.0.xsd
        http://symfony.com/schema/dic/symfony https://symfony.com/schema/dic/symfony/symfony-1.0.xsd"</span>&gt;</span>

    <span class="hljs-tag">&lt;<span class="hljs-name">framework:config</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">framework:html-sanitizer</span>&gt;</span>
            <span class="hljs-comment">&lt;!-- allow "src' on &lt;iframe&gt; elements --&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">framework:allow-attribute</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"src"</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">framework:element</span>&gt;</span>iframe<span class="hljs-tag">&lt;/<span class="hljs-name">framework:element</span>&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-name">framework:allow-attribute</span>&gt;</span>

            <span class="hljs-comment">&lt;!-- allow "data-attr" on all elements currently allowed --&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">framework:allow-attribute</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"data-attr"</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">framework:element</span>&gt;</span>*<span class="hljs-tag">&lt;/<span class="hljs-name">framework:element</span>&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-name">framework:allow-attribute</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">framework:html-sanitizer</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">framework:config</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">container</span>&gt;</span></pre>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
        </div>
            <div role="tabpanel" id="configuration-block-tabpanel-a52ba2eb334e74497d41515eb5335cb60eefe91b" aria-label="PHP" class="configuration-codeblock" data-language="php" style="display: none">
            <div translate="no" class="highlight-php notranslate">
    <table class="highlighttable">
        <tbody>
            <tr>
                <td class="linenos">
                    <div class="linenodiv">
                        <pre>1
2
3
4
5
6
7
8
9
10
11
12
13</pre>
                    </div>
                </td>
                <td class="code">
                    <div class="highlight">
                        <pre class="hljs php"><span class="hljs-comment">// config/packages/framework.php</span>
<span class="hljs-keyword">use</span> <span class="hljs-title">Symfony</span>\<span class="hljs-title">Config</span>\<span class="hljs-title">FrameworkConfig</span>;

<span class="hljs-keyword">return</span> <span class="hljs-keyword">static</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(FrameworkConfig <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>framework</span>)</span> </span>{
    <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>framework</span><span class="hljs-operator">-&gt;</span>htmlSanitizer()
        <span class="hljs-operator">-&gt;</span>sanitizer(<span class="hljs-string">'app.post_sanitizer'</span>)
            <span class="hljs-comment">// allow "src' on &lt;iframe&gt; elements</span>
            <span class="hljs-operator">-&gt;</span>allowAttribute(<span class="hljs-string">'src'</span>, [<span class="hljs-string">'iframe'</span>])

            <span class="hljs-comment">// allow "data-attr" on all elements currently allowed</span>
            <span class="hljs-operator">-&gt;</span>allowAttribute(<span class="hljs-string">'data-attr'</span>, <span class="hljs-string">'*'</span>)
    ;
};</pre>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
        </div>
            <div role="tabpanel" id="configuration-block-tabpanel-904d2bc7b31bd3130ba3e684028aeaf298b27867" aria-label="Standalone Use" class="configuration-codeblock" data-language="php-standalone" style="display: none">
            <div translate="no" class="highlight-php-standalone highlight-php notranslate">
    <table class="highlighttable">
        <tbody>
            <tr>
                <td class="linenos">
                    <div class="linenodiv">
                        <pre>1
2
3
4
5
6
7
8
9
10
11</pre>
                    </div>
                </td>
                <td class="code">
                    <div class="highlight">
                        <pre class="hljs php-standalone php"><span class="hljs-keyword">use</span> <span class="hljs-title">Symfony</span>\<span class="hljs-title">Component</span>\<span class="hljs-title">HtmlSanitizer</span>\<span class="hljs-title">HtmlSanitizer</span>;
<span class="hljs-keyword">use</span> <span class="hljs-title">Symfony</span>\<span class="hljs-title">Component</span>\<span class="hljs-title">HtmlSanitizer</span>\<span class="hljs-title">HtmlSanitizerConfig</span>;

<span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>postSanitizer</span> = <span class="hljs-keyword">new</span> HtmlSanitizer(
    (<span class="hljs-keyword">new</span> HtmlSanitizerConfig())
        <span class="hljs-comment">// allow "src' on &lt;iframe&gt; elements</span>
        <span class="hljs-operator">-&gt;</span>allowAttribute(<span class="hljs-string">'src'</span>, [<span class="hljs-string">'iframe'</span>])

        <span class="hljs-comment">// allow "data-attr" on all elements currently allowed</span>
        <span class="hljs-operator">-&gt;</span>allowAttribute(<span class="hljs-string">'data-attr'</span>, <span class="hljs-string">'*'</span>)
);</pre>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
        </div>
    </div>
</div>
<div class="section">
<h3 id="drop-attributes">
    Drop Attributes
    <a class="headerlink" href="#drop-attributes" title="Permalink to this headline">¶</a>
</h3>
<p>This option allows you to disallow attributes that were allowed before.</p>
<div class="configuration-block">
    <div role="tablist" aria-label="Configuration formats" class="configuration-tabs configuration-tabs-length-4">
                    <button role="tab" type="button" data-language="yaml"
                aria-controls="configuration-block-tabpanel-793e63fc6648c0247e7a7d1f0cb39c2e3e41bb50" aria-selected="true"
                data-active="true" >
                <span>YAML</span>
            </button>
                    <button role="tab" type="button" data-language="xml"
                aria-controls="configuration-block-tabpanel-854ee6e43261bbec31c1a009d2a275c493b06aa6" aria-selected="false"
                 tabindex="-1">
                <span>XML</span>
            </button>
                    <button role="tab" type="button" data-language="php"
                aria-controls="configuration-block-tabpanel-a22f3f7ea2a905e853710999afab16e5d9b91c18" aria-selected="false"
                 tabindex="-1">
                <span>PHP</span>
            </button>
                    <button role="tab" type="button" data-language="php-standalone"
                aria-controls="configuration-block-tabpanel-4f05542d7852de0c7239c74948d7c905ef33b161" aria-selected="false"
                 tabindex="-1">
                <span>Standalone Use</span>
            </button>
            </div>

            <div role="tabpanel" id="configuration-block-tabpanel-793e63fc6648c0247e7a7d1f0cb39c2e3e41bb50" aria-label="YAML" class="configuration-codeblock" data-language="yaml" style="">
            <div translate="no" class="highlight-yaml notranslate">
    <table class="highlighttable">
        <tbody>
            <tr>
                <td class="linenos">
                    <div class="linenodiv">
                        <pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15</pre>
                    </div>
                </td>
                <td class="code">
                    <div class="highlight">
                        <pre class="hljs yaml"><span class="hljs-comment"># config/packages/html_sanitizer.yaml</span>
<span class="hljs-attr">framework:</span>
    <span class="hljs-attr">html_sanitizer:</span>
        <span class="hljs-attr">sanitizers:</span>
            <span class="hljs-attr">app.post_sanitizer:</span>
                <span class="hljs-comment"># ...</span>
                <span class="hljs-attr">allow_attributes:</span>
                    <span class="hljs-comment"># allow the "data-attr" on all safe elements...</span>
                    <span class="hljs-attr">data-attr:</span> <span class="hljs-string">'*'</span>

                <span class="hljs-attr">drop_attributes:</span>
                    <span class="hljs-comment"># ...except for the &lt;section&gt; element</span>
                    <span class="hljs-attr">data-attr:</span> <span class="hljs-string">['section']</span>
                    <span class="hljs-comment"># disallows "style' on any allowed element</span>
                    <span class="hljs-attr">style:</span> <span class="hljs-string">'*'</span></pre>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
        </div>
            <div role="tabpanel" id="configuration-block-tabpanel-854ee6e43261bbec31c1a009d2a275c493b06aa6" aria-label="XML" class="configuration-codeblock" data-language="xml" style="display: none">
            <div translate="no" class="highlight-xml notranslate">
    <table class="highlighttable">
        <tbody>
            <tr>
                <td class="linenos">
                    <div class="linenodiv">
                        <pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28</pre>
                    </div>
                </td>
                <td class="code">
                    <div class="highlight">
                        <pre class="hljs xml"><span class="hljs-comment">&lt;!-- config/packages/html_sanitizer.xml --&gt;</span>
<span class="hljs-meta">&lt;?xml version="1.0" encoding="UTF-8" ?&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">container</span> <span class="hljs-attr">xmlns</span>=<span class="hljs-string">"http://symfony.com/schema/dic/services"</span>
    <span class="hljs-attr">xmlns:xsi</span>=<span class="hljs-string">"http://www.w3.org/2001/XMLSchema-instance"</span>
    <span class="hljs-attr">xmlns:framework</span>=<span class="hljs-string">"http://symfony.com/schema/dic/symfony"</span>
    <span class="hljs-attr">xsi:schemaLocation</span>=<span class="hljs-string">"http://symfony.com/schema/dic/services
        https://symfony.com/schema/dic/services/services-1.0.xsd
        http://symfony.com/schema/dic/symfony https://symfony.com/schema/dic/symfony/symfony-1.0.xsd"</span>&gt;</span>

    <span class="hljs-tag">&lt;<span class="hljs-name">framework:config</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">framework:html-sanitizer</span>&gt;</span>
            <span class="hljs-comment">&lt;!-- allow the "data-attr" on all safe elements... --&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">framework:allow-attribute</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"data-attr"</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">framework:element</span>&gt;</span>*<span class="hljs-tag">&lt;/<span class="hljs-name">framework:element</span>&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-name">framework:allow-attribute</span>&gt;</span>

            <span class="hljs-comment">&lt;!-- ...except for the &lt;section&gt; element --&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">framework:drop-attribute</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"data-attr"</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">framework:element</span>&gt;</span>section<span class="hljs-tag">&lt;/<span class="hljs-name">framework:element</span>&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-name">framework:drop-attribute</span>&gt;</span>

            <span class="hljs-comment">&lt;!-- disallows "style' on any allowed element --&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">framework:drop-attribute</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"style"</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">framework:element</span>&gt;</span>*<span class="hljs-tag">&lt;/<span class="hljs-name">framework:element</span>&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-name">framework:drop-attribute</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">framework:html-sanitizer</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">framework:config</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">container</span>&gt;</span></pre>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
        </div>
            <div role="tabpanel" id="configuration-block-tabpanel-a22f3f7ea2a905e853710999afab16e5d9b91c18" aria-label="PHP" class="configuration-codeblock" data-language="php" style="display: none">
            <div translate="no" class="highlight-php notranslate">
    <table class="highlighttable">
        <tbody>
            <tr>
                <td class="linenos">
                    <div class="linenodiv">
                        <pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17</pre>
                    </div>
                </td>
                <td class="code">
                    <div class="highlight">
                        <pre class="hljs php"><span class="hljs-comment">// config/packages/framework.php</span>
<span class="hljs-keyword">use</span> <span class="hljs-title">Symfony</span>\<span class="hljs-title">Config</span>\<span class="hljs-title">FrameworkConfig</span>;

<span class="hljs-keyword">return</span> <span class="hljs-keyword">static</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(FrameworkConfig <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>framework</span>)</span> </span>{
    <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>framework</span><span class="hljs-operator">-&gt;</span>htmlSanitizer()
        <span class="hljs-operator">-&gt;</span>sanitizer(<span class="hljs-string">'app.post_sanitizer'</span>)
            <span class="hljs-comment">// allow the "data-attr" on all safe elements...</span>
            <span class="hljs-operator">-&gt;</span>allowAttribute(<span class="hljs-string">'data-attr'</span>)
                <span class="hljs-operator">-&gt;</span>element(<span class="hljs-string">'*'</span>)

            <span class="hljs-comment">// ...except for the &lt;section&gt; element</span>
            <span class="hljs-operator">-&gt;</span>dropAttribute(<span class="hljs-string">'data-attr'</span>, [<span class="hljs-string">'section'</span>])

            <span class="hljs-comment">// disallows "style' on any allowed element</span>
            <span class="hljs-operator">-&gt;</span>dropAttribute(<span class="hljs-string">'style'</span>)
    ;
};</pre>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
        </div>
            <div role="tabpanel" id="configuration-block-tabpanel-4f05542d7852de0c7239c74948d7c905ef33b161" aria-label="Standalone Use" class="configuration-codeblock" data-language="php-standalone" style="display: none">
            <div translate="no" class="highlight-php-standalone highlight-php notranslate">
    <table class="highlighttable">
        <tbody>
            <tr>
                <td class="linenos">
                    <div class="linenodiv">
                        <pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14</pre>
                    </div>
                </td>
                <td class="code">
                    <div class="highlight">
                        <pre class="hljs php-standalone php"><span class="hljs-keyword">use</span> <span class="hljs-title">Symfony</span>\<span class="hljs-title">Component</span>\<span class="hljs-title">HtmlSanitizer</span>\<span class="hljs-title">HtmlSanitizer</span>;
<span class="hljs-keyword">use</span> <span class="hljs-title">Symfony</span>\<span class="hljs-title">Component</span>\<span class="hljs-title">HtmlSanitizer</span>\<span class="hljs-title">HtmlSanitizerConfig</span>;

<span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>postSanitizer</span> = <span class="hljs-keyword">new</span> HtmlSanitizer(
    (<span class="hljs-keyword">new</span> HtmlSanitizerConfig())
        <span class="hljs-comment">// allow the "data-attr" on all safe elements...</span>
        <span class="hljs-operator">-&gt;</span>allowAttribute(<span class="hljs-string">'data-attr'</span>)

        <span class="hljs-comment">// ...except for the &lt;section&gt; element</span>
        <span class="hljs-operator">-&gt;</span>dropAttribute(<span class="hljs-string">'data-attr'</span>, [<span class="hljs-string">'section'</span>])

        <span class="hljs-comment">// disallows "style' on any allowed element</span>
        <span class="hljs-operator">-&gt;</span>dropAttribute(<span class="hljs-string">'style'</span>)
);</pre>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
        </div>
    </div>
</div>
<div class="section">
<h3 id="force-attribute-values">
    Force Attribute Values
    <a class="headerlink" href="#force-attribute-values" title="Permalink to this headline">¶</a>
</h3>
<p>Using this option, you can force an attribute with a given value on an
element. For instance, use the follow config to always set <code translate="no" class="notranslate">rel=&quot;noopener noreferrer&quot;</code> on each <code translate="no" class="notranslate">&lt;a&gt;</code>
element (even if the original one didn't contain a <code translate="no" class="notranslate">rel</code> attribute):</p>
<div class="configuration-block">
    <div role="tablist" aria-label="Configuration formats" class="configuration-tabs configuration-tabs-length-4">
                    <button role="tab" type="button" data-language="yaml"
                aria-controls="configuration-block-tabpanel-b74b19c0797d3b0de8ad77b734296f163e22643b" aria-selected="true"
                data-active="true" >
                <span>YAML</span>
            </button>
                    <button role="tab" type="button" data-language="xml"
                aria-controls="configuration-block-tabpanel-7b31988ea49329dea06323a30d690703a403c383" aria-selected="false"
                 tabindex="-1">
                <span>XML</span>
            </button>
                    <button role="tab" type="button" data-language="php"
                aria-controls="configuration-block-tabpanel-1c64e35d4b120ab638b8eeceb9c5007da3b7b25d" aria-selected="false"
                 tabindex="-1">
                <span>PHP</span>
            </button>
                    <button role="tab" type="button" data-language="php-standalone"
                aria-controls="configuration-block-tabpanel-b4a7225b026a56b57839e165276cfb1a30557df5" aria-selected="false"
                 tabindex="-1">
                <span>Standalone Use</span>
            </button>
            </div>

            <div role="tabpanel" id="configuration-block-tabpanel-b74b19c0797d3b0de8ad77b734296f163e22643b" aria-label="YAML" class="configuration-codeblock" data-language="yaml" style="">
            <div translate="no" class="highlight-yaml notranslate">
    <table class="highlighttable">
        <tbody>
            <tr>
                <td class="linenos">
                    <div class="linenodiv">
                        <pre>1
2
3
4
5
6
7
8
9</pre>
                    </div>
                </td>
                <td class="code">
                    <div class="highlight">
                        <pre class="hljs yaml"><span class="hljs-comment"># config/packages/html_sanitizer.yaml</span>
<span class="hljs-attr">framework:</span>
    <span class="hljs-attr">html_sanitizer:</span>
        <span class="hljs-attr">sanitizers:</span>
            <span class="hljs-attr">app.post_sanitizer:</span>
                <span class="hljs-comment"># ...</span>
                <span class="hljs-attr">force_attributes:</span>
                    <span class="hljs-attr">a:</span>
                        <span class="hljs-attr">rel:</span> <span class="hljs-string">noopener</span> <span class="hljs-string">noreferrer</span></pre>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
        </div>
            <div role="tabpanel" id="configuration-block-tabpanel-7b31988ea49329dea06323a30d690703a403c383" aria-label="XML" class="configuration-codeblock" data-language="xml" style="display: none">
            <div translate="no" class="highlight-xml notranslate">
    <table class="highlighttable">
        <tbody>
            <tr>
                <td class="linenos">
                    <div class="linenodiv">
                        <pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17</pre>
                    </div>
                </td>
                <td class="code">
                    <div class="highlight">
                        <pre class="hljs xml"><span class="hljs-comment">&lt;!-- config/packages/html_sanitizer.xml --&gt;</span>
<span class="hljs-meta">&lt;?xml version="1.0" encoding="UTF-8" ?&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">container</span> <span class="hljs-attr">xmlns</span>=<span class="hljs-string">"http://symfony.com/schema/dic/services"</span>
    <span class="hljs-attr">xmlns:xsi</span>=<span class="hljs-string">"http://www.w3.org/2001/XMLSchema-instance"</span>
    <span class="hljs-attr">xmlns:framework</span>=<span class="hljs-string">"http://symfony.com/schema/dic/symfony"</span>
    <span class="hljs-attr">xsi:schemaLocation</span>=<span class="hljs-string">"http://symfony.com/schema/dic/services
        https://symfony.com/schema/dic/services/services-1.0.xsd
        http://symfony.com/schema/dic/symfony https://symfony.com/schema/dic/symfony/symfony-1.0.xsd"</span>&gt;</span>

    <span class="hljs-tag">&lt;<span class="hljs-name">framework:config</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">framework:html-sanitizer</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">framework:force-attribute</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"a"</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">framework:attribute</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"rel"</span>&gt;</span>noopener noreferrer<span class="hljs-tag">&lt;/<span class="hljs-name">framework:attribute</span>&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-name">framework:force-attribute</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">framework:html-sanitizer</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">framework:config</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">container</span>&gt;</span></pre>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
        </div>
            <div role="tabpanel" id="configuration-block-tabpanel-1c64e35d4b120ab638b8eeceb9c5007da3b7b25d" aria-label="PHP" class="configuration-codeblock" data-language="php" style="display: none">
            <div translate="no" class="highlight-php notranslate">
    <table class="highlighttable">
        <tbody>
            <tr>
                <td class="linenos">
                    <div class="linenodiv">
                        <pre>1
2
3
4
5
6
7
8
9</pre>
                    </div>
                </td>
                <td class="code">
                    <div class="highlight">
                        <pre class="hljs php"><span class="hljs-comment">// config/packages/framework.php</span>
<span class="hljs-keyword">use</span> <span class="hljs-title">Symfony</span>\<span class="hljs-title">Config</span>\<span class="hljs-title">FrameworkConfig</span>;

<span class="hljs-keyword">return</span> <span class="hljs-keyword">static</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(FrameworkConfig <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>framework</span>)</span> </span>{
    <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>framework</span><span class="hljs-operator">-&gt;</span>htmlSanitizer()
        <span class="hljs-operator">-&gt;</span>sanitizer(<span class="hljs-string">'app.post_sanitizer'</span>)
            <span class="hljs-operator">-&gt;</span>forceAttribute(<span class="hljs-string">'a'</span>, <span class="hljs-string">'rel'</span>, <span class="hljs-string">'noopener noreferrer'</span>)
    ;
};</pre>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
        </div>
            <div role="tabpanel" id="configuration-block-tabpanel-b4a7225b026a56b57839e165276cfb1a30557df5" aria-label="Standalone Use" class="configuration-codeblock" data-language="php-standalone" style="display: none">
            <div translate="no" class="highlight-php-standalone highlight-php notranslate">
    <table class="highlighttable">
        <tbody>
            <tr>
                <td class="linenos">
                    <div class="linenodiv">
                        <pre>1
2
3
4
5
6
7</pre>
                    </div>
                </td>
                <td class="code">
                    <div class="highlight">
                        <pre class="hljs php-standalone php"><span class="hljs-keyword">use</span> <span class="hljs-title">Symfony</span>\<span class="hljs-title">Component</span>\<span class="hljs-title">HtmlSanitizer</span>\<span class="hljs-title">HtmlSanitizer</span>;
<span class="hljs-keyword">use</span> <span class="hljs-title">Symfony</span>\<span class="hljs-title">Component</span>\<span class="hljs-title">HtmlSanitizer</span>\<span class="hljs-title">HtmlSanitizerConfig</span>;

<span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>postSanitizer</span> = <span class="hljs-keyword">new</span> HtmlSanitizer(
    (<span class="hljs-keyword">new</span> HtmlSanitizerConfig())
        <span class="hljs-operator">-&gt;</span>forceAttribute(<span class="hljs-string">'a'</span>, <span class="hljs-string">'rel'</span>, <span class="hljs-string">'noopener noreferrer'</span>)
);</pre>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
        </div>
    </div>
<span id="html-sanitizer-link-url"></span>
</div>
<div class="section">
<h3 id="force-allow-link-urls">
    Force/Allow Link URLs
    <a class="headerlink" href="#force-allow-link-urls" title="Permalink to this headline">¶</a>
</h3>
<p>Besides allowing/blocking elements and attributes, you can also control the
URLs of <code translate="no" class="notranslate">&lt;a&gt;</code> elements:</p>
<div class="configuration-block">
    <div role="tablist" aria-label="Configuration formats" class="configuration-tabs configuration-tabs-length-4">
                    <button role="tab" type="button" data-language="yaml"
                aria-controls="configuration-block-tabpanel-7009cb89edd4522595459c728f4ff8db522b151f" aria-selected="true"
                data-active="true" >
                <span>YAML</span>
            </button>
                    <button role="tab" type="button" data-language="xml"
                aria-controls="configuration-block-tabpanel-c8aad42f4a47891c996b2593c612510da54f499a" aria-selected="false"
                 tabindex="-1">
                <span>XML</span>
            </button>
                    <button role="tab" type="button" data-language="php"
                aria-controls="configuration-block-tabpanel-997f32c415933ff7b719879de6227d49fdff3c58" aria-selected="false"
                 tabindex="-1">
                <span>PHP</span>
            </button>
                    <button role="tab" type="button" data-language="php-standalone"
                aria-controls="configuration-block-tabpanel-0dac50d29e834b9563095c95de03dd6d92c83a1e" aria-selected="false"
                 tabindex="-1">
                <span>Standalone Use</span>
            </button>
            </div>

            <div role="tabpanel" id="configuration-block-tabpanel-7009cb89edd4522595459c728f4ff8db522b151f" aria-label="YAML" class="configuration-codeblock" data-language="yaml" style="">
            <div translate="no" class="highlight-yaml notranslate">
    <table class="highlighttable">
        <tbody>
            <tr>
                <td class="linenos">
                    <div class="linenodiv">
                        <pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21</pre>
                    </div>
                </td>
                <td class="code">
                    <div class="highlight">
                        <pre class="hljs yaml"><span class="hljs-comment"># config/packages/html_sanitizer.yaml</span>
<span class="hljs-attr">framework:</span>
    <span class="hljs-attr">html_sanitizer:</span>
        <span class="hljs-attr">sanitizers:</span>
            <span class="hljs-attr">app.post_sanitizer:</span>
                <span class="hljs-comment"># ...</span>

                <span class="hljs-comment"># if `true`, all URLs will be forced using the `https://` scheme (instead</span>
                <span class="hljs-comment"># of e.g. `http://` or `mailto:`)</span>
                <span class="hljs-attr">force_https_urls:</span> <span class="hljs-literal">true</span>

                <span class="hljs-comment"># specifies the allowed URL schemes. If the URL has a different scheme, the</span>
                <span class="hljs-comment"># attribute will be dropped</span>
                <span class="hljs-attr">allowed_link_schemes:</span> <span class="hljs-string">['http',</span> <span class="hljs-string">'https'</span><span class="hljs-string">,</span> <span class="hljs-string">'mailto'</span><span class="hljs-string">]</span>

                <span class="hljs-comment"># specifies the allowed hosts, the attribute will be dropped if the</span>
                <span class="hljs-comment"># URL contains a different host</span>
                <span class="hljs-attr">allowed_link_hosts:</span> <span class="hljs-string">['symfony.com']</span>

                <span class="hljs-comment"># whether to allow relative links (i.e. URLs without scheme and host)</span>
                <span class="hljs-attr">allow_relative_links:</span> <span class="hljs-literal">true</span></pre>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
        </div>
            <div role="tabpanel" id="configuration-block-tabpanel-c8aad42f4a47891c996b2593c612510da54f499a" aria-label="XML" class="configuration-codeblock" data-language="xml" style="display: none">
            <div translate="no" class="highlight-xml notranslate">
    <table class="highlighttable">
        <tbody>
            <tr>
                <td class="linenos">
                    <div class="linenodiv">
                        <pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30</pre>
                    </div>
                </td>
                <td class="code">
                    <div class="highlight">
                        <pre class="hljs xml"><span class="hljs-comment">&lt;!-- config/packages/html_sanitizer.xml --&gt;</span>
<span class="hljs-meta">&lt;?xml version="1.0" encoding="UTF-8" ?&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">container</span> <span class="hljs-attr">xmlns</span>=<span class="hljs-string">"http://symfony.com/schema/dic/services"</span>
    <span class="hljs-attr">xmlns:xsi</span>=<span class="hljs-string">"http://www.w3.org/2001/XMLSchema-instance"</span>
    <span class="hljs-attr">xmlns:framework</span>=<span class="hljs-string">"http://symfony.com/schema/dic/symfony"</span>
    <span class="hljs-attr">xsi:schemaLocation</span>=<span class="hljs-string">"http://symfony.com/schema/dic/services
        https://symfony.com/schema/dic/services/services-1.0.xsd
        http://symfony.com/schema/dic/symfony https://symfony.com/schema/dic/symfony/symfony-1.0.xsd"</span>&gt;</span>

    <span class="hljs-tag">&lt;<span class="hljs-name">framework:config</span>&gt;</span>
        <span class="hljs-comment">&lt;!-- force-https-urls: if `true`, all URLs will be forced using the `https://`
                               scheme (instead of e.g. `http://` or `mailto:`) --&gt;</span>
        <span class="hljs-comment">&lt;!-- allow-relative-links: whether to allow relative links (i.e. URLs without
                                   scheme and host) --&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">framework:html-sanitizer</span>
            <span class="hljs-attr">force-https-urls</span>=<span class="hljs-string">"true"</span>
            <span class="hljs-attr">allow-relative-links</span>=<span class="hljs-string">"true"</span>
        &gt;</span>
            <span class="hljs-comment">&lt;!-- specifies the allowed URL schemes. If the URL has a different scheme,
                 the attribute will be dropped --&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">allowed-link-scheme</span>&gt;</span>http<span class="hljs-tag">&lt;/<span class="hljs-name">allowed-link-scheme</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">allowed-link-scheme</span>&gt;</span>https<span class="hljs-tag">&lt;/<span class="hljs-name">allowed-link-scheme</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">allowed-link-scheme</span>&gt;</span>mailto<span class="hljs-tag">&lt;/<span class="hljs-name">allowed-link-scheme</span>&gt;</span>

            <span class="hljs-comment">&lt;!-- specifies the allowed hosts, the attribute will be dropped if the
                 URL contains a different host --&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">allowed-link-host</span>&gt;</span>symfony.com<span class="hljs-tag">&lt;/<span class="hljs-name">allowed-link-host</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">framework:html-sanitizer</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">framework:config</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">container</span>&gt;</span></pre>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
        </div>
            <div role="tabpanel" id="configuration-block-tabpanel-997f32c415933ff7b719879de6227d49fdff3c58" aria-label="PHP" class="configuration-codeblock" data-language="php" style="display: none">
            <div translate="no" class="highlight-php notranslate">
    <table class="highlighttable">
        <tbody>
            <tr>
                <td class="linenos">
                    <div class="linenodiv">
                        <pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22</pre>
                    </div>
                </td>
                <td class="code">
                    <div class="highlight">
                        <pre class="hljs php"><span class="hljs-comment">// config/packages/framework.php</span>
<span class="hljs-keyword">use</span> <span class="hljs-title">Symfony</span>\<span class="hljs-title">Config</span>\<span class="hljs-title">FrameworkConfig</span>;

<span class="hljs-keyword">return</span> <span class="hljs-keyword">static</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(FrameworkConfig <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>framework</span>)</span> </span>{
    <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>framework</span><span class="hljs-operator">-&gt;</span>htmlSanitizer()
        <span class="hljs-operator">-&gt;</span>sanitizer(<span class="hljs-string">'app.post_sanitizer'</span>)
            <span class="hljs-comment">// if `true`, all URLs will be forced using the `https://` scheme (instead</span>
            <span class="hljs-comment">// of e.g. `http://` or `mailto:`)</span>
            <span class="hljs-operator">-&gt;</span>forceHttpsUrls(<span class="hljs-keyword">true</span>)

            <span class="hljs-comment">// specifies the allowed URL schemes. If the URL has a different scheme, the</span>
            <span class="hljs-comment">// attribute will be dropped</span>
            <span class="hljs-operator">-&gt;</span>allowedLinkSchemes([<span class="hljs-string">'http'</span>, <span class="hljs-string">'https'</span>, <span class="hljs-string">'mailto'</span>])

            <span class="hljs-comment">// specifies the allowed hosts, the attribute will be dropped if the</span>
            <span class="hljs-comment">// URL contains a different host</span>
            <span class="hljs-operator">-&gt;</span>allowedLinkHost(<span class="hljs-string">'symfony.com'</span>)

            <span class="hljs-comment">// whether to allow relative links (i.e. URLs without scheme and host)</span>
            <span class="hljs-operator">-&gt;</span>allowRelativeLinks(<span class="hljs-keyword">true</span>)
    ;
};</pre>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
        </div>
            <div role="tabpanel" id="configuration-block-tabpanel-0dac50d29e834b9563095c95de03dd6d92c83a1e" aria-label="Standalone Use" class="configuration-codeblock" data-language="php-standalone" style="display: none">
            <div translate="no" class="highlight-php-standalone highlight-php notranslate">
    <table class="highlighttable">
        <tbody>
            <tr>
                <td class="linenos">
                    <div class="linenodiv">
                        <pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20</pre>
                    </div>
                </td>
                <td class="code">
                    <div class="highlight">
                        <pre class="hljs php-standalone php"><span class="hljs-keyword">use</span> <span class="hljs-title">Symfony</span>\<span class="hljs-title">Component</span>\<span class="hljs-title">HtmlSanitizer</span>\<span class="hljs-title">HtmlSanitizer</span>;
<span class="hljs-keyword">use</span> <span class="hljs-title">Symfony</span>\<span class="hljs-title">Component</span>\<span class="hljs-title">HtmlSanitizer</span>\<span class="hljs-title">HtmlSanitizerConfig</span>;

<span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>postSanitizer</span> = <span class="hljs-keyword">new</span> HtmlSanitizer(
    (<span class="hljs-keyword">new</span> HtmlSanitizerConfig())
        <span class="hljs-comment">// if `true`, all URLs will be forced using the `https://` scheme (instead</span>
        <span class="hljs-comment">// of e.g. `http://` or `mailto:`)</span>
        <span class="hljs-operator">-&gt;</span>forceHttpsUrls()

        <span class="hljs-comment">// specifies the allowed URL schemes. If the URL has a different scheme, the</span>
        <span class="hljs-comment">// attribute will be dropped</span>
        <span class="hljs-operator">-&gt;</span>allowedLinkSchemes([<span class="hljs-string">'http'</span>, <span class="hljs-string">'https'</span>, <span class="hljs-string">'mailto'</span>])

        <span class="hljs-comment">// specifies the allowed hosts, the attribute will be dropped if the</span>
        <span class="hljs-comment">// URL contains a different host</span>
        <span class="hljs-operator">-&gt;</span>allowedLinkHosts([<span class="hljs-string">'symfony.com'</span>])

        <span class="hljs-comment">// whether to allow relative links (i.e. URLs without scheme and host)</span>
        <span class="hljs-operator">-&gt;</span>allowRelativeLinks()
);</pre>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
        </div>
    </div>
</div>
<div class="section">
<h3 id="force-allow-media-urls">
    Force/Allow Media URLs
    <a class="headerlink" href="#force-allow-media-urls" title="Permalink to this headline">¶</a>
</h3>
<p>Like <a href="html_sanitizer.html#html-sanitizer-link-url" class="reference internal">link URLs</a>, you can also control the
URLs of other media in the HTML. The following attributes are checked by
the HTML sanitizer: <code translate="no" class="notranslate">src</code>, <code translate="no" class="notranslate">href</code>, <code translate="no" class="notranslate">lowsrc</code>, <code translate="no" class="notranslate">background</code> and <code translate="no" class="notranslate">ping</code>.</p>
<div class="configuration-block">
    <div role="tablist" aria-label="Configuration formats" class="configuration-tabs configuration-tabs-length-4">
                    <button role="tab" type="button" data-language="yaml"
                aria-controls="configuration-block-tabpanel-4e8dc99fa104243b28698938fdc8eb02de4c1f55" aria-selected="true"
                data-active="true" >
                <span>YAML</span>
            </button>
                    <button role="tab" type="button" data-language="xml"
                aria-controls="configuration-block-tabpanel-cdebed3618de11149cc6461b62fa145062040c4c" aria-selected="false"
                 tabindex="-1">
                <span>XML</span>
            </button>
                    <button role="tab" type="button" data-language="php"
                aria-controls="configuration-block-tabpanel-4e1bff05dc89f0c6e6ee94af616aa066be137534" aria-selected="false"
                 tabindex="-1">
                <span>PHP</span>
            </button>
                    <button role="tab" type="button" data-language="php-standalone"
                aria-controls="configuration-block-tabpanel-f1ca7b731a1aea0973baa978daefe74e656242b9" aria-selected="false"
                 tabindex="-1">
                <span>Standalone Use</span>
            </button>
            </div>

            <div role="tabpanel" id="configuration-block-tabpanel-4e8dc99fa104243b28698938fdc8eb02de4c1f55" aria-label="YAML" class="configuration-codeblock" data-language="yaml" style="">
            <div translate="no" class="highlight-yaml notranslate">
    <table class="highlighttable">
        <tbody>
            <tr>
                <td class="linenos">
                    <div class="linenodiv">
                        <pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21</pre>
                    </div>
                </td>
                <td class="code">
                    <div class="highlight">
                        <pre class="hljs yaml"><span class="hljs-comment"># config/packages/html_sanitizer.yaml</span>
<span class="hljs-attr">framework:</span>
    <span class="hljs-attr">html_sanitizer:</span>
        <span class="hljs-attr">sanitizers:</span>
            <span class="hljs-attr">app.post_sanitizer:</span>
                <span class="hljs-comment"># ...</span>

                <span class="hljs-comment"># if `true`, all URLs will be forced using the `https://` scheme (instead</span>
                <span class="hljs-comment"># of e.g. `http://` or `data:`)</span>
                <span class="hljs-attr">force_https_urls:</span> <span class="hljs-literal">true</span>

                <span class="hljs-comment"># specifies the allowed URL schemes. If the URL has a different scheme, the</span>
                <span class="hljs-comment"># attribute will be dropped</span>
                <span class="hljs-attr">allowed_media_schemes:</span> <span class="hljs-string">['http',</span> <span class="hljs-string">'https'</span><span class="hljs-string">,</span> <span class="hljs-string">'mailto'</span><span class="hljs-string">]</span>

                <span class="hljs-comment"># specifies the allowed hosts, the attribute will be dropped if the URL</span>
                <span class="hljs-comment"># contains a different host</span>
                <span class="hljs-attr">allowed_media_hosts:</span> <span class="hljs-string">['symfony.com']</span>

                <span class="hljs-comment"># whether to allow relative URLs (i.e. URLs without scheme and host)</span>
                <span class="hljs-attr">allow_relative_medias:</span> <span class="hljs-literal">true</span></pre>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
        </div>
            <div role="tabpanel" id="configuration-block-tabpanel-cdebed3618de11149cc6461b62fa145062040c4c" aria-label="XML" class="configuration-codeblock" data-language="xml" style="display: none">
            <div translate="no" class="highlight-xml notranslate">
    <table class="highlighttable">
        <tbody>
            <tr>
                <td class="linenos">
                    <div class="linenodiv">
                        <pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30</pre>
                    </div>
                </td>
                <td class="code">
                    <div class="highlight">
                        <pre class="hljs xml"><span class="hljs-comment">&lt;!-- config/packages/html_sanitizer.xml --&gt;</span>
<span class="hljs-meta">&lt;?xml version="1.0" encoding="UTF-8" ?&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">container</span> <span class="hljs-attr">xmlns</span>=<span class="hljs-string">"http://symfony.com/schema/dic/services"</span>
    <span class="hljs-attr">xmlns:xsi</span>=<span class="hljs-string">"http://www.w3.org/2001/XMLSchema-instance"</span>
    <span class="hljs-attr">xmlns:framework</span>=<span class="hljs-string">"http://symfony.com/schema/dic/symfony"</span>
    <span class="hljs-attr">xsi:schemaLocation</span>=<span class="hljs-string">"http://symfony.com/schema/dic/services
        https://symfony.com/schema/dic/services/services-1.0.xsd
        http://symfony.com/schema/dic/symfony https://symfony.com/schema/dic/symfony/symfony-1.0.xsd"</span>&gt;</span>

    <span class="hljs-tag">&lt;<span class="hljs-name">framework:config</span>&gt;</span>
        <span class="hljs-comment">&lt;!-- force-https-urls: if `true`, all URLs will be forced using the `https://`
                               scheme (instead of e.g. `http://` or `data:`) --&gt;</span>
        <span class="hljs-comment">&lt;!-- allow-relative-medias: whether to allow relative URLs (i.e. URLs without
                                   scheme and host) --&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">framework:html-sanitizer</span>
            <span class="hljs-attr">force-https-urls</span>=<span class="hljs-string">"true"</span>
            <span class="hljs-attr">allow-relative-medias</span>=<span class="hljs-string">"true"</span>
        &gt;</span>
            <span class="hljs-comment">&lt;!-- specifies the allowed URL schemes. If the URL has a different scheme,
                 the attribute will be dropped --&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">allowed-media-scheme</span>&gt;</span>http<span class="hljs-tag">&lt;/<span class="hljs-name">allowed-media-scheme</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">allowed-media-scheme</span>&gt;</span>https<span class="hljs-tag">&lt;/<span class="hljs-name">allowed-media-scheme</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">allowed-media-scheme</span>&gt;</span>mailto<span class="hljs-tag">&lt;/<span class="hljs-name">allowed-media-scheme</span>&gt;</span>

            <span class="hljs-comment">&lt;!-- specifies the allowed hosts, the attribute will be dropped if the URL
                 contains a different host --&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">allowed-media-host</span>&gt;</span>symfony.com<span class="hljs-tag">&lt;/<span class="hljs-name">allowed-media-host</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">framework:html-sanitizer</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">framework:config</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">container</span>&gt;</span></pre>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
        </div>
            <div role="tabpanel" id="configuration-block-tabpanel-4e1bff05dc89f0c6e6ee94af616aa066be137534" aria-label="PHP" class="configuration-codeblock" data-language="php" style="display: none">
            <div translate="no" class="highlight-php notranslate">
    <table class="highlighttable">
        <tbody>
            <tr>
                <td class="linenos">
                    <div class="linenodiv">
                        <pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22</pre>
                    </div>
                </td>
                <td class="code">
                    <div class="highlight">
                        <pre class="hljs php"><span class="hljs-comment">// config/packages/framework.php</span>
<span class="hljs-keyword">use</span> <span class="hljs-title">Symfony</span>\<span class="hljs-title">Config</span>\<span class="hljs-title">FrameworkConfig</span>;

<span class="hljs-keyword">return</span> <span class="hljs-keyword">static</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(FrameworkConfig <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>framework</span>)</span> </span>{
    <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>framework</span><span class="hljs-operator">-&gt;</span>htmlSanitizer()
        <span class="hljs-operator">-&gt;</span>sanitizer(<span class="hljs-string">'app.post_sanitizer'</span>)
            <span class="hljs-comment">// if `true`, all URLs will be forced using the `https://` scheme (instead</span>
            <span class="hljs-comment">// of e.g. `http://` or `data:`)</span>
            <span class="hljs-operator">-&gt;</span>forceHttpsUrls(<span class="hljs-keyword">true</span>)

            <span class="hljs-comment">// specifies the allowed URL schemes. If the URL has a different scheme, the</span>
            <span class="hljs-comment">// attribute will be dropped</span>
            <span class="hljs-operator">-&gt;</span>allowedMediaSchemes([<span class="hljs-string">'http'</span>, <span class="hljs-string">'https'</span>, <span class="hljs-string">'mailto'</span>])

            <span class="hljs-comment">// specifies the allowed hosts, the attribute will be dropped if the URL</span>
            <span class="hljs-comment">// contains a different host</span>
            <span class="hljs-operator">-&gt;</span>allowedMediaHost(<span class="hljs-string">'symfony.com'</span>)

            <span class="hljs-comment">// whether to allow relative URLs (i.e. URLs without scheme and host)</span>
            <span class="hljs-operator">-&gt;</span>allowRelativeMedias(<span class="hljs-keyword">true</span>)
    ;
};</pre>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
        </div>
            <div role="tabpanel" id="configuration-block-tabpanel-f1ca7b731a1aea0973baa978daefe74e656242b9" aria-label="Standalone Use" class="configuration-codeblock" data-language="php-standalone" style="display: none">
            <div translate="no" class="highlight-php-standalone highlight-php notranslate">
    <table class="highlighttable">
        <tbody>
            <tr>
                <td class="linenos">
                    <div class="linenodiv">
                        <pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20</pre>
                    </div>
                </td>
                <td class="code">
                    <div class="highlight">
                        <pre class="hljs php-standalone php"><span class="hljs-keyword">use</span> <span class="hljs-title">Symfony</span>\<span class="hljs-title">Component</span>\<span class="hljs-title">HtmlSanitizer</span>\<span class="hljs-title">HtmlSanitizer</span>;
<span class="hljs-keyword">use</span> <span class="hljs-title">Symfony</span>\<span class="hljs-title">Component</span>\<span class="hljs-title">HtmlSanitizer</span>\<span class="hljs-title">HtmlSanitizerConfig</span>;

<span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>postSanitizer</span> = <span class="hljs-keyword">new</span> HtmlSanitizer(
    (<span class="hljs-keyword">new</span> HtmlSanitizerConfig())
        <span class="hljs-comment">// if `true`, all URLs will be forced using the `https://` scheme (instead</span>
        <span class="hljs-comment">// of e.g. `http://` or `data:`)</span>
        <span class="hljs-operator">-&gt;</span>forceHttpsUrls()

        <span class="hljs-comment">// specifies the allowed URL schemes. If the URL has a different scheme, the</span>
        <span class="hljs-comment">// attribute will be dropped</span>
        <span class="hljs-operator">-&gt;</span>allowedMediaSchemes([<span class="hljs-string">'http'</span>, <span class="hljs-string">'https'</span>, <span class="hljs-string">'mailto'</span>])

        <span class="hljs-comment">// specifies the allowed hosts, the attribute will be dropped if the URL</span>
        <span class="hljs-comment">// contains a different host</span>
        <span class="hljs-operator">-&gt;</span>allowedMediaHosts([<span class="hljs-string">'symfony.com'</span>])

        <span class="hljs-comment">// whether to allow relative URLs (i.e. URLs without scheme and host)</span>
        <span class="hljs-operator">-&gt;</span>allowRelativeMedias()
);</pre>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
        </div>
    </div>
</div>
<div class="section">
<h3 id="custom-attribute-sanitizers">
    Custom Attribute Sanitizers
    <a class="headerlink" href="#custom-attribute-sanitizers" title="Permalink to this headline">¶</a>
</h3>
<p>Controlling the link and media URLs is done by the
<a href="https://github.com/symfony/symfony/blob/5.4/src/Symfony/Component/HtmlSanitizer/Visitor/AttributeSanitizer/UrlAttributeSanitizer.php" class="reference external" title="Symfony\Component\HtmlSanitizer\Visitor\AttributeSanitizer\UrlAttributeSanitizer" rel="external noopener noreferrer" target="_blank">UrlAttributeSanitizer</a>.
You can also implement your own attribute sanitizer, to control the value
of other attributes in the HTML. Create a class implementing
<a href="https://github.com/symfony/symfony/blob/5.4/src/Symfony/Component/HtmlSanitizer/Visitor/AttributeSanitizer/AttributeSanitizerInterface.php" class="reference external" title="Symfony\Component\HtmlSanitizer\Visitor\AttributeSanitizer\AttributeSanitizerInterface" rel="external noopener noreferrer" target="_blank">AttributeSanitizerInterface</a>
and register it as a service. After this, use <code translate="no" class="notranslate">with_attribute_sanitizers</code>
to enable it for an HTML sanitizer:</p>
<div class="configuration-block">
    <div role="tablist" aria-label="Configuration formats" class="configuration-tabs configuration-tabs-length-4">
                    <button role="tab" type="button" data-language="yaml"
                aria-controls="configuration-block-tabpanel-391d5c1ae102cd8ad26fd297f2bab2104ec2fa7d" aria-selected="true"
                data-active="true" >
                <span>YAML</span>
            </button>
                    <button role="tab" type="button" data-language="xml"
                aria-controls="configuration-block-tabpanel-7c0dfff8bfc3c1ce9b250aad62aa06885af8090f" aria-selected="false"
                 tabindex="-1">
                <span>XML</span>
            </button>
                    <button role="tab" type="button" data-language="php"
                aria-controls="configuration-block-tabpanel-2e4e59db5726889caea22cb9c9c3b06ac073b926" aria-selected="false"
                 tabindex="-1">
                <span>PHP</span>
            </button>
                    <button role="tab" type="button" data-language="php-standalone"
                aria-controls="configuration-block-tabpanel-69365928635a35e3ae10e338cbde43d80d5abea0" aria-selected="false"
                 tabindex="-1">
                <span>Standalone Use</span>
            </button>
            </div>

            <div role="tabpanel" id="configuration-block-tabpanel-391d5c1ae102cd8ad26fd297f2bab2104ec2fa7d" aria-label="YAML" class="configuration-codeblock" data-language="yaml" style="">
            <div translate="no" class="highlight-yaml notranslate">
    <table class="highlighttable">
        <tbody>
            <tr>
                <td class="linenos">
                    <div class="linenodiv">
                        <pre>1
2
3
4
5
6
7
8
9
10
11
12</pre>
                    </div>
                </td>
                <td class="code">
                    <div class="highlight">
                        <pre class="hljs yaml"><span class="hljs-comment"># config/packages/html_sanitizer.yaml</span>
<span class="hljs-attr">framework:</span>
    <span class="hljs-attr">html_sanitizer:</span>
        <span class="hljs-attr">sanitizers:</span>
            <span class="hljs-attr">app.post_sanitizer:</span>
                <span class="hljs-comment"># ...</span>
                <span class="hljs-attr">with_attribute_sanitizers:</span>
                    <span class="hljs-bullet">-</span> <span class="hljs-string">App\Sanitizer\CustomAttributeSanitizer</span>

                <span class="hljs-comment"># you can also disable previously enabled custom attribute sanitizers</span>
                <span class="hljs-comment">#without_attribute_sanitizers:</span>
                <span class="hljs-comment">#    - App\Sanitizer\CustomAttributeSanitizer</span></pre>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
        </div>
            <div role="tabpanel" id="configuration-block-tabpanel-7c0dfff8bfc3c1ce9b250aad62aa06885af8090f" aria-label="XML" class="configuration-codeblock" data-language="xml" style="display: none">
            <div translate="no" class="highlight-xml notranslate">
    <table class="highlighttable">
        <tbody>
            <tr>
                <td class="linenos">
                    <div class="linenodiv">
                        <pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18</pre>
                    </div>
                </td>
                <td class="code">
                    <div class="highlight">
                        <pre class="hljs xml"><span class="hljs-comment">&lt;!-- config/packages/html_sanitizer.xml --&gt;</span>
<span class="hljs-meta">&lt;?xml version="1.0" encoding="UTF-8" ?&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">container</span> <span class="hljs-attr">xmlns</span>=<span class="hljs-string">"http://symfony.com/schema/dic/services"</span>
    <span class="hljs-attr">xmlns:xsi</span>=<span class="hljs-string">"http://www.w3.org/2001/XMLSchema-instance"</span>
    <span class="hljs-attr">xmlns:framework</span>=<span class="hljs-string">"http://symfony.com/schema/dic/symfony"</span>
    <span class="hljs-attr">xsi:schemaLocation</span>=<span class="hljs-string">"http://symfony.com/schema/dic/services
        https://symfony.com/schema/dic/services/services-1.0.xsd
        http://symfony.com/schema/dic/symfony https://symfony.com/schema/dic/symfony/symfony-1.0.xsd"</span>&gt;</span>

    <span class="hljs-tag">&lt;<span class="hljs-name">framework:config</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">framework:html-sanitizer</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">with-attribute-sanitizer</span>&gt;</span>App\Sanitizer\CustomAttributeSanitizer<span class="hljs-tag">&lt;/<span class="hljs-name">with-attribute-sanitizer</span>&gt;</span>

            <span class="hljs-comment">&lt;!-- you can also disable previously enabled attribute sanitizers --&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">without-attribute-sanitizer</span>&gt;</span>Symfony\Component\HtmlSanitizer\Visitor\AttributeSanitizer\UrlAttributeSanitizer<span class="hljs-tag">&lt;/<span class="hljs-name">without-attribute-sanitizer</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">framework:html-sanitizer</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">framework:config</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">container</span>&gt;</span></pre>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
        </div>
            <div role="tabpanel" id="configuration-block-tabpanel-2e4e59db5726889caea22cb9c9c3b06ac073b926" aria-label="PHP" class="configuration-codeblock" data-language="php" style="display: none">
            <div translate="no" class="highlight-php notranslate">
    <table class="highlighttable">
        <tbody>
            <tr>
                <td class="linenos">
                    <div class="linenodiv">
                        <pre>1
2
3
4
5
6
7
8
9
10
11
12
13</pre>
                    </div>
                </td>
                <td class="code">
                    <div class="highlight">
                        <pre class="hljs php"><span class="hljs-comment">// config/packages/framework.php</span>
<span class="hljs-keyword">use</span> <span class="hljs-title">App</span>\<span class="hljs-title">Sanitizer</span>\<span class="hljs-title">CustomAttributeSanitizer</span>;
<span class="hljs-keyword">use</span> <span class="hljs-title">Symfony</span>\<span class="hljs-title">Config</span>\<span class="hljs-title">FrameworkConfig</span>;

<span class="hljs-keyword">return</span> <span class="hljs-keyword">static</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(FrameworkConfig <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>framework</span>)</span> </span>{
    <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>framework</span><span class="hljs-operator">-&gt;</span>htmlSanitizer()
        <span class="hljs-operator">-&gt;</span>sanitizer(<span class="hljs-string">'app.post_sanitizer'</span>)
            <span class="hljs-operator">-&gt;</span>withAttributeSanitizer(CustomAttributeSanitizer<span class="hljs-operator">::</span>class)

            <span class="hljs-comment">// you can also disable previously enabled attribute sanitizers</span>
            <span class="hljs-comment">//-&gt;withoutAttributeSanitizer(CustomAttributeSanitizer::class)</span>
    ;
};</pre>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
        </div>
            <div role="tabpanel" id="configuration-block-tabpanel-69365928635a35e3ae10e338cbde43d80d5abea0" aria-label="Standalone Use" class="configuration-codeblock" data-language="php-standalone" style="display: none">
            <div translate="no" class="highlight-php-standalone highlight-php notranslate">
    <table class="highlighttable">
        <tbody>
            <tr>
                <td class="linenos">
                    <div class="linenodiv">
                        <pre>1
2
3
4
5
6
7
8
9
10
11
12</pre>
                    </div>
                </td>
                <td class="code">
                    <div class="highlight">
                        <pre class="hljs php-standalone php"><span class="hljs-keyword">use</span> <span class="hljs-title">App</span>\<span class="hljs-title">Sanitizer</span>\<span class="hljs-title">CustomAttributeSanitizer</span>;
<span class="hljs-keyword">use</span> <span class="hljs-title">Symfony</span>\<span class="hljs-title">Component</span>\<span class="hljs-title">HtmlSanitizer</span>\<span class="hljs-title">HtmlSanitizer</span>;
<span class="hljs-keyword">use</span> <span class="hljs-title">Symfony</span>\<span class="hljs-title">Component</span>\<span class="hljs-title">HtmlSanitizer</span>\<span class="hljs-title">HtmlSanitizerConfig</span>;

<span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>customAttributeSanitizer</span> = <span class="hljs-keyword">new</span> CustomAttributeSanitizer();
<span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>postSanitizer</span> = <span class="hljs-keyword">new</span> HtmlSanitizer(
    (<span class="hljs-keyword">new</span> HtmlSanitizerConfig())
        <span class="hljs-operator">-&gt;</span>withAttributeSanitizer(<span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>customAttributeSanitizer</span>)

        <span class="hljs-comment">// you can also disable previously enabled attribute sanitizers</span>
        <span class="hljs-comment">//-&gt;withoutAttributeSanitizer($customAttributeSanitizer)</span>
);</pre>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
        </div>
    </div>
</div>
</div>
</div>

                            </div>                    </div>
                                    </div>        </div>

    </section>

</div>


<script type="text/javascript" src="assets/js/theme.js"></script>
<script type="text/javascript" src="assets/js/badge_only.js"></script>

 
</body>
</html>