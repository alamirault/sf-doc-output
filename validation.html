        
<!DOCTYPE html>
<!--[if IE 8]>
<html class="no-js lt-ie9" lang="en"> <![endif]-->
<!--[if gt IE 8]><!-->
<html class="no-js" lang="en"> <!--<![endif]-->
<head><base href="/">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
            
                                
    
    <link rel="stylesheet" href="assets/css/theme.css" type="text/css" />
    <link rel="stylesheet" href="assets/css/highlightjs.css" type="text/css" />
    <link rel="stylesheet" href="assets/css/badge_only.css" type="text/css" />

</head>

<body class="wy-body-for-nav">
 <div class="wy-grid-for-nav">

        <nav data-toggle="wy-nav-shift" class="wy-nav-side">
        <div class="wy-side-scroll">
            <div class="wy-side-nav-search">
                
                                                                                                    
                                                                                                                                                                        </div>

            <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
                                                                                                                                                                                                                                                                                                                            </div>
        </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

                                                        

        <div class="wy-nav-content">                <div class="rst-content">
                                        <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">                            <div itemprop="articleBody">
                                    <div class="section">
<h1 id="validation">
    Validation
    <a class="headerlink" href="#validation" title="Permalink to this headline">¶</a>
</h1>
<p>Validation is a very common task in web applications. Data entered in forms
needs to be validated. Data also needs to be validated before it is written
into a database or passed to a web service.</p>
<p>Symfony provides a <a href="https://github.com/symfony/validator" class="reference external" rel="external noopener noreferrer" target="_blank">Validator</a> component to handle this for you. This
component is based on the <a href="https://jcp.org/en/jsr/detail?id=303" class="reference external" rel="external noopener noreferrer" target="_blank">JSR303 Bean Validation specification</a>.</p>
<div class="section">
<h2 id="installation">
    Installation
    <a class="headerlink" href="#installation" title="Permalink to this headline">¶</a>
</h2>
<p>In applications using <a href="setup.html#symfony-flex" class="reference internal">Symfony Flex</a>, run this command to
install the validator before using it:</p>
<div translate="no" class="highlight-terminal highlight-bash notranslate">
    <table class="highlighttable">
        <tbody>
            <tr>
                <td class="linenos">
                    <div class="linenodiv">
                        <pre>1</pre>
                    </div>
                </td>
                <td class="code">
                    <div class="highlight">
                        <pre class="hljs terminal bash"><span class="hljs-prompt">$ </span>composer require symfony/validator</pre>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
<div class="admonition admonition-note ">
    <p class="admonition-title">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" width="24" height="24" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z" /></svg>
                <span>Note</span>
    </p><p>If your application doesn't use Symfony Flex, you might need to do some
manual configuration to enable validation. Check out the
<a href="reference/configuration/framework.html#reference-validation" class="reference internal">Validation configuration reference</a>.</p>
</div>
</div>
<div class="section">
<h2 id="the-basics-of-validation">
    The Basics of Validation
    <a class="headerlink" href="#the-basics-of-validation" title="Permalink to this headline">¶</a>
</h2>
<p>The best way to understand validation is to see it in action. To start, suppose
you've created a plain-old-PHP object that you need to use somewhere in
your application:</p>
<div translate="no" class="highlight-php notranslate">
    <table class="highlighttable">
        <tbody>
            <tr>
                <td class="linenos">
                    <div class="linenodiv">
                        <pre>1
2
3
4
5
6
7</pre>
                    </div>
                </td>
                <td class="code">
                    <div class="highlight">
                        <pre class="hljs php"><span class="hljs-comment">// src/Entity/Author.php</span>
<span class="hljs-keyword">namespace</span> <span class="hljs-title">App</span>\<span class="hljs-title">Entity</span>;

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Author</span>
</span>{
    <span class="hljs-keyword">private</span> <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>name</span>;
}</pre>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
<p>So far, this is an ordinary class that serves some purpose inside your
application. The goal of validation is to tell you if the data of an object is
valid. For this to work, you'll configure a list of rules (called
<a href="validation.html#validation-constraints" class="reference internal">constraints</a>) that the object must follow in
order to be valid. These rules are usually defined using PHP code or
attributes but they can also be defined as <code translate="no" class="notranslate">.yaml</code> or <code translate="no" class="notranslate">.xml</code> files inside
the <code translate="no" class="notranslate">config/validator/</code> directory:</p>
<p>For example, to indicate that the <code translate="no" class="notranslate">$name</code> property must not be empty, add the
following:</p>
<div class="configuration-block">
    <div role="tablist" aria-label="Configuration formats" class="configuration-tabs configuration-tabs-length-4">
                    <button role="tab" type="button" data-language="php-attributes"
                aria-controls="configuration-block-tabpanel-787d161988834abf99cc8654fb60669b3bee2a05" aria-selected="true"
                data-active="true" >
                <span>Attributes</span>
            </button>
                    <button role="tab" type="button" data-language="yaml"
                aria-controls="configuration-block-tabpanel-6c8da04cdfa7691621402c0b9a6e474dbd4e8492" aria-selected="false"
                 tabindex="-1">
                <span>YAML</span>
            </button>
                    <button role="tab" type="button" data-language="xml"
                aria-controls="configuration-block-tabpanel-cbb14e5afe0bbb68d49cd8c0c12d79075b4e8371" aria-selected="false"
                 tabindex="-1">
                <span>XML</span>
            </button>
                    <button role="tab" type="button" data-language="php"
                aria-controls="configuration-block-tabpanel-6be94895afed69fe8b73bef07c163b13ac86df93" aria-selected="false"
                 tabindex="-1">
                <span>PHP</span>
            </button>
            </div>

            <div role="tabpanel" id="configuration-block-tabpanel-787d161988834abf99cc8654fb60669b3bee2a05" aria-label="Attributes" class="configuration-codeblock" data-language="php-attributes" style="">
            <div translate="no" class="highlight-php-attributes highlight-php notranslate">
    <table class="highlighttable">
        <tbody>
            <tr>
                <td class="linenos">
                    <div class="linenodiv">
                        <pre>1
2
3
4
5
6
7
8
9
10
11</pre>
                    </div>
                </td>
                <td class="code">
                    <div class="highlight">
                        <pre class="hljs php-attributes php"><span class="hljs-comment">// src/Entity/Author.php</span>
<span class="hljs-keyword">namespace</span> <span class="hljs-title">App</span>\<span class="hljs-title">Entity</span>;

<span class="hljs-comment">// ...</span>
<span class="hljs-keyword">use</span> <span class="hljs-title">Symfony</span>\<span class="hljs-title">Component</span>\<span class="hljs-title">Validator</span>\<span class="hljs-title">Constraints</span> <span class="hljs-title">as</span> <span class="hljs-title">Assert</span>;

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Author</span>
</span>{
    <span class="hljs-comment">#[Assert\NotBlank]</span>
    <span class="hljs-keyword">private</span> <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>name</span>;
}</pre>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
        </div>
            <div role="tabpanel" id="configuration-block-tabpanel-6c8da04cdfa7691621402c0b9a6e474dbd4e8492" aria-label="YAML" class="configuration-codeblock" data-language="yaml" style="display: none">
            <div translate="no" class="highlight-yaml notranslate">
    <table class="highlighttable">
        <tbody>
            <tr>
                <td class="linenos">
                    <div class="linenodiv">
                        <pre>1
2
3
4
5</pre>
                    </div>
                </td>
                <td class="code">
                    <div class="highlight">
                        <pre class="hljs yaml"><span class="hljs-comment"># config/validator/validation.yaml</span>
<span class="hljs-string">App\Entity\Author:</span>
    <span class="hljs-attr">properties:</span>
        <span class="hljs-attr">name:</span>
            <span class="hljs-bullet">-</span> <span class="hljs-attr">NotBlank:</span> <span class="hljs-string">~</span></pre>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
        </div>
            <div role="tabpanel" id="configuration-block-tabpanel-cbb14e5afe0bbb68d49cd8c0c12d79075b4e8371" aria-label="XML" class="configuration-codeblock" data-language="xml" style="display: none">
            <div translate="no" class="highlight-xml notranslate">
    <table class="highlighttable">
        <tbody>
            <tr>
                <td class="linenos">
                    <div class="linenodiv">
                        <pre>1
2
3
4
5
6
7
8
9
10
11
12
13</pre>
                    </div>
                </td>
                <td class="code">
                    <div class="highlight">
                        <pre class="hljs xml"><span class="hljs-comment">&lt;!-- config/validator/validation.xml --&gt;</span>
<span class="hljs-meta">&lt;?xml version="1.0" encoding="UTF-8" ?&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">constraint-mapping</span> <span class="hljs-attr">xmlns</span>=<span class="hljs-string">"http://symfony.com/schema/dic/constraint-mapping"</span>
    <span class="hljs-attr">xmlns:xsi</span>=<span class="hljs-string">"http://www.w3.org/2001/XMLSchema-instance"</span>
    <span class="hljs-attr">xsi:schemaLocation</span>=<span class="hljs-string">"http://symfony.com/schema/dic/constraint-mapping
        https://symfony.com/schema/dic/constraint-mapping/constraint-mapping-1.0.xsd"</span>&gt;</span>

    <span class="hljs-tag">&lt;<span class="hljs-name">class</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"App\Entity\Author"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"name"</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">constraint</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"NotBlank"</span>/&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">class</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">constraint-mapping</span>&gt;</span></pre>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
        </div>
            <div role="tabpanel" id="configuration-block-tabpanel-6be94895afed69fe8b73bef07c163b13ac86df93" aria-label="PHP" class="configuration-codeblock" data-language="php" style="display: none">
            <div translate="no" class="highlight-php notranslate">
    <table class="highlighttable">
        <tbody>
            <tr>
                <td class="linenos">
                    <div class="linenodiv">
                        <pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15</pre>
                    </div>
                </td>
                <td class="code">
                    <div class="highlight">
                        <pre class="hljs php"><span class="hljs-comment">// src/Entity/Author.php</span>
<span class="hljs-keyword">namespace</span> <span class="hljs-title">App</span>\<span class="hljs-title">Entity</span>;
<span class="hljs-comment">// ...</span>
<span class="hljs-keyword">use</span> <span class="hljs-title">Symfony</span>\<span class="hljs-title">Component</span>\<span class="hljs-title">Validator</span>\<span class="hljs-title">Constraints</span>\<span class="hljs-title">NotBlank</span>;
<span class="hljs-keyword">use</span> <span class="hljs-title">Symfony</span>\<span class="hljs-title">Component</span>\<span class="hljs-title">Validator</span>\<span class="hljs-title">Mapping</span>\<span class="hljs-title">ClassMetadata</span>;

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Author</span>
</span>{
    <span class="hljs-keyword">private</span> <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>name</span>;

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">loadValidatorMetadata</span><span class="hljs-params">(ClassMetadata <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>metadata</span>)</span>
    </span>{
        <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>metadata</span><span class="hljs-operator">-&gt;</span>addPropertyConstraint(<span class="hljs-string">'name'</span>, <span class="hljs-keyword">new</span> NotBlank());
    }
}</pre>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
        </div>
    </div>
<p>Adding this configuration by itself does not yet guarantee that the value will
not be blank; you can still set it to a blank value if you want.
To actually guarantee that the value adheres to the constraint, the object must
be passed to the validator service to be checked.</p>
<div class="admonition admonition-tip ">
    <p class="admonition-title">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" width="24" height="24" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z" /></svg>
                <span>Tip</span>
    </p><p>Symfony's validator uses PHP reflection, as well as <em>&quot;getter&quot;</em> methods, to
get the value of any property, so they can be public, private or protected
(see <a href="validation.html#validator-constraint-targets" class="reference internal">Validation</a>).</p>
</div>
<div class="section">
<h3 id="using-the-validator-service">
    Using the Validator Service
    <a class="headerlink" href="#using-the-validator-service" title="Permalink to this headline">¶</a>
</h3>
<p>Next, to actually validate an <code translate="no" class="notranslate">Author</code> object, use the <code translate="no" class="notranslate">validate()</code> method
on the <code translate="no" class="notranslate">validator</code> service (which implements <a href="https://github.com/symfony/symfony/blob/5.4/src/Symfony/Component/Validator/Validator/ValidatorInterface.php" class="reference external" title="Symfony\Component\Validator\Validator\ValidatorInterface" rel="external noopener noreferrer" target="_blank">ValidatorInterface</a>).
The job of the <code translate="no" class="notranslate">validator</code> is to read the constraints (i.e. rules)
of a class and verify if the data on the object satisfies those
constraints. If validation fails, a non-empty list of errors
(<a href="https://github.com/symfony/symfony/blob/5.4/src/Symfony/Component/Validator/ConstraintViolationList.php" class="reference external" title="Symfony\Component\Validator\ConstraintViolationList" rel="external noopener noreferrer" target="_blank">ConstraintViolationList</a> class) is
returned. Take this simple example from inside a controller:</p>
<div translate="no" class="highlight-php notranslate">
    <table class="highlighttable">
        <tbody>
            <tr>
                <td class="linenos">
                    <div class="linenodiv">
                        <pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27</pre>
                    </div>
                </td>
                <td class="code">
                    <div class="highlight">
                        <pre class="hljs php"><span class="hljs-comment">// ...</span>
<span class="hljs-keyword">use</span> <span class="hljs-title">App</span>\<span class="hljs-title">Entity</span>\<span class="hljs-title">Author</span>;
<span class="hljs-keyword">use</span> <span class="hljs-title">Symfony</span>\<span class="hljs-title">Component</span>\<span class="hljs-title">HttpFoundation</span>\<span class="hljs-title">Response</span>;
<span class="hljs-keyword">use</span> <span class="hljs-title">Symfony</span>\<span class="hljs-title">Component</span>\<span class="hljs-title">Validator</span>\<span class="hljs-title">Validator</span>\<span class="hljs-title">ValidatorInterface</span>;

<span class="hljs-comment">// ...</span>
<span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">author</span><span class="hljs-params">(ValidatorInterface <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>validator</span>)</span>
</span>{
    <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>author</span> = <span class="hljs-keyword">new</span> Author();

    <span class="hljs-comment">// ... do something to the $author object</span>

    <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>errors</span> = <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>validator</span><span class="hljs-operator">-&gt;</span>validate(<span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>author</span>);

    <span class="hljs-keyword">if</span> (count(<span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>errors</span>) &gt; <span class="hljs-number">0</span>) {
        <span class="hljs-comment">/*
         * Uses a __toString method on the $errors variable which is a
         * ConstraintViolationList object. This gives us a nice string
         * for debugging.
         */</span>
        <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>errorsString</span> = (string) <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>errors</span>;

        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> Response(<span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>errorsString</span>);
    }

    <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> Response(<span class="hljs-string">'The author is valid! Yes!'</span>);
}</pre>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
<p>If the <code translate="no" class="notranslate">$name</code> property is empty, you will see the following error
message:</p>
<div translate="no" class="highlight-text notranslate">
    <table class="highlighttable">
        <tbody>
            <tr>
                <td class="linenos">
                    <div class="linenodiv">
                        <pre>1
2</pre>
                    </div>
                </td>
                <td class="code">
                    <div class="highlight">
                        <pre class="hljs text">Object(App\Entity\Author).name:
    This value should not be blank.</pre>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
<p>If you insert a value into the <code translate="no" class="notranslate">name</code> property, the happy success message
will appear.</p>
<div class="admonition admonition-tip ">
    <p class="admonition-title">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" width="24" height="24" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z" /></svg>
                <span>Tip</span>
    </p><p>Most of the time, you won't interact directly with the <code translate="no" class="notranslate">validator</code>
service or need to worry about printing out the errors. Most of the time,
you'll use validation indirectly when handling submitted form data. For
more information, see <a href="forms.html#validating-forms" class="reference internal">how to validate Symfony forms</a>.</p>
</div>
<p>You could also pass the collection of errors into a template:</p>
<div translate="no" class="highlight-php notranslate">
    <table class="highlighttable">
        <tbody>
            <tr>
                <td class="linenos">
                    <div class="linenodiv">
                        <pre>1
2
3
4
5</pre>
                    </div>
                </td>
                <td class="code">
                    <div class="highlight">
                        <pre class="hljs php"><span class="hljs-keyword">if</span> (count(<span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>errors</span>) &gt; <span class="hljs-number">0</span>) {
    <span class="hljs-keyword">return</span> <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>this</span><span class="hljs-operator">-&gt;</span>render(<span class="hljs-string">'author/validation.html.twig'</span>, [
        <span class="hljs-string">'errors'</span> =&gt; <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>errors</span>,
    ]);
}</pre>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
<p>Inside the template, you can output the list of errors exactly as needed:</p>
<div translate="no" class="highlight-html+twig highlight-twig notranslate">
    <table class="highlighttable">
        <tbody>
            <tr>
                <td class="linenos">
                    <div class="linenodiv">
                        <pre>1
2
3
4
5
6
7</pre>
                    </div>
                </td>
                <td class="code">
                    <div class="highlight">
                        <pre class="hljs html+twig twig"><span class="hljs-comment">{# templates/author/validation.html.twig #}</span><span class="xml">
<span class="hljs-tag">&lt;<span class="hljs-name">h3</span>&gt;</span>The author has the following errors<span class="hljs-tag">&lt;/<span class="hljs-name">h3</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">ul</span>&gt;</span>
</span><span class="hljs-template-tag">{% <span class="hljs-name"><span class="hljs-keyword">for</span></span> error in errors %}</span><span class="xml">
    <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span></span><span class="hljs-template-variable">{{ error.message }}</span><span class="xml"><span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span>
</span><span class="hljs-template-tag">{% <span class="hljs-name"><span class="hljs-keyword">endfor</span></span> %}</span><span class="xml">
<span class="hljs-tag">&lt;/<span class="hljs-name">ul</span>&gt;</span></span></pre>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
<div class="admonition admonition-note ">
    <p class="admonition-title">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" width="24" height="24" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z" /></svg>
                <span>Note</span>
    </p><p>Each validation error (called a &quot;constraint violation&quot;), is represented by
a <a href="https://github.com/symfony/symfony/blob/5.4/src/Symfony/Component/Validator/ConstraintViolation.php" class="reference external" title="Symfony\Component\Validator\ConstraintViolation" rel="external noopener noreferrer" target="_blank">ConstraintViolation</a> object. This
object allows you, among other things, to get the constraint that caused this
violation thanks to the <code translate="no" class="notranslate">ConstraintViolation::getConstraint()</code> method.</p>
</div>
<div class="admonition admonition-versionadded ">
    <p class="admonition-title">
                                    <span>6.3</span>
    </p><p>The <code translate="no" class="notranslate">ConstraintViolation::getConstraint()</code> method was introduced in Symfony 6.3.</p>
</div>
</div>
<div class="section">
<h3 id="validation-callables">
    Validation Callables
    <a class="headerlink" href="#validation-callables" title="Permalink to this headline">¶</a>
</h3>
<p>The <code translate="no" class="notranslate">Validation</code> also allows you to create a closure to validate values
against a set of constraints (useful for example when
<a href="components/console/helpers/questionhelper.html#console-validate-question-answer" class="reference internal">validating Console command answers</a> or
when <a href="components/options_resolver.html#optionsresolver-validate-value" class="reference internal">validating OptionsResolver values</a>):</p>
<dl>
                        <dt><a href="https://github.com/symfony/symfony/blob/5.4/src/Symfony/Component/Validator/Validation.php#method_createCallable" class="reference external" title="Symfony\Component\Validator\Validation::createCallable()" rel="external noopener noreferrer" target="_blank">createCallable()</a></dt>
        
        <dd>
                            This returns a closure that throws <code translate="no" class="notranslate">ValidationFailedException</code> when the
constraints aren't matched.
                    </dd>
                        <dt><a href="https://github.com/symfony/symfony/blob/5.4/src/Symfony/Component/Validator/Validation.php#method_createIsValidCallable" class="reference external" title="Symfony\Component\Validator\Validation::createIsValidCallable()" rel="external noopener noreferrer" target="_blank">createIsValidCallable()</a></dt>
        
        <dd>
                            This returns a closure that returns <code translate="no" class="notranslate">false</code> when the constraints aren't matched.
                    </dd>
                        <dt>.. index::</dt>
        
        <dd>
                            single: Validation; Constraints
                    </dd>
    </dl>
<span id="validation-constraints"></span>
</div>
</div>
<div class="section">
<h2 id="constraints">
    Constraints
    <a class="headerlink" href="#constraints" title="Permalink to this headline">¶</a>
</h2>
<p>The <code translate="no" class="notranslate">validator</code> is designed to validate objects against <em>constraints</em> (i.e.
rules). In order to validate an object, simply map one or more constraints
to its class and then pass it to the <code translate="no" class="notranslate">validator</code> service.</p>
<p>Behind the scenes, a constraint is simply a PHP object that makes an assertive
statement. In real life, a constraint could be: <code translate="no" class="notranslate">&#039;The cake must not be burned&#039;</code>.
In Symfony, constraints are similar: they are assertions that a condition
is true. Given a value, a constraint will tell you if that value
adheres to the rules of the constraint.</p>
<div class="section">
<h3 id="supported-constraints">
    Supported Constraints
    <a class="headerlink" href="#supported-constraints" title="Permalink to this headline">¶</a>
</h3>
<p>Symfony packages many of the most commonly-needed constraints:</p>
</div>
<div class="section">
<h3 id="basic-constraints">
    Basic Constraints
    <a class="headerlink" href="#basic-constraints" title="Permalink to this headline">¶</a>
</h3>
<p>These are the basic constraints: use them to assert very basic things about
the value of properties or the return value of methods on your object.</p>
<ul>
    <li><a href="reference/constraints/NotBlank.html" class="reference internal">NotBlank</a></li>
<li><a href="reference/constraints/Blank.html" class="reference internal">Blank</a></li>
<li><a href="reference/constraints/NotNull.html" class="reference internal">NotNull</a></li>
<li><a href="reference/constraints/IsNull.html" class="reference internal">IsNull</a></li>
<li><a href="reference/constraints/IsTrue.html" class="reference internal">IsTrue</a></li>
<li><a href="reference/constraints/IsFalse.html" class="reference internal">IsFalse</a></li>
<li><a href="reference/constraints/Type.html" class="reference internal">Type</a></li>
</ul>
</div>
<div class="section">
<h3 id="string-constraints">
    String Constraints
    <a class="headerlink" href="#string-constraints" title="Permalink to this headline">¶</a>
</h3>
<ul>
    <li><a href="reference/constraints/Email.html" class="reference internal">Email</a></li>
<li><a href="reference/constraints/ExpressionSyntax.html" class="reference internal">ExpressionSyntax</a></li>
<li><a href="reference/constraints/Length.html" class="reference internal">Length</a></li>
<li><a href="reference/constraints/Url.html" class="reference internal">Url</a></li>
<li><a href="reference/constraints/Regex.html" class="reference internal">Regex</a></li>
<li><a href="reference/constraints/Hostname.html" class="reference internal">Hostname</a></li>
<li><a href="reference/constraints/Ip.html" class="reference internal">Ip</a></li>
<li><a href="reference/constraints/Cidr.html" class="reference internal">Cidr</a></li>
<li><a href="reference/constraints/Json.html" class="reference internal">Json</a></li>
<li><a href="reference/constraints/Uuid.html" class="reference internal">Uuid</a></li>
<li><a href="reference/constraints/Ulid.html" class="reference internal">Ulid</a></li>
<li><a href="reference/constraints/UserPassword.html" class="reference internal">UserPassword</a></li>
<li><a href="reference/constraints/NotCompromisedPassword.html" class="reference internal">NotCompromisedPassword</a></li>
<li><a href="reference/constraints/CssColor.html" class="reference internal">CssColor</a></li>
<li><a href="reference/constraints/NoSuspiciousCharacters.html" class="reference internal">NoSuspiciousCharacters</a></li>
</ul>
</div>
<div class="section">
<h3 id="comparison-constraints">
    Comparison Constraints
    <a class="headerlink" href="#comparison-constraints" title="Permalink to this headline">¶</a>
</h3>
<ul>
    <li><a href="reference/constraints/EqualTo.html" class="reference internal">EqualTo</a></li>
<li><a href="reference/constraints/NotEqualTo.html" class="reference internal">NotEqualTo</a></li>
<li><a href="reference/constraints/IdenticalTo.html" class="reference internal">IdenticalTo</a></li>
<li><a href="reference/constraints/NotIdenticalTo.html" class="reference internal">NotIdenticalTo</a></li>
<li><a href="reference/constraints/LessThan.html" class="reference internal">LessThan</a></li>
<li><a href="reference/constraints/LessThanOrEqual.html" class="reference internal">LessThanOrEqual</a></li>
<li><a href="reference/constraints/GreaterThan.html" class="reference internal">GreaterThan</a></li>
<li><a href="reference/constraints/GreaterThanOrEqual.html" class="reference internal">GreaterThanOrEqual</a></li>
<li><a href="reference/constraints/Range.html" class="reference internal">Range</a></li>
<li><a href="reference/constraints/DivisibleBy.html" class="reference internal">DivisibleBy</a></li>
<li><a href="reference/constraints/Unique.html" class="reference internal">Unique</a></li>
</ul>
</div>
<div class="section">
<h3 id="number-constraints">
    Number Constraints
    <a class="headerlink" href="#number-constraints" title="Permalink to this headline">¶</a>
</h3>
<ul>
    <li><a href="reference/constraints/Positive.html" class="reference internal">Positive</a></li>
<li><a href="reference/constraints/PositiveOrZero.html" class="reference internal">PositiveOrZero</a></li>
<li><a href="reference/constraints/Negative.html" class="reference internal">Negative</a></li>
<li><a href="reference/constraints/NegativeOrZero.html" class="reference internal">NegativeOrZero</a></li>
</ul>
</div>
<div class="section">
<h3 id="date-constraints">
    Date Constraints
    <a class="headerlink" href="#date-constraints" title="Permalink to this headline">¶</a>
</h3>
<ul>
    <li><a href="reference/constraints/Date.html" class="reference internal">Date</a></li>
<li><a href="reference/constraints/DateTime.html" class="reference internal">DateTime</a></li>
<li><a href="reference/constraints/Time.html" class="reference internal">Time</a></li>
<li><a href="reference/constraints/Timezone.html" class="reference internal">Timezone</a></li>
</ul>
</div>
<div class="section">
<h3 id="choice-constraints">
    Choice Constraints
    <a class="headerlink" href="#choice-constraints" title="Permalink to this headline">¶</a>
</h3>
<ul>
    <li><a href="reference/constraints/Choice.html" class="reference internal">Choice</a></li>
<li><a href="reference/constraints/Language.html" class="reference internal">Language</a></li>
<li><a href="reference/constraints/Locale.html" class="reference internal">Locale</a></li>
<li><a href="reference/constraints/Country.html" class="reference internal">Country</a></li>
</ul>
</div>
<div class="section">
<h3 id="file-constraints">
    File Constraints
    <a class="headerlink" href="#file-constraints" title="Permalink to this headline">¶</a>
</h3>
<ul>
    <li><a href="reference/constraints/File.html" class="reference internal">File</a></li>
<li><a href="reference/constraints/Image.html" class="reference internal">Image</a></li>
</ul>
</div>
<div class="section">
<h3 id="financial-and-other-number-constraints">
    Financial and other Number Constraints
    <a class="headerlink" href="#financial-and-other-number-constraints" title="Permalink to this headline">¶</a>
</h3>
<ul>
    <li><a href="reference/constraints/Bic.html" class="reference internal">Bic</a></li>
<li><a href="reference/constraints/CardScheme.html" class="reference internal">CardScheme</a></li>
<li><a href="reference/constraints/Currency.html" class="reference internal">Currency</a></li>
<li><a href="reference/constraints/Luhn.html" class="reference internal">Luhn</a></li>
<li><a href="reference/constraints/Iban.html" class="reference internal">Iban</a></li>
<li><a href="reference/constraints/Isbn.html" class="reference internal">Isbn</a></li>
<li><a href="reference/constraints/Issn.html" class="reference internal">Issn</a></li>
<li><a href="reference/constraints/Isin.html" class="reference internal">Isin</a></li>
</ul>
</div>
<div class="section">
<h3 id="other-constraints">
    Other Constraints
    <a class="headerlink" href="#other-constraints" title="Permalink to this headline">¶</a>
</h3>
<ul>
    <li><a href="reference/constraints/AtLeastOneOf.html" class="reference internal">AtLeastOneOf</a></li>
<li><a href="reference/constraints/Sequentially.html" class="reference internal">Sequentially</a></li>
<li><a href="reference/constraints/Compound.html" class="reference internal">Compound</a></li>
<li><a href="reference/constraints/Callback.html" class="reference internal">Callback</a></li>
<li><a href="reference/constraints/Expression.html" class="reference internal">Expression</a></li>
<li><a href="reference/constraints/When.html" class="reference internal">When</a></li>
<li><a href="reference/constraints/All.html" class="reference internal">All</a></li>
<li><a href="reference/constraints/Valid.html" class="reference internal">Valid</a></li>
<li><a href="reference/constraints/Cascade.html" class="reference internal">Cascade</a></li>
<li><a href="reference/constraints/Traverse.html" class="reference internal">Traverse</a></li>
<li><a href="reference/constraints/Collection.html" class="reference internal">Collection</a></li>
<li><a href="reference/constraints/Count.html" class="reference internal">Count</a></li>
<li><a href="reference/constraints/UniqueEntity.html" class="reference internal">UniqueEntity</a></li>
</ul>
<p>You can also create your own custom constraints. This topic is covered in
the <a href="validation/custom_constraint.html" class="reference internal">How to Create a Custom Validation Constraint</a> article.</p>
<span id="validation-constraint-configuration"></span>
</div>
<div class="section">
<h3 id="constraint-configuration">
    Constraint Configuration
    <a class="headerlink" href="#constraint-configuration" title="Permalink to this headline">¶</a>
</h3>
<p>Some constraints, like <a href="reference/constraints/NotBlank.html" class="reference internal">NotBlank</a>,
are simple whereas others, like the <a href="reference/constraints/Choice.html" class="reference internal">Choice</a>
constraint, have several configuration options available. Suppose that the
<code translate="no" class="notranslate">Author</code> class has another property called <code translate="no" class="notranslate">genre</code> that defines the
literature genre mostly associated with the author, which can be set to either
&quot;fiction&quot; or &quot;non-fiction&quot;:</p>
<div class="configuration-block">
    <div role="tablist" aria-label="Configuration formats" class="configuration-tabs configuration-tabs-length-4">
                    <button role="tab" type="button" data-language="php-attributes"
                aria-controls="configuration-block-tabpanel-d5db6b905a5c8bdc0f9128ccfecedff376045074" aria-selected="true"
                data-active="true" >
                <span>Attributes</span>
            </button>
                    <button role="tab" type="button" data-language="yaml"
                aria-controls="configuration-block-tabpanel-c6af25c9151896c1da625278ba1c9c6ce7b51e57" aria-selected="false"
                 tabindex="-1">
                <span>YAML</span>
            </button>
                    <button role="tab" type="button" data-language="xml"
                aria-controls="configuration-block-tabpanel-b9fcea04d066bf948d88e56700c52723491d1fd4" aria-selected="false"
                 tabindex="-1">
                <span>XML</span>
            </button>
                    <button role="tab" type="button" data-language="php"
                aria-controls="configuration-block-tabpanel-93803f1c0b78222cd003b6c048740a96a4c01cde" aria-selected="false"
                 tabindex="-1">
                <span>PHP</span>
            </button>
            </div>

            <div role="tabpanel" id="configuration-block-tabpanel-d5db6b905a5c8bdc0f9128ccfecedff376045074" aria-label="Attributes" class="configuration-codeblock" data-language="php-attributes" style="">
            <div translate="no" class="highlight-php-attributes highlight-php notranslate">
    <table class="highlighttable">
        <tbody>
            <tr>
                <td class="linenos">
                    <div class="linenodiv">
                        <pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16</pre>
                    </div>
                </td>
                <td class="code">
                    <div class="highlight">
                        <pre class="hljs php-attributes php"><span class="hljs-comment">// src/Entity/Author.php</span>
<span class="hljs-keyword">namespace</span> <span class="hljs-title">App</span>\<span class="hljs-title">Entity</span>;

<span class="hljs-comment">// ...</span>
<span class="hljs-keyword">use</span> <span class="hljs-title">Symfony</span>\<span class="hljs-title">Component</span>\<span class="hljs-title">Validator</span>\<span class="hljs-title">Constraints</span> <span class="hljs-title">as</span> <span class="hljs-title">Assert</span>;

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Author</span>
</span>{
    <span class="hljs-comment">#[Assert\Choice(</span>
        choices: [<span class="hljs-string">'fiction'</span>, <span class="hljs-string">'non-fiction'</span>],
        message: <span class="hljs-string">'Choose a valid genre.'</span>,
    )]
    <span class="hljs-keyword">private</span> <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>genre</span>;

    <span class="hljs-comment">// ...</span>
}</pre>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
        </div>
            <div role="tabpanel" id="configuration-block-tabpanel-c6af25c9151896c1da625278ba1c9c6ce7b51e57" aria-label="YAML" class="configuration-codeblock" data-language="yaml" style="display: none">
            <div translate="no" class="highlight-yaml notranslate">
    <table class="highlighttable">
        <tbody>
            <tr>
                <td class="linenos">
                    <div class="linenodiv">
                        <pre>1
2
3
4
5
6</pre>
                    </div>
                </td>
                <td class="code">
                    <div class="highlight">
                        <pre class="hljs yaml"><span class="hljs-comment"># config/validator/validation.yaml</span>
<span class="hljs-string">App\Entity\Author:</span>
    <span class="hljs-attr">properties:</span>
        <span class="hljs-attr">genre:</span>
            <span class="hljs-bullet">-</span> <span class="hljs-attr">Choice:</span> <span class="hljs-string">{</span> <span class="hljs-attr">choices:</span> <span class="hljs-string">[fiction,</span> <span class="hljs-string">non-fiction],</span> <span class="hljs-attr">message:</span> <span class="hljs-string">Choose</span> <span class="hljs-string">a</span> <span class="hljs-string">valid</span> <span class="hljs-string">genre.</span> <span class="hljs-string">}</span>
        <span class="hljs-comment"># ...</span></pre>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
        </div>
            <div role="tabpanel" id="configuration-block-tabpanel-b9fcea04d066bf948d88e56700c52723491d1fd4" aria-label="XML" class="configuration-codeblock" data-language="xml" style="display: none">
            <div translate="no" class="highlight-xml notranslate">
    <table class="highlighttable">
        <tbody>
            <tr>
                <td class="linenos">
                    <div class="linenodiv">
                        <pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21</pre>
                    </div>
                </td>
                <td class="code">
                    <div class="highlight">
                        <pre class="hljs xml"><span class="hljs-comment">&lt;!-- config/validator/validation.xml --&gt;</span>
<span class="hljs-meta">&lt;?xml version="1.0" encoding="UTF-8" ?&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">constraint-mapping</span> <span class="hljs-attr">xmlns</span>=<span class="hljs-string">"http://symfony.com/schema/dic/constraint-mapping"</span>
    <span class="hljs-attr">xmlns:xsi</span>=<span class="hljs-string">"http://www.w3.org/2001/XMLSchema-instance"</span>
    <span class="hljs-attr">xsi:schemaLocation</span>=<span class="hljs-string">"http://symfony.com/schema/dic/constraint-mapping
        https://symfony.com/schema/dic/constraint-mapping/constraint-mapping-1.0.xsd"</span>&gt;</span>

    <span class="hljs-tag">&lt;<span class="hljs-name">class</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"App\Entity\Author"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"genre"</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">constraint</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"Choice"</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"choices"</span>&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-name">value</span>&gt;</span>fiction<span class="hljs-tag">&lt;/<span class="hljs-name">value</span>&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-name">value</span>&gt;</span>non-fiction<span class="hljs-tag">&lt;/<span class="hljs-name">value</span>&gt;</span>
                <span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"message"</span>&gt;</span>Choose a valid genre.<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-name">constraint</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span>

        <span class="hljs-comment">&lt;!-- ... --&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">class</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">constraint-mapping</span>&gt;</span></pre>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
        </div>
            <div role="tabpanel" id="configuration-block-tabpanel-93803f1c0b78222cd003b6c048740a96a4c01cde" aria-label="PHP" class="configuration-codeblock" data-language="php" style="display: none">
            <div translate="no" class="highlight-php notranslate">
    <table class="highlighttable">
        <tbody>
            <tr>
                <td class="linenos">
                    <div class="linenodiv">
                        <pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23</pre>
                    </div>
                </td>
                <td class="code">
                    <div class="highlight">
                        <pre class="hljs php"><span class="hljs-comment">// src/Entity/Author.php</span>
<span class="hljs-keyword">namespace</span> <span class="hljs-title">App</span>\<span class="hljs-title">Entity</span>;

<span class="hljs-comment">// ...</span>
<span class="hljs-keyword">use</span> <span class="hljs-title">Symfony</span>\<span class="hljs-title">Component</span>\<span class="hljs-title">Validator</span>\<span class="hljs-title">Constraints</span> <span class="hljs-title">as</span> <span class="hljs-title">Assert</span>;
<span class="hljs-keyword">use</span> <span class="hljs-title">Symfony</span>\<span class="hljs-title">Component</span>\<span class="hljs-title">Validator</span>\<span class="hljs-title">Mapping</span>\<span class="hljs-title">ClassMetadata</span>;

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Author</span>
</span>{
    <span class="hljs-keyword">private</span> <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>genre</span>;

    <span class="hljs-comment">// ...</span>

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">loadValidatorMetadata</span><span class="hljs-params">(ClassMetadata <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>metadata</span>)</span>
    </span>{
        <span class="hljs-comment">// ...</span>

        <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>metadata</span><span class="hljs-operator">-&gt;</span>addPropertyConstraint(<span class="hljs-string">'genre'</span>, <span class="hljs-keyword">new</span> Assert\Choice([
            <span class="hljs-string">'choices'</span> =&gt; [<span class="hljs-string">'fiction'</span>, <span class="hljs-string">'non-fiction'</span>],
            <span class="hljs-string">'message'</span> =&gt; <span class="hljs-string">'Choose a valid genre.'</span>,
        ]));
    }
}</pre>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
        </div>
    </div>
<span id="validation-default-option"></span>
<p>The options of a constraint can always be passed in as an array. Some constraints,
however, also allow you to pass the value of one, &quot;<em>default</em>&quot;, option in place
of the array. In the case of the <code translate="no" class="notranslate">Choice</code> constraint, the <code translate="no" class="notranslate">choices</code>
options can be specified in this way.</p>
<div class="configuration-block">
    <div role="tablist" aria-label="Configuration formats" class="configuration-tabs configuration-tabs-length-4">
                    <button role="tab" type="button" data-language="php-attributes"
                aria-controls="configuration-block-tabpanel-50d1409972408ee51b8be287072049e19676aaa5" aria-selected="true"
                data-active="true" >
                <span>Attributes</span>
            </button>
                    <button role="tab" type="button" data-language="yaml"
                aria-controls="configuration-block-tabpanel-d0c6124aec40ea63af9b50524219072ba773d395" aria-selected="false"
                 tabindex="-1">
                <span>YAML</span>
            </button>
                    <button role="tab" type="button" data-language="xml"
                aria-controls="configuration-block-tabpanel-ad90396e98ca98b70e0e442b17f4ca8eda6d3640" aria-selected="false"
                 tabindex="-1">
                <span>XML</span>
            </button>
                    <button role="tab" type="button" data-language="php"
                aria-controls="configuration-block-tabpanel-fd25e239ac22ae2c98d5c4fc8c4ce592e989b97f" aria-selected="false"
                 tabindex="-1">
                <span>PHP</span>
            </button>
            </div>

            <div role="tabpanel" id="configuration-block-tabpanel-50d1409972408ee51b8be287072049e19676aaa5" aria-label="Attributes" class="configuration-codeblock" data-language="php-attributes" style="">
            <div translate="no" class="highlight-php-attributes highlight-php notranslate">
    <table class="highlighttable">
        <tbody>
            <tr>
                <td class="linenos">
                    <div class="linenodiv">
                        <pre>1
2
3
4
5
6
7
8
9
10
11
12
13</pre>
                    </div>
                </td>
                <td class="code">
                    <div class="highlight">
                        <pre class="hljs php-attributes php"><span class="hljs-comment">// src/Entity/Author.php</span>
<span class="hljs-keyword">namespace</span> <span class="hljs-title">App</span>\<span class="hljs-title">Entity</span>;

<span class="hljs-comment">// ...</span>
<span class="hljs-keyword">use</span> <span class="hljs-title">Symfony</span>\<span class="hljs-title">Component</span>\<span class="hljs-title">Validator</span>\<span class="hljs-title">Constraints</span> <span class="hljs-title">as</span> <span class="hljs-title">Assert</span>;

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Author</span>
</span>{
    <span class="hljs-comment">#[Assert\Choice(['fiction', 'non-fiction'])]</span>
    <span class="hljs-keyword">private</span> <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>genre</span>;

    <span class="hljs-comment">// ...</span>
}</pre>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
        </div>
            <div role="tabpanel" id="configuration-block-tabpanel-d0c6124aec40ea63af9b50524219072ba773d395" aria-label="YAML" class="configuration-codeblock" data-language="yaml" style="display: none">
            <div translate="no" class="highlight-yaml notranslate">
    <table class="highlighttable">
        <tbody>
            <tr>
                <td class="linenos">
                    <div class="linenodiv">
                        <pre>1
2
3
4
5
6</pre>
                    </div>
                </td>
                <td class="code">
                    <div class="highlight">
                        <pre class="hljs yaml"><span class="hljs-comment"># config/validator/validation.yaml</span>
<span class="hljs-string">App\Entity\Author:</span>
    <span class="hljs-attr">properties:</span>
        <span class="hljs-attr">genre:</span>
            <span class="hljs-bullet">-</span> <span class="hljs-attr">Choice:</span> <span class="hljs-string">[fiction,</span> <span class="hljs-string">non-fiction]</span>
        <span class="hljs-comment"># ...</span></pre>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
        </div>
            <div role="tabpanel" id="configuration-block-tabpanel-ad90396e98ca98b70e0e442b17f4ca8eda6d3640" aria-label="XML" class="configuration-codeblock" data-language="xml" style="display: none">
            <div translate="no" class="highlight-xml notranslate">
    <table class="highlighttable">
        <tbody>
            <tr>
                <td class="linenos">
                    <div class="linenodiv">
                        <pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18</pre>
                    </div>
                </td>
                <td class="code">
                    <div class="highlight">
                        <pre class="hljs xml"><span class="hljs-comment">&lt;!-- config/validator/validation.xml --&gt;</span>
<span class="hljs-meta">&lt;?xml version="1.0" encoding="UTF-8" ?&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">constraint-mapping</span> <span class="hljs-attr">xmlns</span>=<span class="hljs-string">"http://symfony.com/schema/dic/constraint-mapping"</span>
    <span class="hljs-attr">xmlns:xsi</span>=<span class="hljs-string">"http://www.w3.org/2001/XMLSchema-instance"</span>
    <span class="hljs-attr">xsi:schemaLocation</span>=<span class="hljs-string">"http://symfony.com/schema/dic/constraint-mapping
        https://symfony.com/schema/dic/constraint-mapping/constraint-mapping-1.0.xsd"</span>&gt;</span>

    <span class="hljs-tag">&lt;<span class="hljs-name">class</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"App\Entity\Author"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"genre"</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">constraint</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"Choice"</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">value</span>&gt;</span>fiction<span class="hljs-tag">&lt;/<span class="hljs-name">value</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">value</span>&gt;</span>non-fiction<span class="hljs-tag">&lt;/<span class="hljs-name">value</span>&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-name">constraint</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span>

        <span class="hljs-comment">&lt;!-- ... --&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">class</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">constraint-mapping</span>&gt;</span></pre>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
        </div>
            <div role="tabpanel" id="configuration-block-tabpanel-fd25e239ac22ae2c98d5c4fc8c4ce592e989b97f" aria-label="PHP" class="configuration-codeblock" data-language="php" style="display: none">
            <div translate="no" class="highlight-php notranslate">
    <table class="highlighttable">
        <tbody>
            <tr>
                <td class="linenos">
                    <div class="linenodiv">
                        <pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21</pre>
                    </div>
                </td>
                <td class="code">
                    <div class="highlight">
                        <pre class="hljs php"><span class="hljs-comment">// src/Entity/Author.php</span>
<span class="hljs-keyword">namespace</span> <span class="hljs-title">App</span>\<span class="hljs-title">Entity</span>;

<span class="hljs-comment">// ...</span>
<span class="hljs-keyword">use</span> <span class="hljs-title">Symfony</span>\<span class="hljs-title">Component</span>\<span class="hljs-title">Validator</span>\<span class="hljs-title">Constraints</span> <span class="hljs-title">as</span> <span class="hljs-title">Assert</span>;
<span class="hljs-keyword">use</span> <span class="hljs-title">Symfony</span>\<span class="hljs-title">Component</span>\<span class="hljs-title">Validator</span>\<span class="hljs-title">Mapping</span>\<span class="hljs-title">ClassMetadata</span>;

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Author</span>
</span>{
    <span class="hljs-keyword">private</span> <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>genre</span>;

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">loadValidatorMetadata</span><span class="hljs-params">(ClassMetadata <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>metadata</span>)</span>
    </span>{
        <span class="hljs-comment">// ...</span>

        <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>metadata</span><span class="hljs-operator">-&gt;</span>addPropertyConstraint(
            <span class="hljs-string">'genre'</span>,
            <span class="hljs-keyword">new</span> Assert\Choice([<span class="hljs-string">'fiction'</span>, <span class="hljs-string">'non-fiction'</span>])
        );
    }
}</pre>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
        </div>
    </div>
<p>This is purely meant to make the configuration of the most common option of
a constraint shorter and quicker.</p>
<p>If you're ever unsure of how to specify an option, either check the namespace
<code translate="no" class="notranslate">Symfony\Component\Validator\Constraints</code> for the constraint or play it safe
by always passing in an array of options (the first method shown above).</p>
</div>
</div>
<div class="section">
<h2 id="constraints-in-form-classes">
    Constraints in Form Classes
    <a class="headerlink" href="#constraints-in-form-classes" title="Permalink to this headline">¶</a>
</h2>
<p>Constraints can be defined while building the form via the <code translate="no" class="notranslate">constraints</code> option
of the form fields:</p>
<div translate="no" class="highlight-php notranslate">
    <table class="highlighttable">
        <tbody>
            <tr>
                <td class="linenos">
                    <div class="linenodiv">
                        <pre>1
2
3
4
5
6
7
8
9</pre>
                    </div>
                </td>
                <td class="code">
                    <div class="highlight">
                        <pre class="hljs php"><span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">buildForm</span><span class="hljs-params">(FormBuilderInterface <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>builder</span>, array <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>options</span>)</span>
</span>{
    <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>builder</span>
        <span class="hljs-operator">-&gt;</span>add(<span class="hljs-string">'myField'</span>, TextType<span class="hljs-operator">::</span>class, [
            <span class="hljs-string">'required'</span> =&gt; <span class="hljs-keyword">true</span>,
            <span class="hljs-string">'constraints'</span> =&gt; [<span class="hljs-keyword">new</span> Length([<span class="hljs-string">'min'</span> =&gt; <span class="hljs-number">3</span>])],
        ])
    ;
}</pre>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
<span id="validator-constraint-targets"></span>
</div>
<div class="section">
<h2 id="constraint-targets">
    Constraint Targets
    <a class="headerlink" href="#constraint-targets" title="Permalink to this headline">¶</a>
</h2>
<p>Constraints can be applied to a class property (e.g. <code translate="no" class="notranslate">name</code>),
a getter method (e.g. <code translate="no" class="notranslate">getFullName()</code>) or an entire class. Property constraints
are the most common and easy to use. Getter constraints allow you to specify
more complex validation rules. Finally, class constraints are intended
for scenarios where you want to validate a class as a whole.</p>
<span id="validation-property-target"></span>
<div class="section">
<h3 id="properties">
    Properties
    <a class="headerlink" href="#properties" title="Permalink to this headline">¶</a>
</h3>
<p>Validating class properties is the most basic validation technique. Symfony
allows you to validate private, protected or public properties. The next
listing shows you how to configure the <code translate="no" class="notranslate">$firstName</code> property of an <code translate="no" class="notranslate">Author</code>
class to have at least 3 characters.</p>
<div class="configuration-block">
    <div role="tablist" aria-label="Configuration formats" class="configuration-tabs configuration-tabs-length-4">
                    <button role="tab" type="button" data-language="php-attributes"
                aria-controls="configuration-block-tabpanel-92a6803faec79a422bc3b32ac0e3fe2f231f6d1c" aria-selected="true"
                data-active="true" >
                <span>Attributes</span>
            </button>
                    <button role="tab" type="button" data-language="yaml"
                aria-controls="configuration-block-tabpanel-b6b5e8e107e4b382f409e7c4a8d2893d9d892d29" aria-selected="false"
                 tabindex="-1">
                <span>YAML</span>
            </button>
                    <button role="tab" type="button" data-language="xml"
                aria-controls="configuration-block-tabpanel-b48a61f0c1c3cfd4bbb578e810a00355235b0d19" aria-selected="false"
                 tabindex="-1">
                <span>XML</span>
            </button>
                    <button role="tab" type="button" data-language="php"
                aria-controls="configuration-block-tabpanel-a7099bc09dce721b026c4bf97aec58ebd0a6b5df" aria-selected="false"
                 tabindex="-1">
                <span>PHP</span>
            </button>
            </div>

            <div role="tabpanel" id="configuration-block-tabpanel-92a6803faec79a422bc3b32ac0e3fe2f231f6d1c" aria-label="Attributes" class="configuration-codeblock" data-language="php-attributes" style="">
            <div translate="no" class="highlight-php-attributes highlight-php notranslate">
    <table class="highlighttable">
        <tbody>
            <tr>
                <td class="linenos">
                    <div class="linenodiv">
                        <pre>1
2
3
4
5
6
7
8
9
10
11</pre>
                    </div>
                </td>
                <td class="code">
                    <div class="highlight">
                        <pre class="hljs php-attributes php"><span class="hljs-comment">// src/Entity/Author.php</span>

<span class="hljs-comment">// ...</span>
<span class="hljs-keyword">use</span> <span class="hljs-title">Symfony</span>\<span class="hljs-title">Component</span>\<span class="hljs-title">Validator</span>\<span class="hljs-title">Constraints</span> <span class="hljs-title">as</span> <span class="hljs-title">Assert</span>;

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Author</span>
</span>{
    <span class="hljs-comment">#[Assert\NotBlank]</span>
    <span class="hljs-comment">#[Assert\Length(min: 3)]</span>
    <span class="hljs-keyword">private</span> <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>firstName</span>;
}</pre>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
        </div>
            <div role="tabpanel" id="configuration-block-tabpanel-b6b5e8e107e4b382f409e7c4a8d2893d9d892d29" aria-label="YAML" class="configuration-codeblock" data-language="yaml" style="display: none">
            <div translate="no" class="highlight-yaml notranslate">
    <table class="highlighttable">
        <tbody>
            <tr>
                <td class="linenos">
                    <div class="linenodiv">
                        <pre>1
2
3
4
5
6
7</pre>
                    </div>
                </td>
                <td class="code">
                    <div class="highlight">
                        <pre class="hljs yaml"><span class="hljs-comment"># config/validator/validation.yaml</span>
<span class="hljs-string">App\Entity\Author:</span>
    <span class="hljs-attr">properties:</span>
        <span class="hljs-attr">firstName:</span>
            <span class="hljs-bullet">-</span> <span class="hljs-attr">NotBlank:</span> <span class="hljs-string">~</span>
            <span class="hljs-bullet">-</span> <span class="hljs-attr">Length:</span>
                <span class="hljs-attr">min:</span> <span class="hljs-number">3</span></pre>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
        </div>
            <div role="tabpanel" id="configuration-block-tabpanel-b48a61f0c1c3cfd4bbb578e810a00355235b0d19" aria-label="XML" class="configuration-codeblock" data-language="xml" style="display: none">
            <div translate="no" class="highlight-xml notranslate">
    <table class="highlighttable">
        <tbody>
            <tr>
                <td class="linenos">
                    <div class="linenodiv">
                        <pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16</pre>
                    </div>
                </td>
                <td class="code">
                    <div class="highlight">
                        <pre class="hljs xml"><span class="hljs-comment">&lt;!-- config/validator/validation.xml --&gt;</span>
<span class="hljs-meta">&lt;?xml version="1.0" encoding="UTF-8" ?&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">constraint-mapping</span> <span class="hljs-attr">xmlns</span>=<span class="hljs-string">"http://symfony.com/schema/dic/constraint-mapping"</span>
    <span class="hljs-attr">xmlns:xsi</span>=<span class="hljs-string">"http://www.w3.org/2001/XMLSchema-instance"</span>
    <span class="hljs-attr">xsi:schemaLocation</span>=<span class="hljs-string">"http://symfony.com/schema/dic/constraint-mapping
        https://symfony.com/schema/dic/constraint-mapping/constraint-mapping-1.0.xsd"</span>&gt;</span>

    <span class="hljs-tag">&lt;<span class="hljs-name">class</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"App\Entity\Author"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"firstName"</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">constraint</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"NotBlank"</span>/&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">constraint</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"Length"</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"min"</span>&gt;</span>3<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-name">constraint</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">class</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">constraint-mapping</span>&gt;</span></pre>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
        </div>
            <div role="tabpanel" id="configuration-block-tabpanel-a7099bc09dce721b026c4bf97aec58ebd0a6b5df" aria-label="PHP" class="configuration-codeblock" data-language="php" style="display: none">
            <div translate="no" class="highlight-php notranslate">
    <table class="highlighttable">
        <tbody>
            <tr>
                <td class="linenos">
                    <div class="linenodiv">
                        <pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20</pre>
                    </div>
                </td>
                <td class="code">
                    <div class="highlight">
                        <pre class="hljs php"><span class="hljs-comment">// src/Entity/Author.php</span>
<span class="hljs-keyword">namespace</span> <span class="hljs-title">App</span>\<span class="hljs-title">Entity</span>;

<span class="hljs-comment">// ...</span>
<span class="hljs-keyword">use</span> <span class="hljs-title">Symfony</span>\<span class="hljs-title">Component</span>\<span class="hljs-title">Validator</span>\<span class="hljs-title">Constraints</span> <span class="hljs-title">as</span> <span class="hljs-title">Assert</span>;
<span class="hljs-keyword">use</span> <span class="hljs-title">Symfony</span>\<span class="hljs-title">Component</span>\<span class="hljs-title">Validator</span>\<span class="hljs-title">Mapping</span>\<span class="hljs-title">ClassMetadata</span>;

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Author</span>
</span>{
    <span class="hljs-keyword">private</span> <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>firstName</span>;

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">loadValidatorMetadata</span><span class="hljs-params">(ClassMetadata <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>metadata</span>)</span>
    </span>{
        <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>metadata</span><span class="hljs-operator">-&gt;</span>addPropertyConstraint(<span class="hljs-string">'firstName'</span>, <span class="hljs-keyword">new</span> Assert\NotBlank());
        <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>metadata</span><span class="hljs-operator">-&gt;</span>addPropertyConstraint(
            <span class="hljs-string">'firstName'</span>,
            <span class="hljs-keyword">new</span> Assert\Length([<span class="hljs-string">'min'</span> =&gt; <span class="hljs-number">3</span>])
        );
    }
}</pre>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
        </div>
    </div>
<div class="admonition admonition-caution ">
    <p class="admonition-title">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" width="24" height="24" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" /></svg>
                <span>Caution</span>
    </p><p>The validator will use a value <code translate="no" class="notranslate">null</code> if a typed property is uninitialized.
This can cause unexpected behavior if the property holds a value when initialized.
In order to avoid this, make sure all properties are initialized before validating them.</p>
</div>
</div>
<div class="section">
<h3 id="getters">
    Getters
    <a class="headerlink" href="#getters" title="Permalink to this headline">¶</a>
</h3>
<p>Constraints can also be applied to the return value of a method. Symfony
allows you to add a constraint to any private, protected or public method whose name starts with
&quot;get&quot;, &quot;is&quot; or &quot;has&quot;. In this guide, these types of methods are referred to
as &quot;getters&quot;.</p>
<p>The benefit of this technique is that it allows you to validate your object
dynamically. For example, suppose you want to make sure that a password field
doesn't match the first name of the user (for security reasons). You can
do this by creating an <code translate="no" class="notranslate">isPasswordSafe()</code> method, and then asserting that
this method must return <code translate="no" class="notranslate">true</code>:</p>
<div class="configuration-block">
    <div role="tablist" aria-label="Configuration formats" class="configuration-tabs configuration-tabs-length-4">
                    <button role="tab" type="button" data-language="php-attributes"
                aria-controls="configuration-block-tabpanel-34bc5514929399e4964d0c9474b56c9b254bd2fe" aria-selected="true"
                data-active="true" >
                <span>Attributes</span>
            </button>
                    <button role="tab" type="button" data-language="yaml"
                aria-controls="configuration-block-tabpanel-52c9f9e149a5f7dce129d44e294dd0d1fab61be3" aria-selected="false"
                 tabindex="-1">
                <span>YAML</span>
            </button>
                    <button role="tab" type="button" data-language="xml"
                aria-controls="configuration-block-tabpanel-09160f76d9b88b7efaf6f8167c6e45938ef73b94" aria-selected="false"
                 tabindex="-1">
                <span>XML</span>
            </button>
                    <button role="tab" type="button" data-language="php"
                aria-controls="configuration-block-tabpanel-a248b458ac79335533eb2e6d8abd80957cb2fdc9" aria-selected="false"
                 tabindex="-1">
                <span>PHP</span>
            </button>
            </div>

            <div role="tabpanel" id="configuration-block-tabpanel-34bc5514929399e4964d0c9474b56c9b254bd2fe" aria-label="Attributes" class="configuration-codeblock" data-language="php-attributes" style="">
            <div translate="no" class="highlight-php-attributes highlight-php notranslate">
    <table class="highlighttable">
        <tbody>
            <tr>
                <td class="linenos">
                    <div class="linenodiv">
                        <pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14</pre>
                    </div>
                </td>
                <td class="code">
                    <div class="highlight">
                        <pre class="hljs php-attributes php"><span class="hljs-comment">// src/Entity/Author.php</span>
<span class="hljs-keyword">namespace</span> <span class="hljs-title">App</span>\<span class="hljs-title">Entity</span>;

<span class="hljs-comment">// ...</span>
<span class="hljs-keyword">use</span> <span class="hljs-title">Symfony</span>\<span class="hljs-title">Component</span>\<span class="hljs-title">Validator</span>\<span class="hljs-title">Constraints</span> <span class="hljs-title">as</span> <span class="hljs-title">Assert</span>;

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Author</span>
</span>{
    <span class="hljs-comment">#[Assert\IsTrue(message: 'The password cannot match your first name')]</span>
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">isPasswordSafe</span><span class="hljs-params">()</span>
    </span>{
        <span class="hljs-comment">// ... return true or false</span>
    }
}</pre>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
        </div>
            <div role="tabpanel" id="configuration-block-tabpanel-52c9f9e149a5f7dce129d44e294dd0d1fab61be3" aria-label="YAML" class="configuration-codeblock" data-language="yaml" style="display: none">
            <div translate="no" class="highlight-yaml notranslate">
    <table class="highlighttable">
        <tbody>
            <tr>
                <td class="linenos">
                    <div class="linenodiv">
                        <pre>1
2
3
4
5</pre>
                    </div>
                </td>
                <td class="code">
                    <div class="highlight">
                        <pre class="hljs yaml"><span class="hljs-comment"># config/validator/validation.yaml</span>
<span class="hljs-string">App\Entity\Author:</span>
    <span class="hljs-attr">getters:</span>
        <span class="hljs-attr">passwordSafe:</span>
            <span class="hljs-bullet">-</span> <span class="hljs-attr">'IsTrue':</span> <span class="hljs-string">{</span> <span class="hljs-attr">message:</span> <span class="hljs-string">'The password cannot match your first name'</span> <span class="hljs-string">}</span></pre>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
        </div>
            <div role="tabpanel" id="configuration-block-tabpanel-09160f76d9b88b7efaf6f8167c6e45938ef73b94" aria-label="XML" class="configuration-codeblock" data-language="xml" style="display: none">
            <div translate="no" class="highlight-xml notranslate">
    <table class="highlighttable">
        <tbody>
            <tr>
                <td class="linenos">
                    <div class="linenodiv">
                        <pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15</pre>
                    </div>
                </td>
                <td class="code">
                    <div class="highlight">
                        <pre class="hljs xml"><span class="hljs-comment">&lt;!-- config/validator/validation.xml --&gt;</span>
<span class="hljs-meta">&lt;?xml version="1.0" encoding="UTF-8" ?&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">constraint-mapping</span> <span class="hljs-attr">xmlns</span>=<span class="hljs-string">"http://symfony.com/schema/dic/constraint-mapping"</span>
    <span class="hljs-attr">xmlns:xsi</span>=<span class="hljs-string">"http://www.w3.org/2001/XMLSchema-instance"</span>
    <span class="hljs-attr">xsi:schemaLocation</span>=<span class="hljs-string">"http://symfony.com/schema/dic/constraint-mapping
        https://symfony.com/schema/dic/constraint-mapping/constraint-mapping-1.0.xsd"</span>&gt;</span>

    <span class="hljs-tag">&lt;<span class="hljs-name">class</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"App\Entity\Author"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">getter</span> <span class="hljs-attr">property</span>=<span class="hljs-string">"passwordSafe"</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">constraint</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"IsTrue"</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"message"</span>&gt;</span>The password cannot match your first name<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-name">constraint</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">getter</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">class</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">constraint-mapping</span>&gt;</span></pre>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
        </div>
            <div role="tabpanel" id="configuration-block-tabpanel-a248b458ac79335533eb2e6d8abd80957cb2fdc9" aria-label="PHP" class="configuration-codeblock" data-language="php" style="display: none">
            <div translate="no" class="highlight-php notranslate">
    <table class="highlighttable">
        <tbody>
            <tr>
                <td class="linenos">
                    <div class="linenodiv">
                        <pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16</pre>
                    </div>
                </td>
                <td class="code">
                    <div class="highlight">
                        <pre class="hljs php"><span class="hljs-comment">// src/Entity/Author.php</span>
<span class="hljs-keyword">namespace</span> <span class="hljs-title">App</span>\<span class="hljs-title">Entity</span>;

<span class="hljs-comment">// ...</span>
<span class="hljs-keyword">use</span> <span class="hljs-title">Symfony</span>\<span class="hljs-title">Component</span>\<span class="hljs-title">Validator</span>\<span class="hljs-title">Constraints</span> <span class="hljs-title">as</span> <span class="hljs-title">Assert</span>;
<span class="hljs-keyword">use</span> <span class="hljs-title">Symfony</span>\<span class="hljs-title">Component</span>\<span class="hljs-title">Validator</span>\<span class="hljs-title">Mapping</span>\<span class="hljs-title">ClassMetadata</span>;

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Author</span>
</span>{
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">loadValidatorMetadata</span><span class="hljs-params">(ClassMetadata <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>metadata</span>)</span>
    </span>{
        <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>metadata</span><span class="hljs-operator">-&gt;</span>addGetterConstraint(<span class="hljs-string">'passwordSafe'</span>, <span class="hljs-keyword">new</span> Assert\IsTrue([
            <span class="hljs-string">'message'</span> =&gt; <span class="hljs-string">'The password cannot match your first name'</span>,
        ]));
    }
}</pre>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
        </div>
    </div>
<p>Now, create the <code translate="no" class="notranslate">isPasswordSafe()</code> method and include the logic you need:</p>
<div translate="no" class="highlight-php notranslate">
    <table class="highlighttable">
        <tbody>
            <tr>
                <td class="linenos">
                    <div class="linenodiv">
                        <pre>1
2
3
4</pre>
                    </div>
                </td>
                <td class="code">
                    <div class="highlight">
                        <pre class="hljs php"><span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">isPasswordSafe</span><span class="hljs-params">()</span>
</span>{
    <span class="hljs-keyword">return</span> <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>this</span><span class="hljs-operator">-&gt;</span>firstName !== <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>this</span><span class="hljs-operator">-&gt;</span>password;
}</pre>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
<div class="admonition admonition-note ">
    <p class="admonition-title">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" width="24" height="24" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z" /></svg>
                <span>Note</span>
    </p><p>The keen-eyed among you will have noticed that the prefix of the getter
(&quot;get&quot;, &quot;is&quot; or &quot;has&quot;) is omitted in the mappings for the YAML, XML and PHP
formats. This allows you to move the constraint to a property with the same
name later (or vice versa) without changing your validation logic.</p>
</div>
<span id="validation-class-target"></span>
</div>
<div class="section">
<h3 id="classes">
    Classes
    <a class="headerlink" href="#classes" title="Permalink to this headline">¶</a>
</h3>
<p>Some constraints apply to the entire class being validated. For example,
the <a href="reference/constraints/Callback.html" class="reference internal">Callback</a> constraint is a generic
constraint that's applied to the class itself. When that class is validated,
methods specified by that constraint are simply executed so that each can
provide more custom validation.</p>
</div>
</div>
<div class="section">
<h2 id="debugging-the-constraints">
    Debugging the Constraints
    <a class="headerlink" href="#debugging-the-constraints" title="Permalink to this headline">¶</a>
</h2>
<p>Use the <code translate="no" class="notranslate">debug:validator</code> command to list the validation constraints of a
given class:</p>
<div translate="no" class="highlight-terminal highlight-bash notranslate">
    <table class="highlighttable">
        <tbody>
            <tr>
                <td class="linenos">
                    <div class="linenodiv">
                        <pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21</pre>
                    </div>
                </td>
                <td class="code">
                    <div class="highlight">
                        <pre class="hljs terminal bash"><span class="hljs-prompt">$ </span>php bin/console debug:validator <span class="hljs-string">'App\Entity\SomeClass'</span>

    App\Entity\SomeClass
    -----------------------------------------------------

    +---------------+--------------------------------------------------+---------+------------------------------------------------------------+
    | Property      | Name                                             | Groups  | Options                                                    |
    +---------------+--------------------------------------------------+---------+------------------------------------------------------------+
    | firstArgument | Symfony\Component\Validator\Constraints\NotBlank | Default | [                                                          |
    |               |                                                  |         |   <span class="hljs-string">"message"</span> =&gt; <span class="hljs-string">"This value should not be blank."</span>,          |
    |               |                                                  |         |   <span class="hljs-string">"allowNull"</span> =&gt; <span class="hljs-literal">false</span>,                                    |
    |               |                                                  |         |   <span class="hljs-string">"normalizer"</span> =&gt; null,                                    |
    |               |                                                  |         |   <span class="hljs-string">"payload"</span> =&gt; null                                        |
    |               |                                                  |         | ]                                                          |
    | firstArgument | Symfony\Component\Validator\Constraints\Email    | Default | [                                                          |
    |               |                                                  |         |   <span class="hljs-string">"message"</span> =&gt; <span class="hljs-string">"This value is not a valid email address."</span>, |
    |               |                                                  |         |   <span class="hljs-string">"mode"</span> =&gt; null,                                          |
    |               |                                                  |         |   <span class="hljs-string">"normalizer"</span> =&gt; null,                                    |
    |               |                                                  |         |   <span class="hljs-string">"payload"</span> =&gt; null                                        |
    |               |                                                  |         | ]                                                          |
    +---------------+--------------------------------------------------+---------+------------------------------------------------------------+</pre>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
<p>You can also validate all the classes stored in a given directory:</p>
<div translate="no" class="highlight-terminal highlight-bash notranslate">
    <table class="highlighttable">
        <tbody>
            <tr>
                <td class="linenos">
                    <div class="linenodiv">
                        <pre>1</pre>
                    </div>
                </td>
                <td class="code">
                    <div class="highlight">
                        <pre class="hljs terminal bash"><span class="hljs-prompt">$ </span>php bin/console debug:validator src/Entity</pre>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
</div>
<div class="section">
<h2 id="final-thoughts">
    Final Thoughts
    <a class="headerlink" href="#final-thoughts" title="Permalink to this headline">¶</a>
</h2>
<p>The Symfony <code translate="no" class="notranslate">validator</code> is a powerful tool that can be leveraged to
guarantee that the data of any object is &quot;valid&quot;. The power behind validation
lies in &quot;constraints&quot;, which are rules that you can apply to properties or
getter methods of your object. And while you'll most commonly use the validation
framework indirectly when using forms, remember that it can be used anywhere
to validate any object.</p>
</div>
<div class="section">
<h2 id="learn-more">
    Learn more
    <a class="headerlink" href="#learn-more" title="Permalink to this headline">¶</a>
</h2>
<div class="toctree-wrapper toc-size-md"><ul class="toctree toctree-level-1 toctree-length-6"><li><a href="validation/custom_constraint.html">How to Create a Custom Validation Constraint</a></li><li><a href="validation/groups.html">How to Apply only a Subset of all Your Validation Constraints (Validation Groups)</a></li><li><a href="validation/raw_values.html">How to Validate Raw Values (Scalar Values and Arrays)</a></li><li><a href="validation/sequence_provider.html">How to Sequentially Apply Validation Groups</a></li><li><a href="validation/severity.html">How to Handle Different Error Levels</a></li><li><a href="validation/translations.html">How to Translate Validation Constraint Messages</a></li></ul></div>
</div>
</div>

                            </div>                    </div>
                                    </div>        </div>

    </section>

</div>


<script type="text/javascript" src="assets/js/theme.js"></script>
<script type="text/javascript" src="assets/js/badge_only.js"></script>

 
</body>
</html>