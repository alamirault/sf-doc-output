        
<!DOCTYPE html>
<!--[if IE 8]>
<html class="no-js lt-ie9" lang="en"> <![endif]-->
<!--[if gt IE 8]><!-->
<html class="no-js" lang="en"> <!--<![endif]-->
<head><base href="/">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
            
                                
    
    <link rel="stylesheet" href="assets/css/theme.css" type="text/css" />
    <link rel="stylesheet" href="assets/css/highlightjs.css" type="text/css" />
    <link rel="stylesheet" href="assets/css/badge_only.css" type="text/css" />

</head>

<body class="wy-body-for-nav">
 <div class="wy-grid-for-nav">

        <nav data-toggle="wy-nav-shift" class="wy-nav-side">
        <div class="wy-side-scroll">
            <div class="wy-side-nav-search">
                
                                                                                                    
                                                                                                                                                                        </div>

            <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
                                                                                                                                                                                                                                                                                                                            </div>
        </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

                                                        

        <div class="wy-nav-content">                <div class="rst-content">
                                        <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">                            <div itemprop="articleBody">
                                    <div class="section">
<h1 id="the-symfony-framework-best-practices">
    The Symfony Framework Best Practices
    <a class="headerlink" href="#the-symfony-framework-best-practices" title="Permalink to this headline">¶</a>
</h1>
<p>This article describes the <strong>best practices for developing web applications with
Symfony</strong> that fit the philosophy envisioned by the original Symfony creators.</p>
<p>If you don't agree with some of these recommendations, they might be a good
<strong>starting point</strong> that you can then <strong>extend and fit to your specific needs</strong>.
You can even ignore them completely and continue using your own best practices
and methodologies. Symfony is flexible enough to adapt to your needs.</p>
<p>This article assumes that you already have experience developing Symfony
applications. If you don't, read first the <a href="setup.html" class="reference internal">Getting Started</a>
section of the documentation.</p>
<div class="admonition admonition-tip ">
    <p class="admonition-title">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" width="24" height="24" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z" /></svg>
                <span>Tip</span>
    </p><p>Symfony provides a sample application called <a href="https://github.com/symfony/demo" class="reference external" rel="external noopener noreferrer" target="_blank">Symfony Demo</a> that follows
all these best practices, so you can experience them in practice.</p>
</div>
<div class="section">
<h2 id="creating-the-project">
    Creating the Project
    <a class="headerlink" href="#creating-the-project" title="Permalink to this headline">¶</a>
</h2>
<div class="section">
<h3 id="use-the-symfony-binary-to-create-symfony-applications">
    Use the Symfony Binary to Create Symfony Applications
    <a class="headerlink" href="#use-the-symfony-binary-to-create-symfony-applications" title="Permalink to this headline">¶</a>
</h3>
<p>The Symfony binary is an executable command created in your machine when you
<a href="https://symfony.com/download" class="reference external">download Symfony</a>. It provides multiple utilities, including the simplest way
to create new Symfony applications:</p>
<div translate="no" class="highlight-terminal highlight-bash notranslate">
    <table class="highlighttable">
        <tbody>
            <tr>
                <td class="linenos">
                    <div class="linenodiv">
                        <pre>1</pre>
                    </div>
                </td>
                <td class="code">
                    <div class="highlight">
                        <pre class="hljs terminal bash"><span class="hljs-prompt">$ </span>symfony new my_project_directory</pre>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
<p>Under the hood, this Symfony binary command executes the needed <a href="https://getcomposer.org/" class="reference external" rel="external noopener noreferrer" target="_blank">Composer</a>
command to <a href="setup.html#creating-symfony-applications" class="reference internal">create a new Symfony application</a>
based on the current stable version.</p>
</div>
<div class="section">
<h3 id="use-the-default-directory-structure">
    Use the Default Directory Structure
    <a class="headerlink" href="#use-the-default-directory-structure" title="Permalink to this headline">¶</a>
</h3>
<p>Unless your project follows a development practice that imposes a certain
directory structure, follow the default Symfony directory structure. It's flat,
self-explanatory and not coupled to Symfony:</p>
<div translate="no" class="highlight-text notranslate">
    <table class="highlighttable">
        <tbody>
            <tr>
                <td class="linenos">
                    <div class="linenodiv">
                        <pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29</pre>
                    </div>
                </td>
                <td class="code">
                    <div class="highlight">
                        <pre class="hljs text">your_project/
├─ assets/
├─ bin/
│  └─ console
├─ config/
│  ├─ packages/
│  └─ services.yaml
├─ migrations/
├─ public/
│  ├─ build/
│  └─ index.php
├─ src/
│  ├─ Kernel.php
│  ├─ Command/
│  ├─ Controller/
│  ├─ DataFixtures/
│  ├─ Entity/
│  ├─ EventSubscriber/
│  ├─ Form/
│  ├─ Repository/
│  ├─ Security/
│  └─ Twig/
├─ templates/
├─ tests/
├─ translations/
├─ var/
│  ├─ cache/
│  └─ log/
└─ vendor/</pre>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
</div>
</div>
<div class="section">
<h2 id="configuration">
    Configuration
    <a class="headerlink" href="#configuration" title="Permalink to this headline">¶</a>
</h2>
<div class="section">
<h3 id="use-environment-variables-for-infrastructure-configuration">
    Use Environment Variables for Infrastructure Configuration
    <a class="headerlink" href="#use-environment-variables-for-infrastructure-configuration" title="Permalink to this headline">¶</a>
</h3>
<p>The values of these options change from one machine to another (e.g. from your
development machine to the production server), but they don't modify the
application behavior.</p>
<p><a href="configuration.html#config-env-vars" class="reference internal">Use env vars in your project</a> to define these options
and create multiple <code translate="no" class="notranslate">.env</code> files to <a href="configuration.html#config-dot-env" class="reference internal">configure env vars per environment</a>.</p>
<span id="use-secret-for-sensitive-information"></span>
</div>
<div class="section">
<h3 id="use-secrets-for-sensitive-information">
    Use Secrets for Sensitive Information
    <a class="headerlink" href="#use-secrets-for-sensitive-information" title="Permalink to this headline">¶</a>
</h3>
<p>When your application has sensitive configuration, like an API key, you should
store those securely via <a href="configuration/secrets.html" class="reference internal">Symfony’s secrets management system</a>.</p>
</div>
<div class="section">
<h3 id="use-parameters-for-application-configuration">
    Use Parameters for Application Configuration
    <a class="headerlink" href="#use-parameters-for-application-configuration" title="Permalink to this headline">¶</a>
</h3>
<p>These are the options used to modify the application behavior, such as the sender
of email notifications, or the enabled <a href="https://en.wikipedia.org/wiki/Feature_toggle" class="reference external" rel="external noopener noreferrer" target="_blank">feature toggles</a>. Their value doesn't
change per machine, so don't define them as environment variables.</p>
<p>Define these options as <a href="configuration.html#configuration-parameters" class="reference internal">parameters</a> in the
<code translate="no" class="notranslate">config/services.yaml</code> file. You can override these options per
<a href="configuration.html#configuration-environments" class="reference internal">environment</a> in the <code translate="no" class="notranslate">config/services_dev.yaml</code>
and <code translate="no" class="notranslate">config/services_prod.yaml</code> files.</p>
</div>
<div class="section">
<h3 id="use-short-and-prefixed-parameter-names">
    Use Short and Prefixed Parameter Names
    <a class="headerlink" href="#use-short-and-prefixed-parameter-names" title="Permalink to this headline">¶</a>
</h3>
<p>Consider using <code translate="no" class="notranslate">app.</code> as the prefix of your <a href="configuration.html#configuration-parameters" class="reference internal">parameters</a>
to avoid collisions with Symfony and third-party bundles/libraries parameters.
Then, use just one or two words to describe the purpose of the parameter:</p>
<div translate="no" class="highlight-yaml notranslate">
    <table class="highlighttable">
        <tbody>
            <tr>
                <td class="linenos">
                    <div class="linenodiv">
                        <pre>1
2
3
4
5
6
7
8
9
10</pre>
                    </div>
                </td>
                <td class="code">
                    <div class="highlight">
                        <pre class="hljs yaml"><span class="hljs-comment"># config/services.yaml</span>
<span class="hljs-attr">parameters:</span>
    <span class="hljs-comment"># don't do this: 'dir' is too generic, and it doesn't convey any meaning</span>
    <span class="hljs-attr">app.dir:</span> <span class="hljs-string">'...'</span>
    <span class="hljs-comment"># do this: short but easy to understand names</span>
    <span class="hljs-attr">app.contents_dir:</span> <span class="hljs-string">'...'</span>
    <span class="hljs-comment"># it's OK to use dots, underscores, dashes or nothing, but always</span>
    <span class="hljs-comment"># be consistent and use the same format for all the parameters</span>
    <span class="hljs-attr">app.dir.contents:</span> <span class="hljs-string">'...'</span>
    <span class="hljs-attr">app.contents-dir:</span> <span class="hljs-string">'...'</span></pre>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
</div>
<div class="section">
<h3 id="use-constants-to-define-options-that-rarely-change">
    Use Constants to Define Options that Rarely Change
    <a class="headerlink" href="#use-constants-to-define-options-that-rarely-change" title="Permalink to this headline">¶</a>
</h3>
<p>Configuration options like the number of items to display in some listing rarely
change. Instead of defining them as <a href="configuration.html#configuration-parameters" class="reference internal">configuration parameters</a>,
define them as PHP constants in the related classes. Example:</p>
<div translate="no" class="highlight-php notranslate">
    <table class="highlighttable">
        <tbody>
            <tr>
                <td class="linenos">
                    <div class="linenodiv">
                        <pre>1
2
3
4
5
6
7
8
9</pre>
                    </div>
                </td>
                <td class="code">
                    <div class="highlight">
                        <pre class="hljs php"><span class="hljs-comment">// src/Entity/Post.php</span>
<span class="hljs-keyword">namespace</span> <span class="hljs-title">App</span>\<span class="hljs-title">Entity</span>;

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Post</span>
</span>{
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">const</span> NUMBER_OF_ITEMS = <span class="hljs-number">10</span>;

    <span class="hljs-comment">// ...</span>
}</pre>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
<p>The main advantage of constants is that you can use them everywhere, including
Twig templates and Doctrine entities, whereas parameters are only available
from places with access to the <a href="service_container.html" class="reference internal">service container</a>.</p>
<p>The only notable disadvantage of using constants for this kind of configuration
values is that it's complicated to redefine their values in your tests.</p>
</div>
</div>
<div class="section">
<h2 id="business-logic">
    Business Logic
    <a class="headerlink" href="#business-logic" title="Permalink to this headline">¶</a>
</h2>
<div class="section">
<h3 id="don-t-create-any-bundle-to-organize-your-application-logic">
    Don't Create any Bundle to Organize your Application Logic
    <a class="headerlink" href="#don-t-create-any-bundle-to-organize-your-application-logic" title="Permalink to this headline">¶</a>
</h3>
<p>When Symfony 2.0 was released, applications used <a href="bundles.html" class="reference internal">bundles</a> to
divide their code into logical features: UserBundle, ProductBundle,
InvoiceBundle, etc. However, a bundle is meant to be something that can be
reused as a stand-alone piece of software.</p>
<p>If you need to reuse some feature in your projects, create a bundle for it (in a
private repository, do not make it publicly available). For the rest of your
application code, use PHP namespaces to organize code instead of bundles.</p>
</div>
<div class="section">
<h3 id="use-autowiring-to-automate-the-configuration-of-application-services">
    Use Autowiring to Automate the Configuration of Application Services
    <a class="headerlink" href="#use-autowiring-to-automate-the-configuration-of-application-services" title="Permalink to this headline">¶</a>
</h3>
<p><a href="service_container/autowiring.html" class="reference internal">Service autowiring</a> is a feature that
reads the type-hints on your constructor (or other methods) and automatically
passes the correct services to each method, making it unnecessary to configure
services explicitly and simplifying the application maintenance.</p>
<p>Use it in combination with <a href="service_container.html#services-autoconfigure" class="reference internal">service autoconfiguration</a>
to also add <a href="service_container/tags.html" class="reference internal">service tags</a> to the services
needing them, such as Twig extensions, event subscribers, etc.</p>
</div>
<div class="section">
<h3 id="services-should-be-private-whenever-possible">
    Services Should be Private Whenever Possible
    <a class="headerlink" href="#services-should-be-private-whenever-possible" title="Permalink to this headline">¶</a>
</h3>
<p><a href="service_container.html#container-public" class="reference internal">Make services private</a> to prevent you from accessing
those services via <code translate="no" class="notranslate">$container-&gt;get()</code>. Instead, you will need to use proper
dependency injection.</p>
</div>
<div class="section">
<h3 id="use-the-yaml-format-to-configure-your-own-services">
    Use the YAML Format to Configure your own Services
    <a class="headerlink" href="#use-the-yaml-format-to-configure-your-own-services" title="Permalink to this headline">¶</a>
</h3>
<p>If you use the <a href="service_container.html#service-container-services-load-example" class="reference internal">default services.yaml configuration</a>,
most services will be configured automatically. However, in some edge cases
you'll need to configure services (or parts of them) manually.</p>
<p>YAML is the format recommended configuring services because it's friendly to
newcomers and concise, but Symfony also supports XML and PHP configuration.</p>
</div>
<div class="section">
<h3 id="use-attributes-to-define-the-doctrine-entity-mapping">
    Use Attributes to Define the Doctrine Entity Mapping
    <a class="headerlink" href="#use-attributes-to-define-the-doctrine-entity-mapping" title="Permalink to this headline">¶</a>
</h3>
<p>Doctrine entities are plain PHP objects that you store in some &quot;database&quot;.
Doctrine only knows about your entities through the mapping metadata configured
for your model classes.</p>
<p>Doctrine supports several metadata formats, but it's recommended to use PHP
attributes because they are by far the most convenient and agile way of setting
up and looking for mapping information.</p>
<p>If your PHP version doesn't support attributes yet, use annotations, which is
similar but requires installing some extra dependencies in your project.</p>
</div>
</div>
<div class="section">
<h2 id="controllers">
    Controllers
    <a class="headerlink" href="#controllers" title="Permalink to this headline">¶</a>
</h2>
<div class="section">
<h3 id="make-your-controller-extend-the-abstractcontroller-base-controller">
    Make your Controller Extend the <code translate="no" class="notranslate">AbstractController</code> Base Controller
    <a class="headerlink" href="#make-your-controller-extend-the-abstractcontroller-base-controller" title="Permalink to this headline">¶</a>
</h3>
<p>Symfony provides a <a href="controller.html#the-base-controller-classes-services" class="reference internal">base controller</a>
which includes shortcuts for the most common needs such as rendering templates
or checking security permissions.</p>
<p>Extending your controllers from this base controller couples your application
to Symfony. Coupling is generally wrong, but it may be OK in this case because
controllers shouldn't contain any business logic. Controllers should contain
nothing more than a few lines of <em>glue-code</em>, so you are not coupling the
important parts of your application.</p>
<span id="best-practice-controller-annotations"></span>
</div>
<div class="section">
<h3 id="use-attributes-or-annotations-to-configure-routing-caching-and-security">
    Use Attributes or Annotations to Configure Routing, Caching, and Security
    <a class="headerlink" href="#use-attributes-or-annotations-to-configure-routing-caching-and-security" title="Permalink to this headline">¶</a>
</h3>
<p>Using attributes or annotations for routing, caching, and security simplifies
configuration. You don't need to browse several files created with different
formats (YAML, XML, PHP): all the configuration is just where you  require it,
and it only uses one format.</p>
</div>
<div class="section">
<h3 id="use-dependency-injection-to-get-services">
    Use Dependency Injection to Get Services
    <a class="headerlink" href="#use-dependency-injection-to-get-services" title="Permalink to this headline">¶</a>
</h3>
<p>If you extend the base <code translate="no" class="notranslate">AbstractController</code>, you can only get access to the most
common services (e.g <code translate="no" class="notranslate">twig</code>, <code translate="no" class="notranslate">router</code>, <code translate="no" class="notranslate">doctrine</code>, etc.), directly from the
container via <code translate="no" class="notranslate">$this-&gt;container-&gt;get()</code>.
Instead, you must use dependency injection to fetch services by
<a href="controller.html#controller-accessing-services" class="reference internal">type-hinting action method arguments</a> or
constructor arguments.</p>
</div>
<div class="section">
<h3 id="use-entity-value-resolvers-if-they-are-convenient">
    Use Entity Value Resolvers If They Are Convenient
    <a class="headerlink" href="#use-entity-value-resolvers-if-they-are-convenient" title="Permalink to this headline">¶</a>
</h3>
<p>If you're using <a href="doctrine.html" class="reference internal">Doctrine</a>, then you can <em>optionally</em> use
the <a href="doctrine.html#doctrine-entity-value-resolver" class="reference internal">EntityValueResolver</a> to
automatically query for an entity and pass it as an argument to your
controller. It will also show a 404 page if no entity can be found.</p>
<p>If the logic to get an entity from a route variable is more complex, instead of
configuring the EntityValueResolver, it's better to make the Doctrine query
inside the controller (e.g. by calling to a <a href="doctrine.html" class="reference internal">Doctrine repository method</a>).</p>
</div>
</div>
<div class="section">
<h2 id="templates">
    Templates
    <a class="headerlink" href="#templates" title="Permalink to this headline">¶</a>
</h2>
<div class="section">
<h3 id="use-snake-case-for-template-names-and-variables">
    Use Snake Case for Template Names and Variables
    <a class="headerlink" href="#use-snake-case-for-template-names-and-variables" title="Permalink to this headline">¶</a>
</h3>
<p>Use lowercase snake_case for template names, directories, and variables (e.g.
<code translate="no" class="notranslate">user_profile</code> instead of <code translate="no" class="notranslate">userProfile</code> and <code translate="no" class="notranslate">product/edit_form.html.twig</code>
instead of <code translate="no" class="notranslate">Product/EditForm.html.twig</code>).</p>
</div>
<div class="section">
<h3 id="prefix-template-fragments-with-an-underscore">
    Prefix Template Fragments with an Underscore
    <a class="headerlink" href="#prefix-template-fragments-with-an-underscore" title="Permalink to this headline">¶</a>
</h3>
<p>Template fragments, also called <em>&quot;partial templates&quot;</em>, allow to
<a href="templates.html#templates-reuse-contents" class="reference internal">reuse template contents</a>. Prefix their names
with an underscore to better differentiate them from complete templates (e.g.
<code translate="no" class="notranslate">_user_metadata.html.twig</code> or <code translate="no" class="notranslate">_caution_message.html.twig</code>).</p>
</div>
</div>
<div class="section">
<h2 id="forms">
    Forms
    <a class="headerlink" href="#forms" title="Permalink to this headline">¶</a>
</h2>
<div class="section">
<h3 id="define-your-forms-as-php-classes">
    Define your Forms as PHP Classes
    <a class="headerlink" href="#define-your-forms-as-php-classes" title="Permalink to this headline">¶</a>
</h3>
<p>Creating <a href="forms.html#creating-forms-in-classes" class="reference internal">forms in classes</a> allows reusing
them in different parts of the application. Besides, not creating forms in
controllers simplifies the code and maintenance of the controllers.</p>
</div>
<div class="section">
<h3 id="add-form-buttons-in-templates">
    Add Form Buttons in Templates
    <a class="headerlink" href="#add-form-buttons-in-templates" title="Permalink to this headline">¶</a>
</h3>
<p>Form classes should be agnostic to where they will be used. For example, the
button of a form used to both create and edit items should change from &quot;Add new&quot;
to &quot;Save changes&quot; depending on where it's used.</p>
<p>Instead of adding buttons in form classes or the controllers, it's recommended
to add buttons in the templates. This also improves the separation of concerns
because the button styling (CSS class and other attributes) is defined in the
template instead of in a PHP class.</p>
<p>However, if you create a <a href="form/multiple_buttons.html" class="reference internal">form with multiple submit buttons</a>
you should define them in the controller instead of the template. Otherwise, you
won't be able to check which button was clicked when handling the form in the controller.</p>
</div>
<div class="section">
<h3 id="define-validation-constraints-on-the-underlying-object">
    Define Validation Constraints on the Underlying Object
    <a class="headerlink" href="#define-validation-constraints-on-the-underlying-object" title="Permalink to this headline">¶</a>
</h3>
<p>Attaching <a href="reference/constraints.html" class="reference internal">validation constraints</a> to form fields
instead of to the mapped object prevents the validation from being reused in
other forms or other places where the object is used.</p>
<span id="best-practice-handle-form"></span>
</div>
<div class="section">
<h3 id="use-a-single-action-to-render-and-process-the-form">
    Use a Single Action to Render and Process the Form
    <a class="headerlink" href="#use-a-single-action-to-render-and-process-the-form" title="Permalink to this headline">¶</a>
</h3>
<p><a href="forms.html#rendering-forms" class="reference internal">Rendering forms</a> and <a href="forms.html#processing-forms" class="reference internal">processing forms</a>
are two of the main tasks when handling forms. Both are too similar (most of the
time, almost identical), so it's much simpler to let a single controller action
handle both.</p>
<span id="best-practice-internationalization"></span>
</div>
</div>
<div class="section">
<h2 id="internationalization">
    Internationalization
    <a class="headerlink" href="#internationalization" title="Permalink to this headline">¶</a>
</h2>
<div class="section">
<h3 id="use-the-xliff-format-for-your-translation-files">
    Use the XLIFF Format for Your Translation Files
    <a class="headerlink" href="#use-the-xliff-format-for-your-translation-files" title="Permalink to this headline">¶</a>
</h3>
<p>Of all the translation formats supported by Symfony (PHP, Qt, <code translate="no" class="notranslate">.po</code>, <code translate="no" class="notranslate">.mo</code>,
JSON, CSV, INI, etc.), <code translate="no" class="notranslate">XLIFF</code> and <code translate="no" class="notranslate">gettext</code> have the best support in the tools used
by professional translators. And since it's based on XML, you can validate <code translate="no" class="notranslate">XLIFF</code>
file contents as you write them.</p>
<p>Symfony also supports notes in XLIFF files, making them more user-friendly for
translators. At the end, good translations are all about context, and these
XLIFF notes allow you to define that context.</p>
</div>
<div class="section">
<h3 id="use-keys-for-translations-instead-of-content-strings">
    Use Keys for Translations Instead of Content Strings
    <a class="headerlink" href="#use-keys-for-translations-instead-of-content-strings" title="Permalink to this headline">¶</a>
</h3>
<p>Using keys simplifies the management of the translation files because you can
change the original contents in templates, controllers, and services without
having to update all the translation files.</p>
<p>Keys should always describe their <em>purpose</em> and <em>not</em> their location. For
example, if a form has a field with the label &quot;Username&quot;, then a nice key
would be <code translate="no" class="notranslate">label.username</code>, <em>not</em> <code translate="no" class="notranslate">edit_form.label.username</code>.</p>
</div>
</div>
<div class="section">
<h2 id="security">
    Security
    <a class="headerlink" href="#security" title="Permalink to this headline">¶</a>
</h2>
<div class="section">
<h3 id="define-a-single-firewall">
    Define a Single Firewall
    <a class="headerlink" href="#define-a-single-firewall" title="Permalink to this headline">¶</a>
</h3>
<p>Unless you have two legitimately different authentication systems and users
(e.g. form login for the main site and a token system for your API only), it's
recommended to have only one firewall to keep things simple.</p>
<p>Additionally, you should use the <code translate="no" class="notranslate">anonymous</code> key under your firewall. If you
require users to be logged in for different sections of your site, use the
<a href="security/access_control.html" class="reference internal">access_control</a> option.</p>
</div>
<div class="section">
<h3 id="use-the-auto-password-hasher">
    Use the <code translate="no" class="notranslate">auto</code> Password Hasher
    <a class="headerlink" href="#use-the-auto-password-hasher" title="Permalink to this headline">¶</a>
</h3>
<p>The <a href="security/passwords.html#reference-security-encoder-auto" class="reference internal">auto password hasher</a> automatically
selects the best possible encoder/hasher depending on your PHP installation.
Currently, the default auto hasher is <code translate="no" class="notranslate">bcrypt</code>.</p>
</div>
<div class="section">
<h3 id="use-voters-to-implement-fine-grained-security-restrictions">
    Use Voters to Implement Fine-grained Security Restrictions
    <a class="headerlink" href="#use-voters-to-implement-fine-grained-security-restrictions" title="Permalink to this headline">¶</a>
</h3>
<p>If your security logic is complex, you should create custom
<a href="security/voters.html" class="reference internal">security voters</a> instead of defining long expressions
inside the <code translate="no" class="notranslate">#[Security]</code> attribute.</p>
</div>
</div>
<div class="section">
<h2 id="web-assets">
    Web Assets
    <a class="headerlink" href="#web-assets" title="Permalink to this headline">¶</a>
</h2>
<div class="section">
<h3 id="use-webpack-encore-to-process-web-assets">
    Use Webpack Encore to Process Web Assets
    <a class="headerlink" href="#use-webpack-encore-to-process-web-assets" title="Permalink to this headline">¶</a>
</h3>
<p>Web assets are things like CSS, JavaScript, and image files that make the
frontend of your site look and work great. <a href="https://webpack.js.org/" class="reference external" rel="external noopener noreferrer" target="_blank">Webpack</a> is the leading JavaScript
module bundler that compiles, transforms and packages assets for usage in a browser.</p>
<p><a href="frontend.html" class="reference internal">Webpack Encore</a> is a JavaScript library that gets rid of most
of Webpack complexity without hiding any of its features or distorting its usage
and philosophy. It was created for Symfony applications, but it works
for any application using any technology.</p>
</div>
</div>
<div class="section">
<h2 id="tests">
    Tests
    <a class="headerlink" href="#tests" title="Permalink to this headline">¶</a>
</h2>
<div class="section">
<h3 id="smoke-test-your-urls">
    Smoke Test your URLs
    <a class="headerlink" href="#smoke-test-your-urls" title="Permalink to this headline">¶</a>
</h3>
<p>In software engineering, <a href="https://en.wikipedia.org/wiki/Smoke_testing_(software)" class="reference external" rel="external noopener noreferrer" target="_blank">smoke testing</a> consists of <em>&quot;preliminary testing to
reveal simple failures severe enough to reject a prospective software release&quot;</em>.
Using <a href="https://phpunit.readthedocs.io/en/9.5/writing-tests-for-phpunit.html#data-providers" class="reference external" rel="external noopener noreferrer" target="_blank">PHPUnit data providers</a> you can define a functional test that
checks that all application URLs load successfully:</p>
<div translate="no" class="highlight-php notranslate">
    <table class="highlighttable">
        <tbody>
            <tr>
                <td class="linenos">
                    <div class="linenodiv">
                        <pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28</pre>
                    </div>
                </td>
                <td class="code">
                    <div class="highlight">
                        <pre class="hljs php"><span class="hljs-comment">// tests/ApplicationAvailabilityFunctionalTest.php</span>
<span class="hljs-keyword">namespace</span> <span class="hljs-title">App</span>\<span class="hljs-title">Tests</span>;

<span class="hljs-keyword">use</span> <span class="hljs-title">Symfony</span>\<span class="hljs-title">Bundle</span>\<span class="hljs-title">FrameworkBundle</span>\<span class="hljs-title">Test</span>\<span class="hljs-title">WebTestCase</span>;

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">ApplicationAvailabilityFunctionalTest</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">WebTestCase</span>
</span>{
    <span class="hljs-comment">/**
     * <span class="hljs-doctag">@dataProvider</span> urlProvider
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">testPageIsSuccessful</span><span class="hljs-params">(<span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>url</span>)</span>
    </span>{
        <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>client</span> = <span class="hljs-keyword">self</span><span class="hljs-operator">::</span>createClient();
        <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>client</span><span class="hljs-operator">-&gt;</span>request(<span class="hljs-string">'GET'</span>, <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>url</span>);

        <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>this</span><span class="hljs-operator">-&gt;</span>assertResponseIsSuccessful();
    }

    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">urlProvider</span><span class="hljs-params">()</span>
    </span>{
        <span class="hljs-keyword">yield</span> [<span class="hljs-string">'/'</span>];
        <span class="hljs-keyword">yield</span> [<span class="hljs-string">'/posts'</span>];
        <span class="hljs-keyword">yield</span> [<span class="hljs-string">'/post/fixture-post-1'</span>];
        <span class="hljs-keyword">yield</span> [<span class="hljs-string">'/blog/category/fixture-category'</span>];
        <span class="hljs-keyword">yield</span> [<span class="hljs-string">'/archives'</span>];
        <span class="hljs-comment">// ...</span>
    }
}</pre>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
<p>Add this test while creating your application because it requires little effort
and checks that none of your pages returns an error. Later, you'll add more
specific tests for each page.</p>
<span id="hardcode-urls-in-a-functional-test"></span>
</div>
<div class="section">
<h3 id="hard-code-urls-in-a-functional-test">
    Hard-code URLs in a Functional Test
    <a class="headerlink" href="#hard-code-urls-in-a-functional-test" title="Permalink to this headline">¶</a>
</h3>
<p>In Symfony applications, it's recommended to <a href="routing.html#routing-generating-urls" class="reference internal">generate URLs</a>
using routes to automatically update all links when a URL changes. However, if a
public URL changes, users won't be able to browse it unless you set up a
redirection to the new URL.</p>
<p>That's why it's recommended to use raw URLs in tests instead of generating them
from routes. Whenever a route changes, tests will fail, and you'll know that
you must set up a redirection.</p>
</div>
</div>
</div>

                            </div>                    </div>
                                    </div>        </div>

    </section>

</div>


<script type="text/javascript" src="assets/js/theme.js"></script>
<script type="text/javascript" src="assets/js/badge_only.js"></script>

 
</body>
</html>