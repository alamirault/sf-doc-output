        
<!DOCTYPE html>
<!--[if IE 8]>
<html class="no-js lt-ie9" lang="en"> <![endif]-->
<!--[if gt IE 8]><!-->
<html class="no-js" lang="en"> <!--<![endif]-->
<head><base href="/">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
            
                                
    
    <link rel="stylesheet" href="assets/css/theme.css" type="text/css" />
    <link rel="stylesheet" href="assets/css/highlightjs.css" type="text/css" />
    <link rel="stylesheet" href="assets/css/badge_only.css" type="text/css" />

</head>

<body class="wy-body-for-nav">
 <div class="wy-grid-for-nav">

        <nav data-toggle="wy-nav-shift" class="wy-nav-side">
        <div class="wy-side-scroll">
            <div class="wy-side-nav-search">
                
                                                                                                    
                                                                                                                                                                        </div>

            <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
                                                                                                                                                                                                                                                                                                                            </div>
        </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

                                                        

        <div class="wy-nav-content">                <div class="rst-content">
                                        <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">                            <div itemprop="articleBody">
                                    <div class="section">
<h1 id="best-practices-for-reusable-bundles">
    Best Practices for Reusable Bundles
    <a class="headerlink" href="#best-practices-for-reusable-bundles" title="Permalink to this headline">¶</a>
</h1>
<p>This article is all about how to structure your <strong>reusable bundles</strong> to be
configurable and extendable. Reusable bundles are those meant to be shared
privately across many company projects or publicly so any Symfony project can
install them.</p>
<span id="bundles-naming-conventions"></span>
<div class="section">
<h2 id="bundle-name">
    Bundle Name
    <a class="headerlink" href="#bundle-name" title="Permalink to this headline">¶</a>
</h2>
<p>A bundle is also a PHP namespace. The namespace must follow the <a href="https://www.php-fig.org/psr/psr-4/" class="reference external" rel="external noopener noreferrer" target="_blank">PSR-4</a>
interoperability standard for PHP namespaces and class names: it starts with a
vendor segment, followed by zero or more category segments, and it ends with the
namespace short name, which must end with <code translate="no" class="notranslate">Bundle</code>.</p>
<p>A namespace becomes a bundle as soon as you add &quot;a bundle class&quot; to it (which is
a class that extends <a href="https://github.com/symfony/symfony/blob/5.4/src/Symfony/Component/HttpKernel/Bundle/Bundle.php" class="reference external" title="Symfony\Component\HttpKernel\Bundle\Bundle" rel="external noopener noreferrer" target="_blank">Bundle</a>).
The bundle class name must follow these rules:</p>
<ul>
    <li>Use only alphanumeric characters and underscores;</li>
<li>Use a StudlyCaps name (i.e. camelCase with an uppercase first letter);</li>
<li>Use a descriptive and short name (no more than two words);</li>
<li>Prefix the name with the concatenation of the vendor (and optionally the
category namespaces);</li>
<li>Suffix the name with <code translate="no" class="notranslate">Bundle</code>.</li>
</ul>
<p>Here are some valid bundle namespaces and class names:</p>
<div class="table-wrapper">
<table>
            <thead>
                            <tr>
                                            <th>Namespace</th>
                                            <th>Bundle Class Name</th>
                                    </tr>
                    </thead>
        <tbody>
                    <tr>
                                    <td><code translate="no" class="notranslate">Acme\Bundle\BlogBundle</code></td>
                                    <td>AcmeBlogBundle</td>
                            </tr>
                    <tr>
                                    <td><code translate="no" class="notranslate">Acme\BlogBundle</code></td>
                                    <td>AcmeBlogBundle</td>
                            </tr>
            </tbody>
</table>
</div>
<p>By convention, the <code translate="no" class="notranslate">getName()</code> method of the bundle class should return the
class name.</p>
<div class="admonition admonition-note ">
    <p class="admonition-title">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" width="24" height="24" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z" /></svg>
                <span>Note</span>
    </p><p>If you share your bundle publicly, you must use the bundle class name as
the name of the repository (AcmeBlogBundle and not BlogBundle for instance).</p>
</div>
<div class="admonition admonition-note ">
    <p class="admonition-title">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" width="24" height="24" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z" /></svg>
                <span>Note</span>
    </p><p>Symfony core Bundles do not prefix the Bundle class with <code translate="no" class="notranslate">Symfony</code>
and always add a <code translate="no" class="notranslate">Bundle</code> sub-namespace; for example:
<a href="https://github.com/symfony/symfony/blob/5.4/src/Symfony/Bundle/FrameworkBundle/FrameworkBundle.php" class="reference external" title="Symfony\Bundle\FrameworkBundle\FrameworkBundle" rel="external noopener noreferrer" target="_blank">FrameworkBundle</a>.</p>
</div>
<p>Each bundle has an alias, which is the lower-cased short version of the bundle
name using underscores (<code translate="no" class="notranslate">acme_blog</code> for AcmeBlogBundle). This alias
is used to enforce uniqueness within a project and for defining bundle's
configuration options (see below for some usage examples).</p>
</div>
<div class="section">
<h2 id="directory-structure">
    Directory Structure
    <a class="headerlink" href="#directory-structure" title="Permalink to this headline">¶</a>
</h2>
<p>The following is the recommended directory structure of an AcmeBlogBundle:</p>
<div translate="no" class="highlight-text notranslate">
    <table class="highlighttable">
        <tbody>
            <tr>
                <td class="linenos">
                    <div class="linenodiv">
                        <pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14</pre>
                    </div>
                </td>
                <td class="code">
                    <div class="highlight">
                        <pre class="hljs text">&lt;your-bundle&gt;/
├── config/
├── docs/
│   └─ index.md
├── public/
├── src/
│   ├── Controller/
│   ├── DependencyInjection/
│   └── AcmeBlogBundle.php
├── templates/
├── tests/
├── translations/
├── LICENSE
└── README.md</pre>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
<p>This directory structure requires to configure the bundle path to its root
directory as follows:</p>
<div translate="no" class="highlight-php notranslate">
    <table class="highlighttable">
        <tbody>
            <tr>
                <td class="linenos">
                    <div class="linenodiv">
                        <pre>1
2
3
4
5
6
7</pre>
                    </div>
                </td>
                <td class="code">
                    <div class="highlight">
                        <pre class="hljs php"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">AcmeBlogBundle</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Bundle</span>
</span>{
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getPath</span><span class="hljs-params">()</span>: <span class="hljs-title">string</span>
    </span>{
        <span class="hljs-keyword">return</span> \dirname(<span class="hljs-keyword">__DIR__</span>);
    }
}</pre>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
<p><strong>The following files are mandatory</strong>, because they ensure a structure convention
that automated tools can rely on:</p>
<ul>
    <li><code translate="no" class="notranslate">src/AcmeBlogBundle.php</code>: This is the class that transforms a plain directory
into a Symfony bundle (change this to your bundle's name);</li>
<li><code translate="no" class="notranslate">README.md</code>: This file contains the basic description of the bundle and it
usually shows some basic examples and links to its full documentation (it
can use any of the markup formats supported by GitHub, such as <code translate="no" class="notranslate">README.rst</code>);</li>
<li><code translate="no" class="notranslate">LICENSE</code>: The full contents of the license used by the code. Most third-party
bundles are published under the MIT license, but you can <a href="https://choosealicense.com/" class="reference external" rel="external noopener noreferrer" target="_blank">choose any license</a>;</li>
<li><code translate="no" class="notranslate">docs/index.md</code>: The root file for the Bundle documentation.</li>
</ul>
<p>The depth of subdirectories should be kept to a minimum for the most used
classes and files. Two levels is the maximum.</p>
<p>The bundle directory is read-only. If you need to write temporary files, store
them under the <code translate="no" class="notranslate">cache/</code> or <code translate="no" class="notranslate">log/</code> directory of the host application. Tools
can generate files in the bundle directory structure, but only if the generated
files are going to be part of the repository.</p>
<p>The following classes and files have specific emplacements (some are mandatory
and others are just conventions followed by most developers):</p>
<div class="table-wrapper">
<table>
            <thead>
                            <tr>
                                            <th>Type</th>
                                            <th>Directory</th>
                                    </tr>
                    </thead>
        <tbody>
                    <tr>
                                    <td>Commands</td>
                                    <td><code translate="no" class="notranslate">src/Command/</code></td>
                            </tr>
                    <tr>
                                    <td>Controllers</td>
                                    <td><code translate="no" class="notranslate">src/Controller/</code></td>
                            </tr>
                    <tr>
                                    <td>Service Container Extensions</td>
                                    <td><code translate="no" class="notranslate">src/DependencyInjection/</code></td>
                            </tr>
                    <tr>
                                    <td>Doctrine ORM entities</td>
                                    <td><code translate="no" class="notranslate">src/Entity/</code></td>
                            </tr>
                    <tr>
                                    <td>Doctrine ODM documents</td>
                                    <td><code translate="no" class="notranslate">src/Document/</code></td>
                            </tr>
                    <tr>
                                    <td>Event Listeners</td>
                                    <td><code translate="no" class="notranslate">src/EventListener/</code></td>
                            </tr>
                    <tr>
                                    <td>Configuration (routes, services, etc.)</td>
                                    <td><code translate="no" class="notranslate">config/</code></td>
                            </tr>
                    <tr>
                                    <td>Web Assets (CSS, JS, images)</td>
                                    <td><code translate="no" class="notranslate">public/</code></td>
                            </tr>
                    <tr>
                                    <td>Translation files</td>
                                    <td><code translate="no" class="notranslate">translations/</code></td>
                            </tr>
                    <tr>
                                    <td>Validation (when not using annotations)</td>
                                    <td><code translate="no" class="notranslate">config/validation/</code></td>
                            </tr>
                    <tr>
                                    <td>Serialization (when not using annotations)</td>
                                    <td><code translate="no" class="notranslate">config/serialization/</code></td>
                            </tr>
                    <tr>
                                    <td>Templates</td>
                                    <td><code translate="no" class="notranslate">templates/</code></td>
                            </tr>
                    <tr>
                                    <td>Unit and Functional Tests</td>
                                    <td><code translate="no" class="notranslate">tests/</code></td>
                            </tr>
            </tbody>
</table>
</div>
</div>
<div class="section">
<h2 id="classes">
    Classes
    <a class="headerlink" href="#classes" title="Permalink to this headline">¶</a>
</h2>
<p>The bundle directory structure is used as the namespace hierarchy. For
instance, a <code translate="no" class="notranslate">ContentController</code> controller which is stored in
<code translate="no" class="notranslate">src/Controller/ContentController.php</code> would have the fully
qualified class name of <code translate="no" class="notranslate">Acme\BlogBundle\Controller\ContentController</code>.</p>
<p>All classes and files must follow the <a href="../contributing/code/standards.html" class="reference internal">Symfony coding standards</a>.</p>
<p>Some classes should be seen as facades and should be as short as possible, like
Commands, Helpers, Listeners and Controllers.</p>
<p>Classes that connect to the event dispatcher should be suffixed with
<code translate="no" class="notranslate">Listener</code>.</p>
<p>Exception classes should be stored in an <code translate="no" class="notranslate">Exception</code> sub-namespace.</p>
</div>
<div class="section">
<h2 id="vendors">
    Vendors
    <a class="headerlink" href="#vendors" title="Permalink to this headline">¶</a>
</h2>
<p>A bundle must not embed third-party PHP libraries. It should rely on the
standard Symfony autoloading instead.</p>
<p>A bundle should also not embed third-party libraries written in JavaScript,
CSS or any other language.</p>
</div>
<div class="section">
<h2 id="doctrine-entities-documents">
    Doctrine Entities/Documents
    <a class="headerlink" href="#doctrine-entities-documents" title="Permalink to this headline">¶</a>
</h2>
<p>If the bundle includes Doctrine ORM entities and/or ODM documents, it's
recommended to define their mapping using XML files stored in
<code translate="no" class="notranslate">config/doctrine/</code>. This allows to override that mapping using the
<a href="override.html" class="reference internal">standard Symfony mechanism to override bundle parts</a>.
This is not possible when using annotations/attributes to define the mapping.</p>
</div>
<div class="section">
<h2 id="tests">
    Tests
    <a class="headerlink" href="#tests" title="Permalink to this headline">¶</a>
</h2>
<p>A bundle should come with a test suite written with PHPUnit and stored under
the <code translate="no" class="notranslate">tests/</code> directory. Tests should follow the following principles:</p>
<ul>
    <li>The test suite must be executable with a simple <code translate="no" class="notranslate">phpunit</code> command run from
a sample application;</li>
<li>The functional tests should only be used to test the response output and
some profiling information if you have some;</li>
<li>The tests should cover at least 95% of the code base.</li>
</ul>
<div class="admonition admonition-note ">
    <p class="admonition-title">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" width="24" height="24" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z" /></svg>
                <span>Note</span>
    </p><p>A test suite must not contain <code translate="no" class="notranslate">AllTests.php</code> scripts, but must rely on the
existence of a <code translate="no" class="notranslate">phpunit.xml.dist</code> file.</p>
</div>
</div>
<div class="section">
<h2 id="continuous-integration">
    Continuous Integration
    <a class="headerlink" href="#continuous-integration" title="Permalink to this headline">¶</a>
</h2>
<p>Testing bundle code continuously, including all its commits and pull requests,
is a good practice called Continuous Integration. There are several services
providing this feature for free for open source projects, like <a href="https://docs.github.com/en/free-pro-team@latest/actions" class="reference external" rel="external noopener noreferrer" target="_blank">GitHub Actions</a>
and <a href="https://docs.travis-ci.com/" class="reference external" rel="external noopener noreferrer" target="_blank">Travis CI</a>.</p>
<p>A bundle should at least test:</p>
<ul>
    <li>The lower bound of their dependencies (by running <code translate="no" class="notranslate">composer update --prefer-lowest</code>);</li>
<li>The supported PHP versions;</li>
<li>All supported major Symfony versions (e.g. both <code translate="no" class="notranslate">4.x</code> and <code translate="no" class="notranslate">5.x</code> if
support is claimed for both).</li>
</ul>
<p>Thus, a bundle supporting PHP 7.3, 7.4 and 8.0, and Symfony 4.4 and 5.x should
have at least this test matrix:</p>
<div class="table-wrapper">
<table>
            <thead>
                            <tr>
                                            <th>PHP version</th>
                                            <th>Symfony version</th>
                                            <th>Composer flags</th>
                                    </tr>
                    </thead>
        <tbody>
                    <tr>
                                    <td>7.3</td>
                                    <td><code translate="no" class="notranslate">4.*</code></td>
                                    <td><code translate="no" class="notranslate">--prefer-lowest</code></td>
                            </tr>
                    <tr>
                                    <td>7.4</td>
                                    <td><code translate="no" class="notranslate">5.*</code></td>
                                    <td>&nbsp;</td>
                            </tr>
                    <tr>
                                    <td>8.0</td>
                                    <td><code translate="no" class="notranslate">5.*</code></td>
                                    <td>&nbsp;</td>
                            </tr>
            </tbody>
</table>
</div>
<div class="admonition admonition-tip ">
    <p class="admonition-title">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" width="24" height="24" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z" /></svg>
                <span>Tip</span>
    </p><p>The tests should be run with the <code translate="no" class="notranslate">SYMFONY_DEPRECATIONS_HELPER</code>
env variable set to <code translate="no" class="notranslate">max[direct]=0</code>. This ensures no code in the
bundle uses deprecated features directly.</p>
<p>The lowest dependency tests can be run with this variable set to
<code translate="no" class="notranslate">disabled=1</code>.</p>
</div>
<div class="section">
<h3 id="require-a-specific-symfony-version">
    Require a Specific Symfony Version
    <a class="headerlink" href="#require-a-specific-symfony-version" title="Permalink to this headline">¶</a>
</h3>
<p>You can use the special <code translate="no" class="notranslate">SYMFONY_REQUIRE</code> environment variable together
with Symfony Flex to install a specific Symfony version:</p>
<div translate="no" class="highlight-bash notranslate">
    <table class="highlighttable">
        <tbody>
            <tr>
                <td class="linenos">
                    <div class="linenodiv">
                        <pre>1
2
3
4
5
6
7
8
9
10
11
12</pre>
                    </div>
                </td>
                <td class="code">
                    <div class="highlight">
                        <pre class="hljs bash"><span class="hljs-comment"># this requires Symfony 5.x for all Symfony packages</span>
<span class="hljs-built_in">export</span> SYMFONY_REQUIRE=5.*
<span class="hljs-comment"># alternatively you can run this command to update composer.json config</span>
<span class="hljs-comment"># composer config extra.symfony.require "5.*"</span>

<span class="hljs-comment"># install Symfony Flex in the CI environment</span>
composer global config --no-plugins allow-plugins.symfony/flex <span class="hljs-literal">true</span>
composer global require --no-progress --no-scripts --no-plugins symfony/flex

<span class="hljs-comment"># install the dependencies (using --prefer-dist and --no-progress is</span>
<span class="hljs-comment"># recommended to have a better output and faster download time)</span>
composer update --prefer-dist --no-progress</pre>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
<div class="admonition admonition-caution ">
    <p class="admonition-title">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" width="24" height="24" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" /></svg>
                <span>Caution</span>
    </p><p>If you want to cache your Composer dependencies, <strong>do not</strong> cache the
<code translate="no" class="notranslate">vendor/</code> directory as this has side-effects. Instead cache
<code translate="no" class="notranslate">$HOME/.composer/cache/files</code>.</p>
</div>
</div>
</div>
<div class="section">
<h2 id="installation">
    Installation
    <a class="headerlink" href="#installation" title="Permalink to this headline">¶</a>
</h2>
<p>Bundles should set <code translate="no" class="notranslate">&quot;type&quot;: &quot;symfony-bundle&quot;</code> in their <code translate="no" class="notranslate">composer.json</code> file.
With this, <a href="../setup.html#symfony-flex" class="reference internal">Symfony Flex</a> will be able to automatically
enable your bundle when it's installed.</p>
<p>If your bundle requires any setup (e.g. configuration, new files, changes to
<code translate="no" class="notranslate">.gitignore</code>, etc), then you should create a <a href="https://github.com/symfony/recipes" class="reference external" rel="external noopener noreferrer" target="_blank">Symfony Flex recipe</a>.</p>
</div>
<div class="section">
<h2 id="documentation">
    Documentation
    <a class="headerlink" href="#documentation" title="Permalink to this headline">¶</a>
</h2>
<p>All classes and functions must come with full PHPDoc.</p>
<p>Extensive documentation should also be provided in the <code translate="no" class="notranslate">docs/</code>
directory.
The index file (for example <code translate="no" class="notranslate">docs/index.rst</code> or
<code translate="no" class="notranslate">docs/index.md</code>) is the only mandatory file and must be the entry
point for the documentation. The
<a href="../contributing/documentation/format.html" class="reference internal">reStructuredText (rST)</a> is the format
used to render the documentation on the Symfony website.</p>
<div class="section">
<h3 id="installation-instructions">
    Installation Instructions
    <a class="headerlink" href="#installation-instructions" title="Permalink to this headline">¶</a>
</h3>
<p>In order to ease the installation of third-party bundles, consider using the
following standardized instructions in your <code translate="no" class="notranslate">README.md</code> file.</p>
<div class="configuration-block">
    <div role="tablist" aria-label="Configuration formats" class="configuration-tabs configuration-tabs-length-2">
                    <button role="tab" type="button" data-language="markdown"
                aria-controls="configuration-block-tabpanel-ccea68268d86bf3e5290f6de72081d66a6266aab" aria-selected="true"
                data-active="true" >
                <span>Markdown</span>
            </button>
                    <button role="tab" type="button" data-language="rst"
                aria-controls="configuration-block-tabpanel-d3650343ef3a1099a3d9d873c46a9af707e701f0" aria-selected="false"
                 tabindex="-1">
                <span>RST</span>
            </button>
            </div>

            <div role="tabpanel" id="configuration-block-tabpanel-ccea68268d86bf3e5290f6de72081d66a6266aab" aria-label="Markdown" class="configuration-codeblock" data-language="markdown" style="">
            <div translate="no" class="highlight-markdown notranslate">
    <table class="highlighttable">
        <tbody>
            <tr>
                <td class="linenos">
                    <div class="linenodiv">
                        <pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41</pre>
                    </div>
                </td>
                <td class="code">
                    <div class="highlight">
                        <pre class="hljs markdown"><span class="hljs-section">Installation
============</span>

Make sure Composer is installed globally, as explained in the
[<span class="hljs-string">installation chapter</span>](<span class="hljs-link">https://getcomposer.org/doc/00-intro.md</span>)
of the Composer documentation.

<span class="hljs-section">Applications that use Symfony Flex
----------------------------------</span>

Open a command console, enter your project directory and execute:

<span class="hljs-code">```console
$ composer require &lt;package-name&gt;
```</span>

<span class="hljs-section">Applications that don't use Symfony Flex
----------------------------------------</span>

<span class="hljs-section">### Step 1: Download the Bundle</span>

Open a command console, enter your project directory and execute the
following command to download the latest stable version of this bundle:

<span class="hljs-code">```console
$ composer require &lt;package-name&gt;
```</span>

<span class="hljs-section">### Step 2: Enable the Bundle</span>

Then, enable the bundle by adding it to the list of registered bundles
in the <span class="hljs-code">`config/bundles.php`</span> file of your project:

<span class="hljs-code">```php
// config/bundles.php

return [
    // ...
    &lt;vendor&gt;\&lt;bundle-name&gt;\&lt;bundle-long-name&gt;::class =&gt; ['all' =&gt; true],
];
```</span></pre>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
        </div>
            <div role="tabpanel" id="configuration-block-tabpanel-d3650343ef3a1099a3d9d873c46a9af707e701f0" aria-label="RST" class="configuration-codeblock" data-language="rst" style="display: none">
            <div translate="no" class="highlight-rst highlight-markdown notranslate">
    <table class="highlighttable">
        <tbody>
            <tr>
                <td class="linenos">
                    <div class="linenodiv">
                        <pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40</pre>
                    </div>
                </td>
                <td class="code">
                    <div class="highlight">
                        <pre class="hljs rst markdown"><span class="hljs-section">Installation
============</span>

Make sure Composer is installed globally, as explained in the
<span class="hljs-code">`installation chapter`</span>_ of the Composer documentation.

----------------------------------

Open a command console, enter your project directory and execute:

.. code-block:: bash

<span class="hljs-code">    $ composer require &lt;package-name&gt;</span>

<span class="hljs-section">Applications that don't use Symfony Flex
----------------------------------------</span>

Step 1: Download the Bundle
~~~~~~~~~~~~~~~~~~~~~~~~~~~

Open a command console, enter your project directory and execute the
following command to download the latest stable version of this bundle:

.. code-block:: terminal

<span class="hljs-code">    $ composer require &lt;package-name&gt;</span>

Step 2: Enable the Bundle
~~~~~~~~~~~~~~~~~~~~~~~~~

Then, enable the bundle by adding it to the list of registered bundles
in the <span class="hljs-code">``config/bundles.php`</span>` file of your project::

<span class="hljs-code">    // config/bundles.php</span>
<span class="hljs-code">    return [</span>
<span class="hljs-code">        // ...</span>
<span class="hljs-code">        &lt;vendor&gt;\&lt;bundle-name&gt;\&lt;bundle-long-name&gt;::class =&gt; ['all' =&gt; true],</span>
<span class="hljs-code">    ];</span>

.. _<span class="hljs-code">`installation chapter`</span>: https://getcomposer.org/doc/00-intro.md</pre>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
        </div>
    </div>
<p>The example above assumes that you are installing the latest stable version of
the bundle, where you don't have to provide the package version number
(e.g. <code translate="no" class="notranslate">composer require friendsofsymfony/user-bundle</code>). If the installation
instructions refer to some past bundle version or to some unstable version,
include the version constraint (e.g. <code translate="no" class="notranslate">composer require friendsofsymfony/user-bundle &quot;~2.0@dev&quot;</code>).</p>
<p>Optionally, you can add more installation steps (<em>Step 3</em>, <em>Step 4</em>, etc.) to
explain other required installation tasks, such as registering routes or
dumping assets.</p>
</div>
</div>
<div class="section">
<h2 id="routing">
    Routing
    <a class="headerlink" href="#routing" title="Permalink to this headline">¶</a>
</h2>
<p>If the bundle provides routes, they must be prefixed with the bundle alias.
For example, if your bundle is called AcmeBlogBundle, all its routes must be
prefixed with <code translate="no" class="notranslate">acme_blog_</code>.</p>
</div>
<div class="section">
<h2 id="templates">
    Templates
    <a class="headerlink" href="#templates" title="Permalink to this headline">¶</a>
</h2>
<p>If a bundle provides templates, they must use Twig. A bundle must not provide
a main layout, except if it provides a full working application.</p>
</div>
<div class="section">
<h2 id="translation-files">
    Translation Files
    <a class="headerlink" href="#translation-files" title="Permalink to this headline">¶</a>
</h2>
<p>If a bundle provides message translations, they must be defined in the XLIFF
format; the domain should be named after the bundle name (<code translate="no" class="notranslate">acme_blog</code>).</p>
<p>A bundle must not override existing messages from another bundle.</p>
</div>
<div class="section">
<h2 id="configuration">
    Configuration
    <a class="headerlink" href="#configuration" title="Permalink to this headline">¶</a>
</h2>
<p>To provide more flexibility, a bundle can provide configurable settings by
using the Symfony built-in mechanisms.</p>
<p>For simple configuration settings, rely on the default <code translate="no" class="notranslate">parameters</code> entry of
the Symfony configuration. Symfony parameters are simple key/value pairs; a
value being any valid PHP value. Each parameter name should start with the
bundle alias, though this is just a best-practice suggestion. The rest of the
parameter name will use a period (<code translate="no" class="notranslate">.</code>) to separate different parts (e.g.
<code translate="no" class="notranslate">acme_blog.author.email</code>).</p>
<p>The end user can provide values in any configuration file:</p>
<div class="configuration-block">
    <div role="tablist" aria-label="Configuration formats" class="configuration-tabs configuration-tabs-length-3">
                    <button role="tab" type="button" data-language="yaml"
                aria-controls="configuration-block-tabpanel-592f8ee9d0fe7ae3fd49b6f36753d0f3dbfec66e" aria-selected="true"
                data-active="true" >
                <span>YAML</span>
            </button>
                    <button role="tab" type="button" data-language="xml"
                aria-controls="configuration-block-tabpanel-22c56e4e0fd04fa80096a89b4337fb46eaae8f13" aria-selected="false"
                 tabindex="-1">
                <span>XML</span>
            </button>
                    <button role="tab" type="button" data-language="php"
                aria-controls="configuration-block-tabpanel-e7961950ab44fd2070ae91ac04b23f9b92e9a32d" aria-selected="false"
                 tabindex="-1">
                <span>PHP</span>
            </button>
            </div>

            <div role="tabpanel" id="configuration-block-tabpanel-592f8ee9d0fe7ae3fd49b6f36753d0f3dbfec66e" aria-label="YAML" class="configuration-codeblock" data-language="yaml" style="">
            <div translate="no" class="highlight-yaml notranslate">
    <table class="highlighttable">
        <tbody>
            <tr>
                <td class="linenos">
                    <div class="linenodiv">
                        <pre>1
2
3</pre>
                    </div>
                </td>
                <td class="code">
                    <div class="highlight">
                        <pre class="hljs yaml"><span class="hljs-comment"># config/services.yaml</span>
<span class="hljs-attr">parameters:</span>
    <span class="hljs-attr">acme_blog.author.email:</span> <span class="hljs-string">'fabien@example.com'</span></pre>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
        </div>
            <div role="tabpanel" id="configuration-block-tabpanel-22c56e4e0fd04fa80096a89b4337fb46eaae8f13" aria-label="XML" class="configuration-codeblock" data-language="xml" style="display: none">
            <div translate="no" class="highlight-xml notranslate">
    <table class="highlighttable">
        <tbody>
            <tr>
                <td class="linenos">
                    <div class="linenodiv">
                        <pre>1
2
3
4
5
6
7
8
9
10
11
12</pre>
                    </div>
                </td>
                <td class="code">
                    <div class="highlight">
                        <pre class="hljs xml"><span class="hljs-comment">&lt;!-- config/services.xml --&gt;</span>
<span class="hljs-meta">&lt;?xml version="1.0" encoding="UTF-8" ?&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">container</span> <span class="hljs-attr">xmlns</span>=<span class="hljs-string">"http://symfony.com/schema/dic/services"</span>
    <span class="hljs-attr">xmlns:xsi</span>=<span class="hljs-string">"http://www.w3.org/2001/XMLSchema-instance"</span>
    <span class="hljs-attr">xsi:schemaLocation</span>=<span class="hljs-string">"http://symfony.com/schema/dic/services
        https://symfony.com/schema/dic/services/services-1.0.xsd"</span>
&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">parameters</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">parameter</span> <span class="hljs-attr">key</span>=<span class="hljs-string">"acme_blog.author.email"</span>&gt;</span>fabien@example.com<span class="hljs-tag">&lt;/<span class="hljs-name">parameter</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">parameters</span>&gt;</span>

<span class="hljs-tag">&lt;/<span class="hljs-name">container</span>&gt;</span></pre>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
        </div>
            <div role="tabpanel" id="configuration-block-tabpanel-e7961950ab44fd2070ae91ac04b23f9b92e9a32d" aria-label="PHP" class="configuration-codeblock" data-language="php" style="display: none">
            <div translate="no" class="highlight-php notranslate">
    <table class="highlighttable">
        <tbody>
            <tr>
                <td class="linenos">
                    <div class="linenodiv">
                        <pre>1
2
3
4
5
6
7
8</pre>
                    </div>
                </td>
                <td class="code">
                    <div class="highlight">
                        <pre class="hljs php"><span class="hljs-comment">// config/services.php</span>
<span class="hljs-keyword">namespace</span> <span class="hljs-title">Symfony</span>\<span class="hljs-title">Component</span>\<span class="hljs-title">DependencyInjection</span>\<span class="hljs-title">Loader</span>\<span class="hljs-title">Configurator</span>;

<span class="hljs-keyword">return</span> <span class="hljs-keyword">static</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(ContainerConfigurator <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>containerConfigurator</span>)</span> </span>{
    <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>containerConfigurator</span><span class="hljs-operator">-&gt;</span>parameters()
        <span class="hljs-operator">-&gt;</span>set(<span class="hljs-string">'acme_blog.author.email'</span>, <span class="hljs-string">'fabien@example.com'</span>)
    ;
};</pre>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
        </div>
    </div>
<p>Retrieve the configuration parameters in your code from the container:</p>
<div translate="no" class="highlight-php notranslate">
    <table class="highlighttable">
        <tbody>
            <tr>
                <td class="linenos">
                    <div class="linenodiv">
                        <pre>1</pre>
                    </div>
                </td>
                <td class="code">
                    <div class="highlight">
                        <pre class="hljs php"><span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>container</span><span class="hljs-operator">-&gt;</span>getParameter(<span class="hljs-string">'acme_blog.author.email'</span>);</pre>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
<p>While this mechanism requires the least effort, you should consider using the
more advanced <a href="configuration.html" class="reference internal">semantic bundle configuration</a> to
make your configuration more robust.</p>
</div>
<div class="section">
<h2 id="versioning">
    Versioning
    <a class="headerlink" href="#versioning" title="Permalink to this headline">¶</a>
</h2>
<p>Bundles must be versioned following the <a href="https://semver.org/" class="reference external" rel="external noopener noreferrer" target="_blank">Semantic Versioning Standard</a>.</p>
</div>
<div class="section">
<h2 id="services">
    Services
    <a class="headerlink" href="#services" title="Permalink to this headline">¶</a>
</h2>
<p>If the bundle defines services, they must be prefixed with the bundle alias
instead of using fully qualified class names like you do in your project
services. For example, AcmeBlogBundle services must be prefixed with <code translate="no" class="notranslate">acme_blog</code>.
The reason is that bundles shouldn't rely on features such as service autowiring
or autoconfiguration to not impose an overhead when compiling application services.</p>
<p>In addition, services not meant to be used by the application directly, should
be <a href="../service_container/alias_private.html#container-private-services" class="reference internal">defined as private</a>. For public services,
<a href="../service_container/autowiring.html#service-autowiring-alias" class="reference internal">aliases should be created</a> from the interface/class
to the service id. For example, in MonologBundle, an alias is created from
<code translate="no" class="notranslate">Psr\Log\LoggerInterface</code> to <code translate="no" class="notranslate">logger</code> so that the <code translate="no" class="notranslate">LoggerInterface</code> type-hint
can be used for autowiring.</p>
<p>Services should not use autowiring or autoconfiguration. Instead, all services should
be defined explicitly.</p>
<div class="admonition admonition-seealso ">
    <p class="admonition-title">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" width="24" height="24" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1" /></svg>
                <span>See also</span>
    </p><p>You can learn much more about service loading in bundles reading this article:
<a href="extension.html" class="reference internal">How to Load Service Configuration inside a Bundle</a>.</p>
</div>
</div>
<div class="section">
<h2 id="composer-metadata">
    Composer Metadata
    <a class="headerlink" href="#composer-metadata" title="Permalink to this headline">¶</a>
</h2>
<p>The <code translate="no" class="notranslate">composer.json</code> file should include at least the following metadata:</p>
<dl>
                        <dt><code translate="no" class="notranslate">name</code></dt>
        
        <dd>
                            Consists of the vendor and the short bundle name. If you are releasing the
bundle on your own instead of on behalf of a company, use your personal name
(e.g. <code translate="no" class="notranslate">johnsmith/blog-bundle</code>). Exclude the vendor name from the bundle
short name and separate each word with a hyphen. For example: AcmeBlogBundle
is transformed into <code translate="no" class="notranslate">blog-bundle</code> and AcmeSocialConnectBundle is
transformed into <code translate="no" class="notranslate">social-connect-bundle</code>.
                    </dd>
                        <dt><code translate="no" class="notranslate">description</code></dt>
        
        <dd>
                            A brief explanation of the purpose of the bundle.
                    </dd>
                        <dt><code translate="no" class="notranslate">type</code></dt>
        
        <dd>
                            Use the <code translate="no" class="notranslate">symfony-bundle</code> value.
                    </dd>
                        <dt><code translate="no" class="notranslate">license</code></dt>
        
        <dd>
                            a string (or array of strings) with a <a href="https://spdx.org/licenses/" class="reference external" rel="external noopener noreferrer" target="_blank">valid license identifier</a>, such as <code translate="no" class="notranslate">MIT</code>.
                    </dd>
                        <dt><code translate="no" class="notranslate">autoload</code></dt>
        
        <dd>
                            <p class="first">This information is used by Symfony to load the classes of the bundle. It's
recommended to use the <a href="https://www.php-fig.org/psr/psr-4/" class="reference external" rel="external noopener noreferrer" target="_blank">PSR-4</a> autoload standard: use the namespace as key,
and the location of the bundle's main class (relative to <code translate="no" class="notranslate">composer.json</code>)
as value. As the main class is located in the <code translate="no" class="notranslate">src/</code> directory of the bundle:</p>
                            <div translate="no" class="highlight-json notranslate">
    <table class="highlighttable">
        <tbody>
            <tr>
                <td class="linenos">
                    <div class="linenodiv">
                        <pre>1
2
3
4
5
6
7
8
9
10
11
12</pre>
                    </div>
                </td>
                <td class="code">
                    <div class="highlight">
                        <pre class="hljs json">{
    <span class="hljs-attr">"autoload"</span>: {
        <span class="hljs-attr">"psr-4"</span>: {
            <span class="hljs-attr">"Acme\\BlogBundle\\"</span>: <span class="hljs-string">"src/"</span>
        }
    },
    <span class="hljs-attr">"autoload-dev"</span>: {
        <span class="hljs-attr">"psr-4"</span>: {
            <span class="hljs-attr">"Acme\\BlogBundle\\Tests\\"</span>: <span class="hljs-string">"tests/"</span>
        }
    }
}</pre>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
                    </dd>
    </dl>
<p>In order to make it easier for developers to find your bundle, register it on
<a href="https://packagist.org/" class="reference external" rel="external noopener noreferrer" target="_blank">Packagist</a>, the official repository for Composer packages.</p>
</div>
<div class="section">
<h2 id="resources">
    Resources
    <a class="headerlink" href="#resources" title="Permalink to this headline">¶</a>
</h2>
<p>If the bundle references any resources (config files, translation files, etc.),
don't use physical paths (e.g. <code translate="no" class="notranslate">__DIR__/config/services.xml</code>) but logical
paths (e.g. <code translate="no" class="notranslate">@AcmeBlogBundle/config/services.xml</code>).</p>
<p>The logical paths are required because of the bundle overriding mechanism that
lets you override any resource/file of any bundle. See <a href="../components/http_kernel.html#http-kernel-resource-locator" class="reference internal">The HttpKernel Component</a>
for more details about transforming physical paths into logical paths.</p>
<p>Beware that templates use a simplified version of the logical path shown above.
For example, an <code translate="no" class="notranslate">index.html.twig</code> template located in the <code translate="no" class="notranslate">templates/Default/</code>
directory of the AcmeBlogBundle, is referenced as <code translate="no" class="notranslate">@AcmeBlog/Default/index.html.twig</code>.</p>
</div>
<div class="section">
<h2 id="learn-more">
    Learn more
    <a class="headerlink" href="#learn-more" title="Permalink to this headline">¶</a>
</h2>
<ul>
    <li><a href="extension.html" class="reference internal">How to Load Service Configuration inside a Bundle</a></li>
<li><a href="configuration.html" class="reference internal">How to Create Friendly Configuration for a Bundle</a></li>
</ul>
</div>
</div>

                            </div>                    </div>
                                    </div>        </div>

    </section>

</div>


<script type="text/javascript" src="assets/js/theme.js"></script>
<script type="text/javascript" src="assets/js/badge_only.js"></script>

 
</body>
</html>