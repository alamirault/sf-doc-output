        
<!DOCTYPE html>
<!--[if IE 8]>
<html class="no-js lt-ie9" lang="en"> <![endif]-->
<!--[if gt IE 8]><!-->
<html class="no-js" lang="en"> <!--<![endif]-->
<head><base href="/">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
            
                                
    
    <link rel="stylesheet" href="assets/css/theme.css" type="text/css" />
    <link rel="stylesheet" href="assets/css/highlightjs.css" type="text/css" />
    <link rel="stylesheet" href="assets/css/badge_only.css" type="text/css" />

</head>

<body class="wy-body-for-nav">
 <div class="wy-grid-for-nav">

        <nav data-toggle="wy-nav-shift" class="wy-nav-side">
        <div class="wy-side-scroll">
            <div class="wy-side-nav-search">
                
                                                                                                    
                                                                                                                                                                        </div>

            <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
                                                                                                                                                                                                                                                                                                                            </div>
        </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

                                                        

        <div class="wy-nav-content">                <div class="rst-content">
                                        <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">                            <div itemprop="articleBody">
                                    <div class="section">
<h1 id="how-to-create-friendly-configuration-for-a-bundle">
    How to Create Friendly Configuration for a Bundle
    <a class="headerlink" href="#how-to-create-friendly-configuration-for-a-bundle" title="Permalink to this headline">¶</a>
</h1>
<p>If you open your main application configuration directory (usually
<code translate="no" class="notranslate">config/packages/</code>), you'll see a number of different files, such as
<code translate="no" class="notranslate">framework.yaml</code>, <code translate="no" class="notranslate">twig.yaml</code> and <code translate="no" class="notranslate">doctrine.yaml</code>. Each of these
configures a specific bundle, allowing you to define options at a high level and
then let the bundle make all the low-level, complex changes based on your
settings.</p>
<p>For example, the following configuration tells the FrameworkBundle to enable the
form integration, which involves the definition of quite a few services as well
as integration of other related components:</p>
<div class="configuration-block">
    <div role="tablist" aria-label="Configuration formats" class="configuration-tabs configuration-tabs-length-3">
                    <button role="tab" type="button" data-language="yaml"
                aria-controls="configuration-block-tabpanel-13cf7eef110c1de0cb9e6542a2e3fca32f43e5dd" aria-selected="true"
                data-active="true" >
                <span>YAML</span>
            </button>
                    <button role="tab" type="button" data-language="xml"
                aria-controls="configuration-block-tabpanel-b3a4ee9eb2670cda25b5acc26b4512c289771d43" aria-selected="false"
                 tabindex="-1">
                <span>XML</span>
            </button>
                    <button role="tab" type="button" data-language="php"
                aria-controls="configuration-block-tabpanel-9531c8a9bf63beb764dc20f1c4e530fb1f1c8fc0" aria-selected="false"
                 tabindex="-1">
                <span>PHP</span>
            </button>
            </div>

            <div role="tabpanel" id="configuration-block-tabpanel-13cf7eef110c1de0cb9e6542a2e3fca32f43e5dd" aria-label="YAML" class="configuration-codeblock" data-language="yaml" style="">
            <div translate="no" class="highlight-yaml notranslate">
    <table class="highlighttable">
        <tbody>
            <tr>
                <td class="linenos">
                    <div class="linenodiv">
                        <pre>1
2
3</pre>
                    </div>
                </td>
                <td class="code">
                    <div class="highlight">
                        <pre class="hljs yaml"><span class="hljs-comment"># config/packages/framework.yaml</span>
<span class="hljs-attr">framework:</span>
    <span class="hljs-attr">form:</span> <span class="hljs-literal">true</span></pre>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
        </div>
            <div role="tabpanel" id="configuration-block-tabpanel-b3a4ee9eb2670cda25b5acc26b4512c289771d43" aria-label="XML" class="configuration-codeblock" data-language="xml" style="display: none">
            <div translate="no" class="highlight-xml notranslate">
    <table class="highlighttable">
        <tbody>
            <tr>
                <td class="linenos">
                    <div class="linenodiv">
                        <pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14</pre>
                    </div>
                </td>
                <td class="code">
                    <div class="highlight">
                        <pre class="hljs xml"><span class="hljs-comment">&lt;!-- config/packages/framework.xml --&gt;</span>
<span class="hljs-meta">&lt;?xml version="1.0" encoding="UTF-8" ?&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">container</span> <span class="hljs-attr">xmlns</span>=<span class="hljs-string">"http://symfony.com/schema/dic/services"</span>
    <span class="hljs-attr">xmlns:xsi</span>=<span class="hljs-string">"http://www.w3.org/2001/XMLSchema-instance"</span>
    <span class="hljs-attr">xmlns:framework</span>=<span class="hljs-string">"http://symfony.com/schema/dic/symfony"</span>
    <span class="hljs-attr">xsi:schemaLocation</span>=<span class="hljs-string">"http://symfony.com/schema/dic/services
        https://symfony.com/schema/dic/services/services-1.0.xsd
        http://symfony.com/schema/dic/symfony
        https://symfony.com/schema/dic/symfony/symfony-1.0.xsd"</span>
&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">framework:config</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">framework:form</span>/&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">framework:config</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">container</span>&gt;</span></pre>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
        </div>
            <div role="tabpanel" id="configuration-block-tabpanel-9531c8a9bf63beb764dc20f1c4e530fb1f1c8fc0" aria-label="PHP" class="configuration-codeblock" data-language="php" style="display: none">
            <div translate="no" class="highlight-php notranslate">
    <table class="highlighttable">
        <tbody>
            <tr>
                <td class="linenos">
                    <div class="linenodiv">
                        <pre>1
2
3
4
5
6</pre>
                    </div>
                </td>
                <td class="code">
                    <div class="highlight">
                        <pre class="hljs php"><span class="hljs-comment">// config/packages/framework.php</span>
<span class="hljs-keyword">use</span> <span class="hljs-title">Symfony</span>\<span class="hljs-title">Config</span>\<span class="hljs-title">FrameworkConfig</span>;

<span class="hljs-keyword">return</span> <span class="hljs-keyword">static</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(FrameworkConfig <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>framework</span>)</span> </span>{
    <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>framework</span><span class="hljs-operator">-&gt;</span>form()<span class="hljs-operator">-&gt;</span>enabled(<span class="hljs-keyword">true</span>);
};</pre>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
        </div>
    </div>
<div class="section">
<h2 id="using-the-bundle-extension">
    Using the Bundle Extension
    <a class="headerlink" href="#using-the-bundle-extension" title="Permalink to this headline">¶</a>
</h2>
<p>Imagine you are creating a new bundle - AcmeSocialBundle - which provides
integration with Twitter. To make your bundle configurable to the user, you
can add some configuration that looks like this:</p>
<div class="configuration-block">
    <div role="tablist" aria-label="Configuration formats" class="configuration-tabs configuration-tabs-length-3">
                    <button role="tab" type="button" data-language="yaml"
                aria-controls="configuration-block-tabpanel-df15a3ec6b7838b4b643600e79f14ea89f556ab2" aria-selected="true"
                data-active="true" >
                <span>YAML</span>
            </button>
                    <button role="tab" type="button" data-language="xml"
                aria-controls="configuration-block-tabpanel-501268c95d17ca198d623a445bcc209bac0e53eb" aria-selected="false"
                 tabindex="-1">
                <span>XML</span>
            </button>
                    <button role="tab" type="button" data-language="php"
                aria-controls="configuration-block-tabpanel-e291250471b79b21ac2f1d0fe29d6d6c863022c7" aria-selected="false"
                 tabindex="-1">
                <span>PHP</span>
            </button>
            </div>

            <div role="tabpanel" id="configuration-block-tabpanel-df15a3ec6b7838b4b643600e79f14ea89f556ab2" aria-label="YAML" class="configuration-codeblock" data-language="yaml" style="">
            <div translate="no" class="highlight-yaml notranslate">
    <table class="highlighttable">
        <tbody>
            <tr>
                <td class="linenos">
                    <div class="linenodiv">
                        <pre>1
2
3
4
5</pre>
                    </div>
                </td>
                <td class="code">
                    <div class="highlight">
                        <pre class="hljs yaml"><span class="hljs-comment"># config/packages/acme_social.yaml</span>
<span class="hljs-attr">acme_social:</span>
    <span class="hljs-attr">twitter:</span>
        <span class="hljs-attr">client_id:</span> <span class="hljs-number">123</span>
        <span class="hljs-attr">client_secret:</span> <span class="hljs-string">your_secret</span></pre>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
        </div>
            <div role="tabpanel" id="configuration-block-tabpanel-501268c95d17ca198d623a445bcc209bac0e53eb" aria-label="XML" class="configuration-codeblock" data-language="xml" style="display: none">
            <div translate="no" class="highlight-xml notranslate">
    <table class="highlighttable">
        <tbody>
            <tr>
                <td class="linenos">
                    <div class="linenodiv">
                        <pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14</pre>
                    </div>
                </td>
                <td class="code">
                    <div class="highlight">
                        <pre class="hljs xml"><span class="hljs-comment">&lt;!-- config/packages/acme_social.xml --&gt;</span>
<span class="hljs-meta">&lt;?xml version="1.0" encoding="UTF-8" ?&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">container</span> <span class="hljs-attr">xmlns</span>=<span class="hljs-string">"http://symfony.com/schema/dic/services"</span>
    <span class="hljs-attr">xmlns:xsi</span>=<span class="hljs-string">"http://www.w3.org/2001/XMLSchema-instance"</span>
    <span class="hljs-attr">xmlns:acme-social</span>=<span class="hljs-string">"http://example.org/schema/dic/acme_social"</span>
    <span class="hljs-attr">xsi:schemaLocation</span>=<span class="hljs-string">"http://symfony.com/schema/dic/services
        https://symfony.com/schema/dic/services/services-1.0.xsd"</span>
&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">acme-social:config</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">acme-social:twitter</span> <span class="hljs-attr">client-id</span>=<span class="hljs-string">"123"</span>
            <span class="hljs-attr">client-secret</span>=<span class="hljs-string">"your_secret"</span>
        /&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">acme-social:config</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">container</span>&gt;</span></pre>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
        </div>
            <div role="tabpanel" id="configuration-block-tabpanel-e291250471b79b21ac2f1d0fe29d6d6c863022c7" aria-label="PHP" class="configuration-codeblock" data-language="php" style="display: none">
            <div translate="no" class="highlight-php notranslate">
    <table class="highlighttable">
        <tbody>
            <tr>
                <td class="linenos">
                    <div class="linenodiv">
                        <pre>1
2
3
4
5
6
7
8</pre>
                    </div>
                </td>
                <td class="code">
                    <div class="highlight">
                        <pre class="hljs php"><span class="hljs-comment">// config/packages/acme_social.php</span>
<span class="hljs-keyword">use</span> <span class="hljs-title">Symfony</span>\<span class="hljs-title">Config</span>\<span class="hljs-title">AcmeSocialConfig</span>;

<span class="hljs-keyword">return</span> <span class="hljs-keyword">static</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(AcmeSocialConfig <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>acmeSocial</span>)</span> </span>{
    <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>acmeSocial</span><span class="hljs-operator">-&gt;</span>twitter()
        <span class="hljs-operator">-&gt;</span>clientId(<span class="hljs-number">123</span>)
        <span class="hljs-operator">-&gt;</span>clientSecret(<span class="hljs-string">'your_secret'</span>);
};</pre>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
        </div>
    </div>
<p>The basic idea is that instead of having the user override individual
parameters, you let the user configure just a few, specifically created,
options. As the bundle developer, you then parse through that configuration and
load correct services and parameters inside an &quot;Extension&quot; class.</p>
<div class="admonition admonition-note ">
    <p class="admonition-title">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" width="24" height="24" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z" /></svg>
                <span>Note</span>
    </p><p>The root key of your bundle configuration (<code translate="no" class="notranslate">acme_social</code> in the previous
example) is automatically determined from your bundle name (it's the
<a href="https://en.wikipedia.org/wiki/Snake_case" class="reference external" rel="external noopener noreferrer" target="_blank">snake case</a> of the bundle name without the <code translate="no" class="notranslate">Bundle</code> suffix).</p>
</div>
<div class="admonition admonition-seealso ">
    <p class="admonition-title">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" width="24" height="24" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1" /></svg>
                <span>See also</span>
    </p><p>Read more about the extension in <a href="extension.html" class="reference internal">How to Load Service Configuration inside a Bundle</a>.</p>
</div>
<div class="admonition admonition-tip ">
    <p class="admonition-title">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" width="24" height="24" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z" /></svg>
                <span>Tip</span>
    </p><p>If a bundle provides an Extension class, then you should <em>not</em> generally
override any service container parameters from that bundle. The idea
is that if an Extension class is present, every setting that should be
configurable should be present in the configuration made available by
that class. In other words, the extension class defines all the public
configuration settings for which backward compatibility will be maintained.</p>
</div>
<div class="admonition admonition-seealso ">
    <p class="admonition-title">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" width="24" height="24" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1" /></svg>
                <span>See also</span>
    </p><p>For parameter handling within a dependency injection container see
<a href="../configuration/using_parameters_in_dic.html" class="reference internal">Using Parameters within a Dependency Injection Class</a>.</p>
</div>
<div class="section">
<h3 id="processing-the-configs-array">
    Processing the <code translate="no" class="notranslate">$configs</code> Array
    <a class="headerlink" href="#processing-the-configs-array" title="Permalink to this headline">¶</a>
</h3>
<p>First things first, you have to create an extension class as explained in
<a href="extension.html" class="reference internal">How to Load Service Configuration inside a Bundle</a>.</p>
<p>Whenever a user includes the <code translate="no" class="notranslate">acme_social</code> key (which is the DI alias) in a
configuration file, the configuration under it is added to an array of
configurations and passed to the <code translate="no" class="notranslate">load()</code> method of your extension (Symfony
automatically converts XML and YAML to an array).</p>
<p>For the configuration example in the previous section, the array passed to your
<code translate="no" class="notranslate">load()</code> method will look like this:</p>
<div translate="no" class="highlight-php notranslate">
    <table class="highlighttable">
        <tbody>
            <tr>
                <td class="linenos">
                    <div class="linenodiv">
                        <pre>1
2
3
4
5
6
7
8</pre>
                    </div>
                </td>
                <td class="code">
                    <div class="highlight">
                        <pre class="hljs php">[
    [
        <span class="hljs-string">'twitter'</span> =&gt; [
            <span class="hljs-string">'client_id'</span> =&gt; <span class="hljs-number">123</span>,
            <span class="hljs-string">'client_secret'</span> =&gt; <span class="hljs-string">'your_secret'</span>,
        ],
    ],
]</pre>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
<p>Notice that this is an <em>array of arrays</em>, not just a single flat array of the
configuration values. This is intentional, as it allows Symfony to parse several
configuration resources. For example, if <code translate="no" class="notranslate">acme_social</code> appears in another
configuration file - say <code translate="no" class="notranslate">config/packages/dev/acme_social.yaml</code> - with
different values beneath it, the incoming array might look like this:</p>
<div translate="no" class="highlight-php notranslate">
    <table class="highlighttable">
        <tbody>
            <tr>
                <td class="linenos">
                    <div class="linenodiv">
                        <pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15</pre>
                    </div>
                </td>
                <td class="code">
                    <div class="highlight">
                        <pre class="hljs php">[
    <span class="hljs-comment">// values from config/packages/acme_social.yaml</span>
    [
        <span class="hljs-string">'twitter'</span> =&gt; [
            <span class="hljs-string">'client_id'</span> =&gt; <span class="hljs-number">123</span>,
            <span class="hljs-string">'client_secret'</span> =&gt; <span class="hljs-string">'your_secret'</span>,
        ],
    ],
    <span class="hljs-comment">// values from config/packages/dev/acme_social.yaml</span>
    [
        <span class="hljs-string">'twitter'</span> =&gt; [
            <span class="hljs-string">'client_id'</span> =&gt; <span class="hljs-number">456</span>,
        ],
    ],
]</pre>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
<p>The order of the two arrays depends on which one is set first.</p>
<p>But don't worry! Symfony's Config component will help you merge these values,
provide defaults and give the user validation errors on bad configuration.
Here's how it works. Create a <code translate="no" class="notranslate">Configuration</code> class in the
<code translate="no" class="notranslate">DependencyInjection</code> directory and build a tree that defines the structure
of your bundle's configuration.</p>
<p>The <code translate="no" class="notranslate">Configuration</code> class to handle the sample configuration looks like:</p>
<div translate="no" class="highlight-php notranslate">
    <table class="highlighttable">
        <tbody>
            <tr>
                <td class="linenos">
                    <div class="linenodiv">
                        <pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26</pre>
                    </div>
                </td>
                <td class="code">
                    <div class="highlight">
                        <pre class="hljs php"><span class="hljs-comment">// src/Acme/SocialBundle/DependencyInjection/Configuration.php</span>
<span class="hljs-keyword">namespace</span> <span class="hljs-title">Acme</span>\<span class="hljs-title">SocialBundle</span>\<span class="hljs-title">DependencyInjection</span>;

<span class="hljs-keyword">use</span> <span class="hljs-title">Symfony</span>\<span class="hljs-title">Component</span>\<span class="hljs-title">Config</span>\<span class="hljs-title">Definition</span>\<span class="hljs-title">Builder</span>\<span class="hljs-title">TreeBuilder</span>;
<span class="hljs-keyword">use</span> <span class="hljs-title">Symfony</span>\<span class="hljs-title">Component</span>\<span class="hljs-title">Config</span>\<span class="hljs-title">Definition</span>\<span class="hljs-title">ConfigurationInterface</span>;

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Configuration</span> <span class="hljs-keyword">implements</span> <span class="hljs-title">ConfigurationInterface</span>
</span>{
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getConfigTreeBuilder</span><span class="hljs-params">()</span>
    </span>{
        <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>treeBuilder</span> = <span class="hljs-keyword">new</span> TreeBuilder(<span class="hljs-string">'acme_social'</span>);

        <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>treeBuilder</span><span class="hljs-operator">-&gt;</span>getRootNode()
            <span class="hljs-operator">-&gt;</span>children()
                <span class="hljs-operator">-&gt;</span>arrayNode(<span class="hljs-string">'twitter'</span>)
                    <span class="hljs-operator">-&gt;</span>children()
                        <span class="hljs-operator">-&gt;</span>integerNode(<span class="hljs-string">'client_id'</span>)<span class="hljs-operator">-&gt;</span>end()
                        <span class="hljs-operator">-&gt;</span>scalarNode(<span class="hljs-string">'client_secret'</span>)<span class="hljs-operator">-&gt;</span>end()
                    <span class="hljs-operator">-&gt;</span>end()
                <span class="hljs-operator">-&gt;</span>end() <span class="hljs-comment">// twitter</span>
            <span class="hljs-operator">-&gt;</span>end()
        ;

        <span class="hljs-keyword">return</span> <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>treeBuilder</span>;
    }
}</pre>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
<div class="admonition admonition-seealso ">
    <p class="admonition-title">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" width="24" height="24" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1" /></svg>
                <span>See also</span>
    </p><p>The <code translate="no" class="notranslate">Configuration</code> class can be much more complicated than shown here,
supporting &quot;prototype&quot; nodes, advanced validation, XML-specific normalization
and advanced merging. You can read more about this in
<a href="../components/config/definition.html" class="reference internal">the Config component documentation</a>. You
can also see it in action by checking out some core Configuration
classes, such as the one from the <a href="https://github.com/symfony/symfony/blob/master/src/Symfony/Bundle/FrameworkBundle/DependencyInjection/Configuration.php" class="reference external" rel="external noopener noreferrer" target="_blank">FrameworkBundle Configuration</a> or the
<a href="https://github.com/symfony/symfony/blob/master/src/Symfony/Bundle/TwigBundle/DependencyInjection/Configuration.php" class="reference external" rel="external noopener noreferrer" target="_blank">TwigBundle Configuration</a>.</p>
</div>
<p>This class can now be used in your <code translate="no" class="notranslate">load()</code> method to merge configurations and
force validation (e.g. if an additional option was passed, an exception will be
thrown):</p>
<div translate="no" class="highlight-php notranslate">
    <table class="highlighttable">
        <tbody>
            <tr>
                <td class="linenos">
                    <div class="linenodiv">
                        <pre>1
2
3
4
5
6
7
8
9
10</pre>
                    </div>
                </td>
                <td class="code">
                    <div class="highlight">
                        <pre class="hljs php"><span class="hljs-comment">// src/Acme/SocialBundle/DependencyInjection/AcmeSocialExtension.php</span>
<span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">load</span><span class="hljs-params">(array <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>configs</span>, ContainerBuilder <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>containerBuilder</span>)</span>
</span>{
    <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>configuration</span> = <span class="hljs-keyword">new</span> Configuration();

    <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>config</span> = <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>this</span><span class="hljs-operator">-&gt;</span>processConfiguration(<span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>configuration</span>, <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>configs</span>);

    <span class="hljs-comment">// you now have these 2 config keys</span>
    <span class="hljs-comment">// $config['twitter']['client_id'] and $config['twitter']['client_secret']</span>
}</pre>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
<p>The <code translate="no" class="notranslate">processConfiguration()</code> method uses the configuration tree you've defined
in the <code translate="no" class="notranslate">Configuration</code> class to validate, normalize and merge all the
configuration arrays together.</p>
<p>Now, you can use the <code translate="no" class="notranslate">$config</code> variable to modify a service provided by your bundle.
For example, imagine your bundle has the following example config:</p>
<div translate="no" class="highlight-xml notranslate">
    <table class="highlighttable">
        <tbody>
            <tr>
                <td class="linenos">
                    <div class="linenodiv">
                        <pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14</pre>
                    </div>
                </td>
                <td class="code">
                    <div class="highlight">
                        <pre class="hljs xml"><span class="hljs-comment">&lt;!-- src/Acme/SocialBundle/Resources/config/services.xml --&gt;</span>
<span class="hljs-meta">&lt;?xml version="1.0" encoding="UTF-8" ?&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">container</span> <span class="hljs-attr">xmlns</span>=<span class="hljs-string">"http://symfony.com/schema/dic/services"</span>
    <span class="hljs-attr">xmlns:xsi</span>=<span class="hljs-string">"http://www.w3.org/2001/XMLSchema-instance"</span>
    <span class="hljs-attr">xsi:schemaLocation</span>=<span class="hljs-string">"http://symfony.com/schema/dic/services
        https://symfony.com/schema/dic/services/services-1.0.xsd"</span>
&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">services</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">service</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"acme.social.twitter_client"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"Acme\SocialBundle\TwitterClient"</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">argument</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">argument</span>&gt;</span> <span class="hljs-comment">&lt;!-- will be filled in with client_id dynamically --&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">argument</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">argument</span>&gt;</span> <span class="hljs-comment">&lt;!-- will be filled in with client_secret dynamically --&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">service</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">services</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">container</span>&gt;</span></pre>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
<p>In your extension, you can load this and dynamically set its arguments:</p>
<div translate="no" class="highlight-php notranslate">
    <table class="highlighttable">
        <tbody>
            <tr>
                <td class="linenos">
                    <div class="linenodiv">
                        <pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18</pre>
                    </div>
                </td>
                <td class="code">
                    <div class="highlight">
                        <pre class="hljs php"><span class="hljs-comment">// src/Acme/SocialBundle/DependencyInjection/AcmeSocialExtension.php</span>
<span class="hljs-comment">// ...</span>

<span class="hljs-keyword">use</span> <span class="hljs-title">Symfony</span>\<span class="hljs-title">Component</span>\<span class="hljs-title">Config</span>\<span class="hljs-title">FileLocator</span>;
<span class="hljs-keyword">use</span> <span class="hljs-title">Symfony</span>\<span class="hljs-title">Component</span>\<span class="hljs-title">DependencyInjection</span>\<span class="hljs-title">Loader</span>\<span class="hljs-title">XmlFileLoader</span>;

<span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">load</span><span class="hljs-params">(array <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>configs</span>, ContainerBuilder <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>containerBuilder</span>)</span>
</span>{
    <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>loader</span> = <span class="hljs-keyword">new</span> XmlFileLoader(<span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>containerBuilder</span>, <span class="hljs-keyword">new</span> FileLocator(dirname(<span class="hljs-keyword">__DIR__</span>).<span class="hljs-string">'/Resources/config'</span>));
    <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>loader</span><span class="hljs-operator">-&gt;</span>load(<span class="hljs-string">'services.xml'</span>);

    <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>configuration</span> = <span class="hljs-keyword">new</span> Configuration();
    <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>config</span> = <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>this</span><span class="hljs-operator">-&gt;</span>processConfiguration(<span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>configuration</span>, <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>configs</span>);

    <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>definition</span> = <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>containerBuilder</span><span class="hljs-operator">-&gt;</span>getDefinition(<span class="hljs-string">'acme.social.twitter_client'</span>);
    <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>definition</span><span class="hljs-operator">-&gt;</span>replaceArgument(<span class="hljs-number">0</span>, <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>config</span>[<span class="hljs-string">'twitter'</span>][<span class="hljs-string">'client_id'</span>]);
    <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>definition</span><span class="hljs-operator">-&gt;</span>replaceArgument(<span class="hljs-number">1</span>, <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>config</span>[<span class="hljs-string">'twitter'</span>][<span class="hljs-string">'client_secret'</span>]);
}</pre>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
<div class="admonition admonition-tip ">
    <p class="admonition-title">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" width="24" height="24" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z" /></svg>
                <span>Tip</span>
    </p><p>Instead of calling <code translate="no" class="notranslate">processConfiguration()</code> in your extension each time you
provide some configuration options, you might want to use the
<a href="https://github.com/symfony/symfony/blob/5.4/src/Symfony/Component/HttpKernel/DependencyInjection/ConfigurableExtension.php" class="reference external" title="Symfony\Component\HttpKernel\DependencyInjection\ConfigurableExtension" rel="external noopener noreferrer" target="_blank">ConfigurableExtension</a>
to do this automatically for you:</p>
<div translate="no" class="highlight-php notranslate">
    <table class="highlighttable">
        <tbody>
            <tr>
                <td class="linenos">
                    <div class="linenodiv">
                        <pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14</pre>
                    </div>
                </td>
                <td class="code">
                    <div class="highlight">
                        <pre class="hljs php"><span class="hljs-comment">// src/Acme/HelloBundle/DependencyInjection/AcmeHelloExtension.php</span>
<span class="hljs-keyword">namespace</span> <span class="hljs-title">Acme</span>\<span class="hljs-title">HelloBundle</span>\<span class="hljs-title">DependencyInjection</span>;

<span class="hljs-keyword">use</span> <span class="hljs-title">Symfony</span>\<span class="hljs-title">Component</span>\<span class="hljs-title">DependencyInjection</span>\<span class="hljs-title">ContainerBuilder</span>;
<span class="hljs-keyword">use</span> <span class="hljs-title">Symfony</span>\<span class="hljs-title">Component</span>\<span class="hljs-title">HttpKernel</span>\<span class="hljs-title">DependencyInjection</span>\<span class="hljs-title">ConfigurableExtension</span>;

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">AcmeHelloExtension</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">ConfigurableExtension</span>
</span>{
    <span class="hljs-comment">// note that this method is called loadInternal and not load</span>
    <span class="hljs-keyword">protected</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">loadInternal</span><span class="hljs-params">(array <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>mergedConfig</span>, ContainerBuilder <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>containerBuilder</span>)</span>
    </span>{
        <span class="hljs-comment">// ...</span>
    }
}</pre>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
<p>This class uses the <code translate="no" class="notranslate">getConfiguration()</code> method to get the Configuration
instance.</p>
</div>
<div class="admonition-wrapper"><div class="admonition admonition-sidebar"><p class="sidebar-title"><span>Processing the Configuration yourself</span></p><p>Using the Config component is fully optional. The <code translate="no" class="notranslate">load()</code> method gets an
array of configuration values. You can instead parse these arrays yourself
(e.g. by overriding configurations and using <a href="https://secure.php.net/manual/en/function.isset.php" class="reference external" title="isset" rel="external noopener noreferrer" target="_blank">isset</a> to check
for the existence of a value). Be aware that it'll be very hard to support XML:</p>
<div translate="no" class="highlight-php notranslate">
    <table class="highlighttable">
        <tbody>
            <tr>
                <td class="linenos">
                    <div class="linenodiv">
                        <pre>1
2
3
4
5
6
7
8
9
10</pre>
                    </div>
                </td>
                <td class="code">
                    <div class="highlight">
                        <pre class="hljs php"><span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">load</span><span class="hljs-params">(array <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>configs</span>, ContainerBuilder <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>containerBuilder</span>)</span>
</span>{
    <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>config</span> = [];
    <span class="hljs-comment">// let resources override the previous set value</span>
    <span class="hljs-keyword">foreach</span> (<span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>configs</span> <span class="hljs-keyword">as</span> <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>subConfig</span>) {
        <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>config</span> = array_merge(<span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>config</span>, <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>subConfig</span>);
    }

    <span class="hljs-comment">// ... now use the flat $config array</span>
}</pre>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
</div></div>
<span id="using-the-bundle-class"></span>
</div>
</div>
<div class="section">
<h2 id="using-the-abstractbundle-class">
    Using the AbstractBundle Class
    <a class="headerlink" href="#using-the-abstractbundle-class" title="Permalink to this headline">¶</a>
</h2>
<div class="admonition admonition-versionadded ">
    <p class="admonition-title">
                                    <span>6.1</span>
    </p><p>The <code translate="no" class="notranslate">AbstractBundle</code> class was introduced in Symfony 6.1.</p>
</div>
<p>As an alternative, instead of creating an extension and configuration class as
shown in the previous section, you can also extend
<a href="https://github.com/symfony/symfony/blob/5.4/src/Symfony/Component/HttpKernel/Bundle/AbstractBundle.php" class="reference external" title="Symfony\Component\HttpKernel\Bundle\AbstractBundle" rel="external noopener noreferrer" target="_blank">AbstractBundle</a> to add this
logic to the bundle class directly:</p>
<div translate="no" class="highlight-php notranslate">
    <table class="highlighttable">
        <tbody>
            <tr>
                <td class="linenos">
                    <div class="linenodiv">
                        <pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35</pre>
                    </div>
                </td>
                <td class="code">
                    <div class="highlight">
                        <pre class="hljs php"><span class="hljs-comment">// src/AcmeSocialBundle.php</span>
<span class="hljs-keyword">namespace</span> <span class="hljs-title">Acme</span>\<span class="hljs-title">SocialBundle</span>;

<span class="hljs-keyword">use</span> <span class="hljs-title">Symfony</span>\<span class="hljs-title">Component</span>\<span class="hljs-title">Config</span>\<span class="hljs-title">Definition</span>\<span class="hljs-title">Configurator</span>\<span class="hljs-title">DefinitionConfigurator</span>;
<span class="hljs-keyword">use</span> <span class="hljs-title">Symfony</span>\<span class="hljs-title">Component</span>\<span class="hljs-title">DependencyInjection</span>\<span class="hljs-title">ContainerBuilder</span>;
<span class="hljs-keyword">use</span> <span class="hljs-title">Symfony</span>\<span class="hljs-title">Component</span>\<span class="hljs-title">DependencyInjection</span>\<span class="hljs-title">Loader</span>\<span class="hljs-title">Configurator</span>\<span class="hljs-title">ContainerConfigurator</span>;
<span class="hljs-keyword">use</span> <span class="hljs-title">Symfony</span>\<span class="hljs-title">Component</span>\<span class="hljs-title">HttpKernel</span>\<span class="hljs-title">Bundle</span>\<span class="hljs-title">AbstractBundle</span>;

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">AcmeSocialBundle</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">AbstractBundle</span>
</span>{
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">configure</span><span class="hljs-params">(DefinitionConfigurator <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>definition</span>)</span>: <span class="hljs-title">void</span>
    </span>{
        <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>definition</span><span class="hljs-operator">-&gt;</span>rootNode()
            <span class="hljs-operator">-&gt;</span>children()
                <span class="hljs-operator">-&gt;</span>arrayNode(<span class="hljs-string">'twitter'</span>)
                    <span class="hljs-operator">-&gt;</span>children()
                        <span class="hljs-operator">-&gt;</span>integerNode(<span class="hljs-string">'client_id'</span>)<span class="hljs-operator">-&gt;</span>end()
                        <span class="hljs-operator">-&gt;</span>scalarNode(<span class="hljs-string">'client_secret'</span>)<span class="hljs-operator">-&gt;</span>end()
                    <span class="hljs-operator">-&gt;</span>end()
                <span class="hljs-operator">-&gt;</span>end() <span class="hljs-comment">// twitter</span>
            <span class="hljs-operator">-&gt;</span>end()
        ;
    }

    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">loadExtension</span><span class="hljs-params">(array <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>config</span>, ContainerConfigurator <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>containerConfigurator</span>, ContainerBuilder <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>containerBuilder</span>)</span>: <span class="hljs-title">void</span>
    </span>{
        <span class="hljs-comment">// Contrary to the Extension class, the "$config" variable is already merged</span>
        <span class="hljs-comment">// and processed. You can use it directly to configure the service container.</span>
        <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>containerConfigurator</span><span class="hljs-operator">-&gt;</span>services()
            <span class="hljs-operator">-&gt;</span>get(<span class="hljs-string">'acme.social.twitter_client'</span>)
            <span class="hljs-operator">-&gt;</span>arg(<span class="hljs-number">0</span>, <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>config</span>[<span class="hljs-string">'twitter'</span>][<span class="hljs-string">'client_id'</span>])
            <span class="hljs-operator">-&gt;</span>arg(<span class="hljs-number">1</span>, <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>config</span>[<span class="hljs-string">'twitter'</span>][<span class="hljs-string">'client_secret'</span>])
        ;
    }
}</pre>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
<div class="admonition admonition-note ">
    <p class="admonition-title">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" width="24" height="24" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z" /></svg>
                <span>Note</span>
    </p><p>The <code translate="no" class="notranslate">configure()</code> and <code translate="no" class="notranslate">loadExtension()</code> methods are called only at compile time.</p>
</div>
<div class="admonition admonition-tip ">
    <p class="admonition-title">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" width="24" height="24" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z" /></svg>
                <span>Tip</span>
    </p><p>The <code translate="no" class="notranslate">AbstractBundle::configure()</code> method also allows to import the
configuration definition from one or more files:</p>
<div translate="no" class="highlight-php notranslate">
    <table class="highlighttable">
        <tbody>
            <tr>
                <td class="linenos">
                    <div class="linenodiv">
                        <pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14</pre>
                    </div>
                </td>
                <td class="code">
                    <div class="highlight">
                        <pre class="hljs php"><span class="hljs-comment">// src/AcmeSocialBundle.php</span>

<span class="hljs-comment">// ...</span>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">AcmeSocialBundle</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">AbstractBundle</span>
</span>{
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">configure</span><span class="hljs-params">(DefinitionConfigurator <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>definition</span>)</span>: <span class="hljs-title">void</span>
    </span>{
        <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>definition</span><span class="hljs-operator">-&gt;</span>import(<span class="hljs-string">'../config/definition.php'</span>);
        <span class="hljs-comment">// you can also use glob patterns</span>
        <span class="hljs-comment">//$definition-&gt;import('../config/definition/*.php');</span>
    }

    <span class="hljs-comment">// ...</span>
}</pre>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
<div translate="no" class="highlight-php notranslate">
    <table class="highlighttable">
        <tbody>
            <tr>
                <td class="linenos">
                    <div class="linenodiv">
                        <pre>1
2
3
4
5
6
7
8
9
10</pre>
                    </div>
                </td>
                <td class="code">
                    <div class="highlight">
                        <pre class="hljs php"><span class="hljs-comment">// config/definition.php</span>
<span class="hljs-keyword">use</span> <span class="hljs-title">Symfony</span>\<span class="hljs-title">Component</span>\<span class="hljs-title">Config</span>\<span class="hljs-title">Definition</span>\<span class="hljs-title">Configurator</span>\<span class="hljs-title">DefinitionConfigurator</span>;

<span class="hljs-keyword">return</span> <span class="hljs-keyword">static</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(DefinitionConfigurator <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>definition</span>)</span> </span>{
    <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>definition</span><span class="hljs-operator">-&gt;</span>rootNode()
        <span class="hljs-operator">-&gt;</span>children()
            <span class="hljs-operator">-&gt;</span>scalarNode(<span class="hljs-string">'foo'</span>)<span class="hljs-operator">-&gt;</span>defaultValue(<span class="hljs-string">'bar'</span>)<span class="hljs-operator">-&gt;</span>end()
        <span class="hljs-operator">-&gt;</span>end()
    ;
};</pre>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
</div>
</div>
<div class="section">
<h2 id="modifying-the-configuration-of-another-bundle">
    Modifying the Configuration of Another Bundle
    <a class="headerlink" href="#modifying-the-configuration-of-another-bundle" title="Permalink to this headline">¶</a>
</h2>
<p>If you have multiple bundles that depend on each other, it may be useful to
allow one <code translate="no" class="notranslate">Extension</code> class to modify the configuration passed to another
bundle's <code translate="no" class="notranslate">Extension</code> class. This can be achieved using a prepend extension.
For more details, see <a href="prepend_extension.html" class="reference internal">How to Simplify Configuration of Multiple Bundles</a>.</p>
</div>
<div class="section">
<h2 id="dump-the-configuration">
    Dump the Configuration
    <a class="headerlink" href="#dump-the-configuration" title="Permalink to this headline">¶</a>
</h2>
<p>The <code translate="no" class="notranslate">config:dump-reference</code> command dumps the default configuration of a
bundle in the console using the Yaml format.</p>
<p>As long as your bundle's configuration is located in the standard location
(<code translate="no" class="notranslate">YourBundle\DependencyInjection\Configuration</code>) and does not have
a constructor, it will work automatically. If you
have something different, your <code translate="no" class="notranslate">Extension</code> class must override the
<a href="https://github.com/symfony/symfony/blob/5.4/src/Symfony/Component/DependencyInjection/Extension/Extension.php#method_getConfiguration" class="reference external" title="Symfony\Component\DependencyInjection\Extension\Extension::getConfiguration()" rel="external noopener noreferrer" target="_blank">Extension::getConfiguration()</a>
method and return an instance of your <code translate="no" class="notranslate">Configuration</code>.</p>
</div>
<div class="section">
<h2 id="supporting-xml">
    Supporting XML
    <a class="headerlink" href="#supporting-xml" title="Permalink to this headline">¶</a>
</h2>
<p>Symfony allows people to provide the configuration in three different formats:
Yaml, XML and PHP. Both Yaml and PHP use the same syntax and are supported by
default when using the Config component. Supporting XML requires you to do some
more things. But when sharing your bundle with others, it is recommended that
you follow these steps.</p>
<div class="section">
<h3 id="make-your-config-tree-ready-for-xml">
    Make your Config Tree ready for XML
    <a class="headerlink" href="#make-your-config-tree-ready-for-xml" title="Permalink to this headline">¶</a>
</h3>
<p>The Config component provides some methods by default to allow it to correctly
process XML configuration. See &quot;<a href="../components/config/definition.html#component-config-normalization" class="reference internal">Defining and Processing Configuration Values</a>&quot; of the
component documentation. However, you can do some optional things as well, this
will improve the experience of using XML configuration:</p>
</div>
<div class="section">
<h3 id="choosing-an-xml-namespace">
    Choosing an XML Namespace
    <a class="headerlink" href="#choosing-an-xml-namespace" title="Permalink to this headline">¶</a>
</h3>
<p>In XML, the <a href="https://en.wikipedia.org/wiki/XML_namespace" class="reference external" rel="external noopener noreferrer" target="_blank">XML namespace</a> is used to determine which elements belong to the
configuration of a specific bundle. The namespace is returned from the
<a href="https://github.com/symfony/symfony/blob/5.4/src/Symfony/Component/DependencyInjection/Extension/Extension.php#method_getNamespace" class="reference external" title="Symfony\Component\DependencyInjection\Extension\Extension::getNamespace()" rel="external noopener noreferrer" target="_blank">Extension::getNamespace()</a>
method. By convention, the namespace is a URL (it doesn't have to be a valid
URL nor does it need to exist). By default, the namespace for a bundle is
<code translate="no" class="notranslate">http://example.org/schema/dic/DI_ALIAS</code>, where <code translate="no" class="notranslate">DI_ALIAS</code> is the DI alias of
the extension. You might want to change this to a more professional URL:</p>
<div translate="no" class="highlight-php notranslate">
    <table class="highlighttable">
        <tbody>
            <tr>
                <td class="linenos">
                    <div class="linenodiv">
                        <pre>1
2
3
4
5
6
7
8
9
10
11
12</pre>
                    </div>
                </td>
                <td class="code">
                    <div class="highlight">
                        <pre class="hljs php"><span class="hljs-comment">// src/Acme/HelloBundle/DependencyInjection/AcmeHelloExtension.php</span>

<span class="hljs-comment">// ...</span>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">AcmeHelloExtension</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Extension</span>
</span>{
    <span class="hljs-comment">// ...</span>

    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getNamespace</span><span class="hljs-params">()</span>
    </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-string">'http://acme_company.com/schema/dic/hello'</span>;
    }
}</pre>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
</div>
<div class="section">
<h3 id="providing-an-xml-schema">
    Providing an XML Schema
    <a class="headerlink" href="#providing-an-xml-schema" title="Permalink to this headline">¶</a>
</h3>
<p>XML has a very useful feature called <a href="https://en.wikipedia.org/wiki/XML_schema" class="reference external" rel="external noopener noreferrer" target="_blank">XML schema</a>. This allows you to
describe all possible elements and attributes and their values in an XML Schema
Definition (an XSD file). This XSD file is used by IDEs for auto completion and
it is used by the Config component to validate the elements.</p>
<p>In order to use the schema, the XML configuration file must provide an
<code translate="no" class="notranslate">xsi:schemaLocation</code> attribute pointing to the XSD file for a certain XML
namespace. This location always starts with the XML namespace. This XML
namespace is then replaced with the XSD validation base path returned from
<a href="https://github.com/symfony/symfony/blob/5.4/src/Symfony/Component/DependencyInjection/Extension/ExtensionInterface.php#method_getXsdValidationBasePath" class="reference external" title="Symfony\Component\DependencyInjection\Extension\ExtensionInterface::getXsdValidationBasePath()" rel="external noopener noreferrer" target="_blank">Extension::getXsdValidationBasePath()</a>
method. This namespace is then followed by the rest of the path from the base
path to the file itself.</p>
<p>By convention, the XSD file lives in the <code translate="no" class="notranslate">Resources/config/schema/</code>, but you
can place it anywhere you like. You should return this path as the base path:</p>
<div translate="no" class="highlight-php notranslate">
    <table class="highlighttable">
        <tbody>
            <tr>
                <td class="linenos">
                    <div class="linenodiv">
                        <pre>1
2
3
4
5
6
7
8
9
10
11
12</pre>
                    </div>
                </td>
                <td class="code">
                    <div class="highlight">
                        <pre class="hljs php"><span class="hljs-comment">// src/Acme/HelloBundle/DependencyInjection/AcmeHelloExtension.php</span>

<span class="hljs-comment">// ...</span>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">AcmeHelloExtension</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Extension</span>
</span>{
    <span class="hljs-comment">// ...</span>

    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getXsdValidationBasePath</span><span class="hljs-params">()</span>
    </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">__DIR__</span>.<span class="hljs-string">'/../Resources/config/schema'</span>;
    }
}</pre>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
<p>Assuming the XSD file is called <code translate="no" class="notranslate">hello-1.0.xsd</code>, the schema location will be
<code translate="no" class="notranslate">https://acme_company.com/schema/dic/hello/hello-1.0.xsd</code>:</p>
<div translate="no" class="highlight-xml notranslate">
    <table class="highlighttable">
        <tbody>
            <tr>
                <td class="linenos">
                    <div class="linenodiv">
                        <pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16</pre>
                    </div>
                </td>
                <td class="code">
                    <div class="highlight">
                        <pre class="hljs xml"><span class="hljs-comment">&lt;!-- config/packages/acme_hello.xml --&gt;</span>
<span class="hljs-meta">&lt;?xml version="1.0" encoding="UTF-8" ?&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">container</span> <span class="hljs-attr">xmlns</span>=<span class="hljs-string">"http://symfony.com/schema/dic/services"</span>
    <span class="hljs-attr">xmlns:xsi</span>=<span class="hljs-string">"http://www.w3.org/2001/XMLSchema-instance"</span>
    <span class="hljs-attr">xmlns:acme-hello</span>=<span class="hljs-string">"http://acme_company.com/schema/dic/hello"</span>
    <span class="hljs-attr">xsi:schemaLocation</span>=<span class="hljs-string">"http://symfony.com/schema/dic/services
        https://symfony.com/schema/dic/services/services-1.0.xsd
        http://acme_company.com/schema/dic/hello
        https://acme_company.com/schema/dic/hello/hello-1.0.xsd"</span>
&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">acme-hello:config</span>&gt;</span>
        <span class="hljs-comment">&lt;!-- ... --&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">acme-hello:config</span>&gt;</span>

    <span class="hljs-comment">&lt;!-- ... --&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">container</span>&gt;</span></pre>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
</div>
</div>
</div>

                            </div>                    </div>
                                    </div>        </div>

    </section>

</div>


<script type="text/javascript" src="assets/js/theme.js"></script>
<script type="text/javascript" src="assets/js/badge_only.js"></script>

 
</body>
</html>