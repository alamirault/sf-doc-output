        
<!DOCTYPE html>
<!--[if IE 8]>
<html class="no-js lt-ie9" lang="en"> <![endif]-->
<!--[if gt IE 8]><!-->
<html class="no-js" lang="en"> <!--<![endif]-->
<head><base href="/">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
            
                                
    
    <link rel="stylesheet" href="assets/css/theme.css" type="text/css" />
    <link rel="stylesheet" href="assets/css/highlightjs.css" type="text/css" />
    <link rel="stylesheet" href="assets/css/badge_only.css" type="text/css" />

</head>

<body class="wy-body-for-nav">
 <div class="wy-grid-for-nav">

        <nav data-toggle="wy-nav-shift" class="wy-nav-side">
        <div class="wy-side-scroll">
            <div class="wy-side-nav-search">
                
                                                                                                    
                                                                                                                                                                        </div>

            <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
                                                                                                                                                                                                                                                                                                                            </div>
        </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

                                                        

        <div class="wy-nav-content">                <div class="rst-content">
                                        <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">                            <div itemprop="articleBody">
                                    <div class="section">
<h1 id="profiler">
    Profiler
    <a class="headerlink" href="#profiler" title="Permalink to this headline">¶</a>
</h1>
<p>The profiler is a powerful <strong>development tool</strong> that gives detailed information
about the execution of any request.</p>
<div class="admonition admonition-caution ">
    <p class="admonition-title">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" width="24" height="24" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" /></svg>
                <span>Caution</span>
    </p><p><strong>Never</strong> enable the profiler in production environments
as it will lead to major security vulnerabilities in your project.</p>
</div>
<div class="section">
<h2 id="installation">
    Installation
    <a class="headerlink" href="#installation" title="Permalink to this headline">¶</a>
</h2>
<p>In applications using <a href="setup.html#symfony-flex" class="reference internal">Symfony Flex</a>, run this command to
install the <code translate="no" class="notranslate">profiler</code> <a href="setup.html#symfony-packs" class="reference internal">Symfony pack</a> before using it:</p>
<div translate="no" class="highlight-terminal highlight-bash notranslate">
    <table class="highlighttable">
        <tbody>
            <tr>
                <td class="linenos">
                    <div class="linenodiv">
                        <pre>1</pre>
                    </div>
                </td>
                <td class="code">
                    <div class="highlight">
                        <pre class="hljs terminal bash"><span class="hljs-prompt">$ </span>composer require --dev symfony/profiler-pack</pre>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
<p>Now, browse any page of your application in the development environment to let
the profiler collect information. Then, click on any element of the debug
toolbar injected at the bottom of your pages to open the web interface of the
Symfony Profiler, which will look like this:</p>
<div class="with-browser"><img src="_images/web-interface.png" align="center" class="with-browser" />
</div>
<div class="admonition admonition-note ">
    <p class="admonition-title">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" width="24" height="24" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z" /></svg>
                <span>Note</span>
    </p><p>The debug toolbar is only injected into HTML responses. For other kinds of
contents (e.g. JSON responses in API requests) the profiler URL is available
in the <code translate="no" class="notranslate">X-Debug-Token-Link</code> HTTP response header. Browse the <code translate="no" class="notranslate">/_profiler</code>
URL to see all profiles.</p>
</div>
<div class="admonition admonition-versionadded ">
    <p class="admonition-title">
                                    <span>6.3</span>
    </p><p>Profile garbage collection was introduced in Symfony 6.3.</p>
</div>
<div class="admonition admonition-note ">
    <p class="admonition-title">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" width="24" height="24" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z" /></svg>
                <span>Note</span>
    </p><p>To limit the storage used by profiles on disk, they are probabilistically
removed after 2 days.</p>
</div>
</div>
<div class="section">
<h2 id="accessing-profiling-data-programmatically">
    Accessing Profiling Data Programmatically
    <a class="headerlink" href="#accessing-profiling-data-programmatically" title="Permalink to this headline">¶</a>
</h2>
<p>Most of the time, the profiler information is accessed and analyzed using its
web-based interface. However, you can also retrieve profiling information
programmatically thanks to the methods provided by the <code translate="no" class="notranslate">profiler</code> service.</p>
<p>When the response object is available, use the
<a href="https://github.com/symfony/symfony/blob/5.4/src/Symfony/Component/HttpKernel/Profiler/Profiler.php#method_loadProfileFromResponse" class="reference external" title="Symfony\Component\HttpKernel\Profiler\Profiler::loadProfileFromResponse()" rel="external noopener noreferrer" target="_blank">loadProfileFromResponse()</a>
method to access to its associated profile:</p>
<div translate="no" class="highlight-php notranslate">
    <table class="highlighttable">
        <tbody>
            <tr>
                <td class="linenos">
                    <div class="linenodiv">
                        <pre>1
2</pre>
                    </div>
                </td>
                <td class="code">
                    <div class="highlight">
                        <pre class="hljs php"><span class="hljs-comment">// ... $profiler is the 'profiler' service</span>
<span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>profile</span> = <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>profiler</span><span class="hljs-operator">-&gt;</span>loadProfileFromResponse(<span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>response</span>);</pre>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
<p>When the profiler stores data about a request, it also associates a token with it;
this token is available in the <code translate="no" class="notranslate">X-Debug-Token</code> HTTP header of the response.
Using this token, you can access the profile of any past response thanks to the
<a href="https://github.com/symfony/symfony/blob/5.4/src/Symfony/Component/HttpKernel/Profiler/Profiler.php#method_loadProfile" class="reference external" title="Symfony\Component\HttpKernel\Profiler\Profiler::loadProfile()" rel="external noopener noreferrer" target="_blank">loadProfile()</a> method:</p>
<div translate="no" class="highlight-php notranslate">
    <table class="highlighttable">
        <tbody>
            <tr>
                <td class="linenos">
                    <div class="linenodiv">
                        <pre>1
2</pre>
                    </div>
                </td>
                <td class="code">
                    <div class="highlight">
                        <pre class="hljs php"><span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>token</span> = <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>response</span><span class="hljs-operator">-&gt;</span>headers<span class="hljs-operator">-&gt;</span>get(<span class="hljs-string">'X-Debug-Token'</span>);
<span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>profile</span> = <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>profiler</span><span class="hljs-operator">-&gt;</span>loadProfile(<span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>token</span>);</pre>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
<div class="admonition admonition-tip ">
    <p class="admonition-title">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" width="24" height="24" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z" /></svg>
                <span>Tip</span>
    </p><p>When the profiler is enabled but not the web debug toolbar, inspect the page
with your browser's developer tools to get the value of the <code translate="no" class="notranslate">X-Debug-Token</code>
HTTP header.</p>
</div>
<p>The <code translate="no" class="notranslate">profiler</code> service also provides the
<a href="https://github.com/symfony/symfony/blob/5.4/src/Symfony/Component/HttpKernel/Profiler/Profiler.php#method_find" class="reference external" title="Symfony\Component\HttpKernel\Profiler\Profiler::find()" rel="external noopener noreferrer" target="_blank">find()</a> method to
look for tokens based on some criteria:</p>
<div translate="no" class="highlight-php notranslate">
    <table class="highlighttable">
        <tbody>
            <tr>
                <td class="linenos">
                    <div class="linenodiv">
                        <pre>1
2
3
4
5
6
7
8
9
10
11</pre>
                    </div>
                </td>
                <td class="code">
                    <div class="highlight">
                        <pre class="hljs php"><span class="hljs-comment">// gets the latest 10 tokens</span>
<span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>tokens</span> = <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>profiler</span><span class="hljs-operator">-&gt;</span>find(<span class="hljs-string">''</span>, <span class="hljs-string">''</span>, <span class="hljs-number">10</span>, <span class="hljs-string">''</span>, <span class="hljs-string">''</span>, <span class="hljs-string">''</span>);

<span class="hljs-comment">// gets the latest 10 tokens for all URL containing /admin/</span>
<span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>tokens</span> = <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>profiler</span><span class="hljs-operator">-&gt;</span>find(<span class="hljs-string">''</span>, <span class="hljs-string">'/admin/'</span>, <span class="hljs-number">10</span>, <span class="hljs-string">''</span>, <span class="hljs-string">''</span>, <span class="hljs-string">''</span>);

<span class="hljs-comment">// gets the latest 10 tokens for local POST requests</span>
<span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>tokens</span> = <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>profiler</span><span class="hljs-operator">-&gt;</span>find(<span class="hljs-string">'127.0.0.1'</span>, <span class="hljs-string">''</span>, <span class="hljs-number">10</span>, <span class="hljs-string">'POST'</span>, <span class="hljs-string">''</span>, <span class="hljs-string">''</span>);

<span class="hljs-comment">// gets the latest 10 tokens for requests that happened between 2 and 4 days ago</span>
<span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>tokens</span> = <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>profiler</span><span class="hljs-operator">-&gt;</span>find(<span class="hljs-string">''</span>, <span class="hljs-string">''</span>, <span class="hljs-number">10</span>, <span class="hljs-string">''</span>, <span class="hljs-string">'4 days ago'</span>, <span class="hljs-string">'2 days ago'</span>);</pre>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
</div>
<div class="section">
<h2 id="data-collectors">
    Data Collectors
    <a class="headerlink" href="#data-collectors" title="Permalink to this headline">¶</a>
</h2>
<p>The profiler gets its information using some services called &quot;data collectors&quot;.
Symfony comes with several collectors that get information about the request,
the logger, the routing, the cache, etc.</p>
<p>Run this command to get the list of collectors actually enabled in your app:</p>
<div translate="no" class="highlight-terminal highlight-bash notranslate">
    <table class="highlighttable">
        <tbody>
            <tr>
                <td class="linenos">
                    <div class="linenodiv">
                        <pre>1</pre>
                    </div>
                </td>
                <td class="code">
                    <div class="highlight">
                        <pre class="hljs terminal bash"><span class="hljs-prompt">$ </span>php bin/console debug:container --tag=data_collector</pre>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
<p>You can also <a href="profiler.html#profiler-data-collector" class="reference internal">create your own data collector</a> to
store any data generated by your app and display it in the debug toolbar and the
profiler web interface.</p>
<span id="profiler-timing-execution"></span>
</div>
<div class="section">
<h2 id="timing-the-execution-of-the-application">
    Timing the Execution of the Application
    <a class="headerlink" href="#timing-the-execution-of-the-application" title="Permalink to this headline">¶</a>
</h2>
<p>If you want to measure the time some tasks take in your application, there's no
need to create a custom data collector. Instead, use the built-in utilities to
<a href="performance.html#profiling-applications" class="reference internal">profile Symfony applications</a>.</p>
<div class="admonition admonition-tip ">
    <p class="admonition-title">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" width="24" height="24" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z" /></svg>
                <span>Tip</span>
    </p><p>Consider using a professional profiler such as <a href="https://blackfire.io/docs/introduction?utm_source=symfony&utm_medium=symfonycom_docs&utm_campaign=profiler" class="reference external" rel="external noopener noreferrer" target="_blank">Blackfire</a> to measure and
analyze the execution of your application in detail.</p>
</div>
<span id="enabling-the-profiler-conditionally"></span>
</div>
<div class="section">
<h2 id="enabling-the-profiler-programmatically">
    Enabling the Profiler Programmatically
    <a class="headerlink" href="#enabling-the-profiler-programmatically" title="Permalink to this headline">¶</a>
</h2>
<p>Symfony Profiler can be enabled and disabled programmatically. You can use the <code translate="no" class="notranslate">enable()</code>
and <code translate="no" class="notranslate">disable()</code> methods of the <a href="https://github.com/symfony/symfony/blob/5.4/src/Symfony/Component/HttpKernel/Profiler/Profiler.php" class="reference external" title="Symfony\Component\HttpKernel\Profiler\Profiler" rel="external noopener noreferrer" target="_blank">Profiler</a>
class in your controllers to manage the profiler programmatically:</p>
<div translate="no" class="highlight-php notranslate">
    <table class="highlighttable">
        <tbody>
            <tr>
                <td class="linenos">
                    <div class="linenodiv">
                        <pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18</pre>
                    </div>
                </td>
                <td class="code">
                    <div class="highlight">
                        <pre class="hljs php"><span class="hljs-keyword">use</span> <span class="hljs-title">Symfony</span>\<span class="hljs-title">Component</span>\<span class="hljs-title">HttpKernel</span>\<span class="hljs-title">Profiler</span>\<span class="hljs-title">Profiler</span>;
<span class="hljs-comment">// ...</span>

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">DefaultController</span>
</span>{
    <span class="hljs-comment">// ...</span>

    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">someMethod</span><span class="hljs-params">(?Profiler <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>profiler</span>)</span>
    </span>{
        <span class="hljs-comment">// $profiler won't be set if your environment doesn't have the profiler (like prod, by default)</span>
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">null</span> !== <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>profiler</span>) {
            <span class="hljs-comment">// if it exists, disable the profiler for this particular controller action</span>
            <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>profiler</span><span class="hljs-operator">-&gt;</span>disable();
        }

        <span class="hljs-comment">// ...</span>
    }
}</pre>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
<p>In order for the profiler to be injected into your controller you need to
create an alias pointing to the existing <code translate="no" class="notranslate">profiler</code> service:</p>
<div class="configuration-block">
    <div role="tablist" aria-label="Configuration formats" class="configuration-tabs configuration-tabs-length-3">
                    <button role="tab" type="button" data-language="yaml"
                aria-controls="configuration-block-tabpanel-5ad6a9358ca3fc02ebcafd53727c205556b06eb6" aria-selected="true"
                data-active="true" >
                <span>YAML</span>
            </button>
                    <button role="tab" type="button" data-language="xml"
                aria-controls="configuration-block-tabpanel-65e0446c645f9885b3d3d018833dd296a853ab03" aria-selected="false"
                 tabindex="-1">
                <span>XML</span>
            </button>
                    <button role="tab" type="button" data-language="php"
                aria-controls="configuration-block-tabpanel-bed160138d19144670bb956c3fc3f85497146b41" aria-selected="false"
                 tabindex="-1">
                <span>PHP</span>
            </button>
            </div>

            <div role="tabpanel" id="configuration-block-tabpanel-5ad6a9358ca3fc02ebcafd53727c205556b06eb6" aria-label="YAML" class="configuration-codeblock" data-language="yaml" style="">
            <div translate="no" class="highlight-yaml notranslate">
    <table class="highlighttable">
        <tbody>
            <tr>
                <td class="linenos">
                    <div class="linenodiv">
                        <pre>1
2
3</pre>
                    </div>
                </td>
                <td class="code">
                    <div class="highlight">
                        <pre class="hljs yaml"><span class="hljs-comment"># config/services_dev.yaml</span>
<span class="hljs-attr">services:</span>
    <span class="hljs-string">Symfony\Component\HttpKernel\Profiler\Profiler:</span> <span class="hljs-string">'@profiler'</span></pre>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
        </div>
            <div role="tabpanel" id="configuration-block-tabpanel-65e0446c645f9885b3d3d018833dd296a853ab03" aria-label="XML" class="configuration-codeblock" data-language="xml" style="display: none">
            <div translate="no" class="highlight-xml notranslate">
    <table class="highlighttable">
        <tbody>
            <tr>
                <td class="linenos">
                    <div class="linenodiv">
                        <pre>1
2
3
4
5
6
7
8
9
10
11</pre>
                    </div>
                </td>
                <td class="code">
                    <div class="highlight">
                        <pre class="hljs xml"><span class="hljs-comment">&lt;!-- config/services_dev.xml --&gt;</span>
<span class="hljs-meta">&lt;?xml version="1.0" encoding="UTF-8" ?&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">container</span> <span class="hljs-attr">xmlns</span>=<span class="hljs-string">"http://symfony.com/schema/dic/services"</span>
    <span class="hljs-attr">xmlns:xsi</span>=<span class="hljs-string">"http://www.w3.org/2001/XMLSchema-instance"</span>
    <span class="hljs-attr">xsi:schemaLocation</span>=<span class="hljs-string">"http://symfony.com/schema/dic/services
        https://symfony.com/schema/dic/services/services-1.0.xsd"</span>&gt;</span>

    <span class="hljs-tag">&lt;<span class="hljs-name">services</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">service</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"Symfony\Component\HttpKernel\Profiler\Profiler"</span> <span class="hljs-attr">alias</span>=<span class="hljs-string">"profiler"</span>/&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">services</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">container</span>&gt;</span></pre>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
        </div>
            <div role="tabpanel" id="configuration-block-tabpanel-bed160138d19144670bb956c3fc3f85497146b41" aria-label="PHP" class="configuration-codeblock" data-language="php" style="display: none">
            <div translate="no" class="highlight-php notranslate">
    <table class="highlighttable">
        <tbody>
            <tr>
                <td class="linenos">
                    <div class="linenodiv">
                        <pre>1
2
3
4</pre>
                    </div>
                </td>
                <td class="code">
                    <div class="highlight">
                        <pre class="hljs php"><span class="hljs-comment">// config/services_dev.php</span>
<span class="hljs-keyword">use</span> <span class="hljs-title">Symfony</span>\<span class="hljs-title">Component</span>\<span class="hljs-title">HttpKernel</span>\<span class="hljs-title">Profiler</span>\<span class="hljs-title">Profiler</span>;

<span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>container</span><span class="hljs-operator">-&gt;</span>setAlias(Profiler<span class="hljs-operator">::</span>class, <span class="hljs-string">'profiler'</span>);</pre>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
        </div>
    </div>
</div>
<div class="section">
<h2 id="updating-the-web-debug-toolbar-after-ajax-requests">
    Updating the Web Debug Toolbar After AJAX Requests
    <a class="headerlink" href="#updating-the-web-debug-toolbar-after-ajax-requests" title="Permalink to this headline">¶</a>
</h2>
<p><a href="https://en.wikipedia.org/wiki/Single-page_application" class="reference external" rel="external noopener noreferrer" target="_blank">Single-page applications</a> (SPA) are web applications that interact with the
user by dynamically rewriting the current page rather than loading entire new
pages from a server.</p>
<p>By default, the debug toolbar displays the information of the initial page load
and doesn't refresh after each AJAX request. However, you can set the
<code translate="no" class="notranslate">Symfony-Debug-Toolbar-Replace</code> header to a value of <code translate="no" class="notranslate">1</code> in the response to
the AJAX request to force the refresh of the toolbar:</p>
<div translate="no" class="highlight-php notranslate">
    <table class="highlighttable">
        <tbody>
            <tr>
                <td class="linenos">
                    <div class="linenodiv">
                        <pre>1</pre>
                    </div>
                </td>
                <td class="code">
                    <div class="highlight">
                        <pre class="hljs php"><span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>response</span><span class="hljs-operator">-&gt;</span>headers<span class="hljs-operator">-&gt;</span>set(<span class="hljs-string">'Symfony-Debug-Toolbar-Replace'</span>, <span class="hljs-number">1</span>);</pre>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
<p>Ideally this header should only be set during development and not for
production. To do that, create an <a href="event_dispatcher.html" class="reference internal">event subscriber</a>
and listen to the <a href="components/http_kernel.html#component-http-kernel-kernel-response" class="reference internal">kernel.response</a>
event:</p>
<div translate="no" class="highlight-php notranslate">
    <table class="highlighttable">
        <tbody>
            <tr>
                <td class="linenos">
                    <div class="linenodiv">
                        <pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30</pre>
                    </div>
                </td>
                <td class="code">
                    <div class="highlight">
                        <pre class="hljs php"><span class="hljs-keyword">use</span> <span class="hljs-title">Symfony</span>\<span class="hljs-title">Component</span>\<span class="hljs-title">EventDispatcher</span>\<span class="hljs-title">EventSubscriberInterface</span>;
<span class="hljs-keyword">use</span> <span class="hljs-title">Symfony</span>\<span class="hljs-title">Component</span>\<span class="hljs-title">HttpKernel</span>\<span class="hljs-title">Event</span>\<span class="hljs-title">ResponseEvent</span>;
<span class="hljs-keyword">use</span> <span class="hljs-title">Symfony</span>\<span class="hljs-title">Component</span>\<span class="hljs-title">HttpKernel</span>\<span class="hljs-title">KernelInterface</span>;

<span class="hljs-comment">// ...</span>

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MySubscriber</span> <span class="hljs-keyword">implements</span> <span class="hljs-title">EventSubscriberInterface</span>
</span>{
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">__construct</span><span class="hljs-params">(
        private KernelInterface <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>kernel</span>,
    )</span> </span>{
    }

    <span class="hljs-comment">// ...</span>

    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">onKernelResponse</span><span class="hljs-params">(ResponseEvent <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>event</span>)</span>
    </span>{
        <span class="hljs-keyword">if</span> (!<span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>this</span><span class="hljs-operator">-&gt;</span>kernel<span class="hljs-operator">-&gt;</span>isDebug()) {
            <span class="hljs-keyword">return</span>;
        }

        <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>request</span> = <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>event</span><span class="hljs-operator">-&gt;</span>getRequest();
        <span class="hljs-keyword">if</span> (!<span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>request</span><span class="hljs-operator">-&gt;</span>isXmlHttpRequest()) {
            <span class="hljs-keyword">return</span>;
        }

        <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>response</span> = <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>event</span><span class="hljs-operator">-&gt;</span>getResponse();
        <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>response</span><span class="hljs-operator">-&gt;</span>headers<span class="hljs-operator">-&gt;</span>set(<span class="hljs-string">'Symfony-Debug-Toolbar-Replace'</span>, <span class="hljs-number">1</span>);
    }
}</pre>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
<span id="profiler-data-collector"></span>
</div>
<div class="section">
<h2 id="creating-a-data-collector">
    Creating a Data Collector
    <a class="headerlink" href="#creating-a-data-collector" title="Permalink to this headline">¶</a>
</h2>
<p>The Symfony Profiler obtains its profiling and debug information using some
special classes called data collectors. Symfony comes bundled with a few of
them, but you can also create your own.</p>
<p>A data collector is a PHP class that implements the
<a href="https://github.com/symfony/symfony/blob/5.4/src/Symfony/Component/HttpKernel/DataCollector/DataCollectorInterface.php" class="reference external" title="Symfony\Component\HttpKernel\DataCollector\DataCollectorInterface" rel="external noopener noreferrer" target="_blank">DataCollectorInterface</a>.
For convenience, your data collectors can also extend from the
<a href="https://github.com/symfony/symfony/blob/5.4/src/Symfony/Bundle/FrameworkBundle/DataCollector/AbstractDataCollector.php" class="reference external" title="Symfony\Bundle\FrameworkBundle\DataCollector\AbstractDataCollector" rel="external noopener noreferrer" target="_blank">AbstractDataCollector</a>
class, which implements the interface and provides some utilities and the
<code translate="no" class="notranslate">$this-&gt;data</code> property to store the collected information.</p>
<p>The following example shows a custom collector that stores information about the
request:</p>
<div translate="no" class="highlight-php notranslate">
    <table class="highlighttable">
        <tbody>
            <tr>
                <td class="linenos">
                    <div class="linenodiv">
                        <pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17</pre>
                    </div>
                </td>
                <td class="code">
                    <div class="highlight">
                        <pre class="hljs php"><span class="hljs-comment">// src/DataCollector/RequestCollector.php</span>
<span class="hljs-keyword">namespace</span> <span class="hljs-title">App</span>\<span class="hljs-title">DataCollector</span>;

<span class="hljs-keyword">use</span> <span class="hljs-title">Symfony</span>\<span class="hljs-title">Bundle</span>\<span class="hljs-title">FrameworkBundle</span>\<span class="hljs-title">DataCollector</span>\<span class="hljs-title">AbstractDataCollector</span>;
<span class="hljs-keyword">use</span> <span class="hljs-title">Symfony</span>\<span class="hljs-title">Component</span>\<span class="hljs-title">HttpFoundation</span>\<span class="hljs-title">Request</span>;
<span class="hljs-keyword">use</span> <span class="hljs-title">Symfony</span>\<span class="hljs-title">Component</span>\<span class="hljs-title">HttpFoundation</span>\<span class="hljs-title">Response</span>;

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">RequestCollector</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">AbstractDataCollector</span>
</span>{
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">collect</span><span class="hljs-params">(Request <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>request</span>, Response <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>response</span>, \Throwable <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>exception</span> = null)</span>
    </span>{
        <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>this</span><span class="hljs-operator">-&gt;</span>data = [
            <span class="hljs-string">'method'</span> =&gt; <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>request</span><span class="hljs-operator">-&gt;</span>getMethod(),
            <span class="hljs-string">'acceptable_content_types'</span> =&gt; <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>request</span><span class="hljs-operator">-&gt;</span>getAcceptableContentTypes(),
        ];
    }
}</pre>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
<p>These are the method that you can define in the data collector class:</p>
<dl>
                        <dt><a href="https://github.com/symfony/symfony/blob/5.4/src/Symfony/Component/HttpKernel/DataCollector/DataCollectorInterface.php#method_collect" class="reference external" title="Symfony\Component\HttpKernel\DataCollector\DataCollectorInterface::collect()" rel="external noopener noreferrer" target="_blank">collect()</a> method:</dt>
        
        <dd>
                            <p class="first">Stores the collected data in local properties (<code translate="no" class="notranslate">$this-&gt;data</code> if you extend
from <code translate="no" class="notranslate">AbstractDataCollector</code>). If you need some services to collect the
data, inject those services in the data collector constructor.</p>
                            <div class="admonition admonition-caution ">
    <p class="admonition-title">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" width="24" height="24" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" /></svg>
                <span>Caution</span>
    </p><p>The <code translate="no" class="notranslate">collect()</code> method is only called once. It is not used to &quot;gather&quot;
data but is there to &quot;pick up&quot; the data that has been stored by your
service.</p>
</div>
                            <div class="admonition admonition-caution ">
    <p class="admonition-title">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" width="24" height="24" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" /></svg>
                <span>Caution</span>
    </p><p>As the profiler serializes data collector instances, you should not
store objects that cannot be serialized (like PDO objects) or you need
to provide your own <code translate="no" class="notranslate">serialize()</code> method.</p>
</div>
                    </dd>
                        <dt><a href="https://github.com/symfony/symfony/blob/5.4/src/Symfony/Component/HttpKernel/DataCollector/DataCollectorInterface.php#method_reset" class="reference external" title="Symfony\Component\HttpKernel\DataCollector\DataCollectorInterface::reset()" rel="external noopener noreferrer" target="_blank">reset()</a> method:</dt>
        
        <dd>
                            It's called between requests to reset the state of the profiler. By default
it only empties the <code translate="no" class="notranslate">$this-&gt;data</code> contents, but you can override this method
to do additional cleaning.
                    </dd>
                        <dt><a href="https://github.com/symfony/symfony/blob/5.4/src/Symfony/Component/HttpKernel/DataCollector/DataCollectorInterface.php#method_getName" class="reference external" title="Symfony\Component\HttpKernel\DataCollector\DataCollectorInterface::getName()" rel="external noopener noreferrer" target="_blank">getName()</a> method:</dt>
        
        <dd>
                            Returns the collector identifier, which must be unique in the application.
By default it returns the FQCN of the data collector class, but you can
override this method to return a custom name (e.g. <code translate="no" class="notranslate">app.request_collector</code>).
This value is used later to access the collector information (see
<a href="testing/profiling.html" class="reference internal">How to Use the Profiler in a Functional Test</a>) so you may prefer using short strings instead of FQCN strings.
                    </dd>
    </dl>
<p>The <code translate="no" class="notranslate">collect()</code> method is called during the <a href="components/http_kernel.html#component-http-kernel-kernel-response" class="reference internal">kernel.response</a>
event. If you need to collect data that is only available later, implement
<a href="https://github.com/symfony/symfony/blob/5.4/src/Symfony/Component/HttpKernel/DataCollector/LateDataCollectorInterface.php" class="reference external" title="Symfony\Component\HttpKernel\DataCollector\LateDataCollectorInterface" rel="external noopener noreferrer" target="_blank">LateDataCollectorInterface</a>
and define the <code translate="no" class="notranslate">lateCollect()</code> method, which is invoked right before the profiler
data serialization (during <a href="components/http_kernel.html#component-http-kernel-kernel-terminate" class="reference internal">kernel.terminate</a> event).</p>
<div class="admonition admonition-note ">
    <p class="admonition-title">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" width="24" height="24" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z" /></svg>
                <span>Note</span>
    </p><p>If you're using the <a href="service_container.html#service-container-services-load-example" class="reference internal">default services.yaml configuration</a>
with <code translate="no" class="notranslate">autoconfigure</code>, then Symfony will start using your data collector after the
next page refresh. Otherwise, <a href="profiler.html#data_collector_tag" class="reference internal">enable the data collector by hand</a>.</p>
</div>
<div class="section">
<h3 id="adding-web-profiler-templates">
    Adding Web Profiler Templates
    <a class="headerlink" href="#adding-web-profiler-templates" title="Permalink to this headline">¶</a>
</h3>
<p>The information collected by your data collector can be displayed both in the
web debug toolbar and in the web profiler. To do so, you need to create a Twig
template that includes some specific blocks.</p>
<p>First, add the <code translate="no" class="notranslate">getTemplate()</code> method in your data collector class to return
the path of the Twig template to use. Then, add some <em>getters</em> to give the
template access to the collected information:</p>
<div translate="no" class="highlight-php notranslate">
    <table class="highlighttable">
        <tbody>
            <tr>
                <td class="linenos">
                    <div class="linenodiv">
                        <pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24</pre>
                    </div>
                </td>
                <td class="code">
                    <div class="highlight">
                        <pre class="hljs php"><span class="hljs-comment">// src/DataCollector/RequestCollector.php</span>
<span class="hljs-keyword">namespace</span> <span class="hljs-title">App</span>\<span class="hljs-title">DataCollector</span>;

<span class="hljs-keyword">use</span> <span class="hljs-title">Symfony</span>\<span class="hljs-title">Bundle</span>\<span class="hljs-title">FrameworkBundle</span>\<span class="hljs-title">DataCollector</span>\<span class="hljs-title">AbstractDataCollector</span>;

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">RequestCollector</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">AbstractDataCollector</span>
</span>{
    <span class="hljs-comment">// ...</span>

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getTemplate</span><span class="hljs-params">()</span>: ?<span class="hljs-title">string</span>
    </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-string">'data_collector/template.html.twig'</span>;
    }

    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getMethod</span><span class="hljs-params">()</span>
    </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>this</span><span class="hljs-operator">-&gt;</span>data[<span class="hljs-string">'method'</span>];
    }

    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getAcceptableContentTypes</span><span class="hljs-params">()</span>
    </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>this</span><span class="hljs-operator">-&gt;</span>data[<span class="hljs-string">'acceptable_content_types'</span>];
    }
}</pre>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
<p>In the simplest case, you want to display the information in the toolbar
without providing a profiler panel. This requires to define the <code translate="no" class="notranslate">toolbar</code>
block and set the value of two variables called <code translate="no" class="notranslate">icon</code> and <code translate="no" class="notranslate">text</code>:</p>
<div translate="no" class="highlight-html+twig highlight-twig notranslate">
    <table class="highlighttable">
        <tbody>
            <tr>
                <td class="linenos">
                    <div class="linenodiv">
                        <pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28</pre>
                    </div>
                </td>
                <td class="code">
                    <div class="highlight">
                        <pre class="hljs html+twig twig"><span class="hljs-comment">{# templates/data_collector/template.html.twig #}</span><span class="xml">
</span><span class="hljs-template-tag">{% <span class="hljs-name"><span class="hljs-keyword">extends</span></span> '@WebProfiler/Profiler/layout.html.twig' %}</span><span class="xml">

</span><span class="hljs-template-tag">{% <span class="hljs-name"><span class="hljs-keyword">block</span></span> toolbar %}</span><span class="xml">
    </span><span class="hljs-template-tag">{% <span class="hljs-name"><span class="hljs-keyword">set</span></span> icon %}</span><span class="xml">
        </span><span class="hljs-comment">{# this is the content displayed as a panel in the toolbar #}</span><span class="xml">
        <span class="hljs-tag">&lt;<span class="hljs-name">svg</span> <span class="hljs-attr">xmlns</span>=<span class="hljs-string">"http://www.w3.org/2000/svg"</span>&gt;</span> ... <span class="hljs-tag">&lt;/<span class="hljs-name">svg</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"sf-toolbar-value"</span>&gt;</span>Request<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>
    </span><span class="hljs-template-tag">{% <span class="hljs-name"><span class="hljs-keyword">endset</span></span> %}</span><span class="xml">

    </span><span class="hljs-template-tag">{% <span class="hljs-name"><span class="hljs-keyword">set</span></span> text %}</span><span class="xml">
        </span><span class="hljs-comment">{# this is the content displayed when hovering the mouse over
           the toolbar panel #}</span><span class="xml">
        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"sf-toolbar-info-piece"</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">b</span>&gt;</span>Method<span class="hljs-tag">&lt;/<span class="hljs-name">b</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">span</span>&gt;</span></span><span class="hljs-template-variable">{{ collector.method }}</span><span class="xml"><span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>

        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"sf-toolbar-info-piece"</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">b</span>&gt;</span>Accepted content type<span class="hljs-tag">&lt;/<span class="hljs-name">b</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">span</span>&gt;</span></span><span class="hljs-template-variable">{{ collector.acceptableContentTypes|<span class="hljs-keyword">join</span>(', ') }}</span><span class="xml"><span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
    </span><span class="hljs-template-tag">{% <span class="hljs-name"><span class="hljs-keyword">endset</span></span> %}</span><span class="xml">

    </span><span class="hljs-comment">{# the 'link' value set to 'false' means that this panel doesn't
       show a section in the web profiler #}</span><span class="xml">
    </span><span class="hljs-template-variable">{{ <span class="hljs-name">include</span><span class="hljs-params">('@WebProfiler/Profiler/toolbar_item.html.twig', { link: false })</span> }}</span><span class="xml">
</span><span class="hljs-template-tag">{% <span class="hljs-name"><span class="hljs-keyword">endblock</span></span> %}</span></pre>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
<div class="admonition admonition-tip ">
    <p class="admonition-title">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" width="24" height="24" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z" /></svg>
                <span>Tip</span>
    </p><p>Symfony Profiler icons are selected from <a href="https://github.com/tabler/tabler-icons" class="reference external" rel="external noopener noreferrer" target="_blank">Tabler icons</a>, a large and open
source collection of SVG icons. It's recommended to also use those icons for
your own profiler panels to get a consistent look.</p>
</div>
<div class="admonition admonition-tip ">
    <p class="admonition-title">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" width="24" height="24" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z" /></svg>
                <span>Tip</span>
    </p><p>Built-in collector templates define all their images as embedded SVG files.
This makes them work everywhere without having to mess with web assets links:</p>
<div translate="no" class="highlight-twig notranslate">
    <table class="highlighttable">
        <tbody>
            <tr>
                <td class="linenos">
                    <div class="linenodiv">
                        <pre>1
2
3
4</pre>
                    </div>
                </td>
                <td class="code">
                    <div class="highlight">
                        <pre class="hljs twig"><span class="hljs-template-tag">{% <span class="hljs-name"><span class="hljs-keyword">set</span></span> icon %}</span><span class="xml">
    </span><span class="hljs-template-variable">{{ <span class="hljs-name">include</span><span class="hljs-params">('data_collector/icon.svg')</span> }}</span><span class="xml">
    </span><span class="hljs-comment">{# ... #}</span><span class="xml">
</span><span class="hljs-template-tag">{% <span class="hljs-name"><span class="hljs-keyword">endset</span></span> %}</span></pre>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
</div>
<p>If the toolbar panel includes extended web profiler information, the Twig template
must also define additional blocks:</p>
<div translate="no" class="highlight-html+twig highlight-twig notranslate">
    <table class="highlighttable">
        <tbody>
            <tr>
                <td class="linenos">
                    <div class="linenodiv">
                        <pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45</pre>
                    </div>
                </td>
                <td class="code">
                    <div class="highlight">
                        <pre class="hljs html+twig twig"><span class="hljs-comment">{# templates/data_collector/template.html.twig #}</span><span class="xml">
</span><span class="hljs-template-tag">{% <span class="hljs-name"><span class="hljs-keyword">extends</span></span> '@WebProfiler/Profiler/layout.html.twig' %}</span><span class="xml">

</span><span class="hljs-template-tag">{% <span class="hljs-name"><span class="hljs-keyword">block</span></span> toolbar %}</span><span class="xml">
    </span><span class="hljs-template-tag">{% <span class="hljs-name"><span class="hljs-keyword">set</span></span> icon %}</span><span class="xml">
        </span><span class="hljs-comment">{# ... #}</span><span class="xml">
    </span><span class="hljs-template-tag">{% <span class="hljs-name"><span class="hljs-keyword">endset</span></span> %}</span><span class="xml">

    </span><span class="hljs-template-tag">{% <span class="hljs-name"><span class="hljs-keyword">set</span></span> text %}</span><span class="xml">
        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"sf-toolbar-info-piece"</span>&gt;</span>
            </span><span class="hljs-comment">{# ... #}</span><span class="xml">
        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
    </span><span class="hljs-template-tag">{% <span class="hljs-name"><span class="hljs-keyword">endset</span></span> %}</span><span class="xml">

    </span><span class="hljs-template-variable">{{ <span class="hljs-name">include</span><span class="hljs-params">('@WebProfiler/Profiler/toolbar_item.html.twig', { 'link': true })</span> }}</span><span class="xml">
</span><span class="hljs-template-tag">{% <span class="hljs-name"><span class="hljs-keyword">endblock</span></span> %}</span><span class="xml">

</span><span class="hljs-template-tag">{% <span class="hljs-name"><span class="hljs-keyword">block</span></span> head %}</span><span class="xml">
    </span><span class="hljs-comment">{# Optional. Here you can link to or define your own CSS and JS contents. #}</span><span class="xml">
    </span><span class="hljs-comment">{# Use {{ parent() }} to extend the default styles instead of overriding them. #}</span><span class="xml">
</span><span class="hljs-template-tag">{% <span class="hljs-name"><span class="hljs-keyword">endblock</span></span> %}</span><span class="xml">

</span><span class="hljs-template-tag">{% <span class="hljs-name"><span class="hljs-keyword">block</span></span> menu %}</span><span class="xml">
    </span><span class="hljs-comment">{# This left-hand menu appears when using the full-screen profiler. #}</span><span class="xml">
    <span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"label"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"icon"</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">img</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"..."</span> <span class="hljs-attr">alt</span>=<span class="hljs-string">""</span>/&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">strong</span>&gt;</span>Request<span class="hljs-tag">&lt;/<span class="hljs-name">strong</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>
</span><span class="hljs-template-tag">{% <span class="hljs-name"><span class="hljs-keyword">endblock</span></span> %}</span><span class="xml">

</span><span class="hljs-template-tag">{% <span class="hljs-name"><span class="hljs-keyword">block</span></span> panel %}</span><span class="xml">
    </span><span class="hljs-comment">{# Optional, for showing the most details. #}</span><span class="xml">
    <span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>Acceptable Content Types<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">table</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">tr</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">th</span>&gt;</span>Content Type<span class="hljs-tag">&lt;/<span class="hljs-name">th</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">tr</span>&gt;</span>

        </span><span class="hljs-template-tag">{% <span class="hljs-name"><span class="hljs-keyword">for</span></span> type in collector.acceptableContentTypes %}</span><span class="xml">
        <span class="hljs-tag">&lt;<span class="hljs-name">tr</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span></span><span class="hljs-template-variable">{{ type }}</span><span class="xml"><span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">tr</span>&gt;</span>
        </span><span class="hljs-template-tag">{% <span class="hljs-name"><span class="hljs-keyword">endfor</span></span> %}</span><span class="xml">
    <span class="hljs-tag">&lt;/<span class="hljs-name">table</span>&gt;</span>
</span><span class="hljs-template-tag">{% <span class="hljs-name"><span class="hljs-keyword">endblock</span></span> %}</span></pre>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
<p>The <code translate="no" class="notranslate">menu</code> and <code translate="no" class="notranslate">panel</code> blocks are the only required blocks to define the
contents displayed in the web profiler panel associated with this data collector.
All blocks have access to the <code translate="no" class="notranslate">collector</code> object.</p>
<div class="admonition admonition-note ">
    <p class="admonition-title">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" width="24" height="24" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z" /></svg>
                <span>Note</span>
    </p><p>The position of each panel in the toolbar is determined by the collector
priority, which can only be defined when <a href="profiler.html#data_collector_tag" class="reference internal">configuring the data collector by hand</a>.</p>
</div>
<div class="admonition admonition-note ">
    <p class="admonition-title">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" width="24" height="24" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z" /></svg>
                <span>Note</span>
    </p><p>If you're using the <a href="service_container.html#service-container-services-load-example" class="reference internal">default services.yaml configuration</a>
with <code translate="no" class="notranslate">autoconfigure</code>, then Symfony will start displaying your collector data
in the toolbar after the next page refresh. Otherwise, <a href="profiler.html#data_collector_tag" class="reference internal">enable the data collector by hand</a>.</p>
</div>
<span id="data_collector_tag"></span>
</div>
<div class="section">
<h3 id="enabling-custom-data-collectors">
    Enabling Custom Data Collectors
    <a class="headerlink" href="#enabling-custom-data-collectors" title="Permalink to this headline">¶</a>
</h3>
<p>If you don't use Symfony's default configuration with
<a href="service_container.html#service-container-services-load-example" class="reference internal">autowire and autoconfigure</a>
you'll need to configure the data collector explicitly:</p>
<div class="configuration-block">
    <div role="tablist" aria-label="Configuration formats" class="configuration-tabs configuration-tabs-length-3">
                    <button role="tab" type="button" data-language="yaml"
                aria-controls="configuration-block-tabpanel-730a26733a27a78269ee8c7aa0c18f56c6e0c65b" aria-selected="true"
                data-active="true" >
                <span>YAML</span>
            </button>
                    <button role="tab" type="button" data-language="xml"
                aria-controls="configuration-block-tabpanel-b8b0e5b03bcf189c72b89e39d1608cec104c6d52" aria-selected="false"
                 tabindex="-1">
                <span>XML</span>
            </button>
                    <button role="tab" type="button" data-language="php"
                aria-controls="configuration-block-tabpanel-df264bfe96af54255f0d2788b0a0ed72f99a42cd" aria-selected="false"
                 tabindex="-1">
                <span>PHP</span>
            </button>
            </div>

            <div role="tabpanel" id="configuration-block-tabpanel-730a26733a27a78269ee8c7aa0c18f56c6e0c65b" aria-label="YAML" class="configuration-codeblock" data-language="yaml" style="">
            <div translate="no" class="highlight-yaml notranslate">
    <table class="highlighttable">
        <tbody>
            <tr>
                <td class="linenos">
                    <div class="linenodiv">
                        <pre>1
2
3
4
5
6
7
8
9
10
11
12</pre>
                    </div>
                </td>
                <td class="code">
                    <div class="highlight">
                        <pre class="hljs yaml"><span class="hljs-comment"># config/services.yaml</span>
<span class="hljs-attr">services:</span>
    <span class="hljs-string">App\DataCollector\RequestCollector:</span>
        <span class="hljs-attr">tags:</span>
            <span class="hljs-bullet">-</span>
                <span class="hljs-attr">name:</span> <span class="hljs-string">data_collector</span>
                <span class="hljs-comment"># must match the value returned by the getName() method</span>
                <span class="hljs-attr">id:</span> <span class="hljs-string">'App\DataCollector\RequestCollector'</span>
                <span class="hljs-comment"># optional template (it has more priority than the value returned by getTemplate())</span>
                <span class="hljs-attr">template:</span> <span class="hljs-string">'data_collector/template.html.twig'</span>
                <span class="hljs-comment"># optional priority (positive or negative integer; default = 0)</span>
                <span class="hljs-comment"># priority: 300</span></pre>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
        </div>
            <div role="tabpanel" id="configuration-block-tabpanel-b8b0e5b03bcf189c72b89e39d1608cec104c6d52" aria-label="XML" class="configuration-codeblock" data-language="xml" style="display: none">
            <div translate="no" class="highlight-xml notranslate">
    <table class="highlighttable">
        <tbody>
            <tr>
                <td class="linenos">
                    <div class="linenodiv">
                        <pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19</pre>
                    </div>
                </td>
                <td class="code">
                    <div class="highlight">
                        <pre class="hljs xml"><span class="hljs-comment">&lt;!-- config/services.xml --&gt;</span>
<span class="hljs-meta">&lt;?xml version="1.0" encoding="UTF-8" ?&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">container</span> <span class="hljs-attr">xmlns</span>=<span class="hljs-string">"http://symfony.com/schema/dic/services"</span>
    <span class="hljs-attr">xmlns:xsi</span>=<span class="hljs-string">"http://www.w3.org/2001/XMLSchema-instance"</span>
    <span class="hljs-attr">xsi:schemaLocation</span>=<span class="hljs-string">"http://symfony.com/schema/dic/services
        https://symfony.com/schema/dic/services/services-1.0.xsd"</span>&gt;</span>

    <span class="hljs-tag">&lt;<span class="hljs-name">services</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">service</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"App\DataCollector\RequestCollector"</span>&gt;</span>
            <span class="hljs-comment">&lt;!-- the 'template' attribute has more priority than the value returned by getTemplate() --&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">tag</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"data_collector"</span>
                <span class="hljs-attr">id</span>=<span class="hljs-string">"App\DataCollector\RequestCollector"</span>
                <span class="hljs-attr">template</span>=<span class="hljs-string">"data_collector/template.html.twig"</span>
            /&gt;</span>
            <span class="hljs-comment">&lt;!-- optional 'priority' attribute (positive or negative integer; default = 0) --&gt;</span>
            <span class="hljs-comment">&lt;!-- priority="300" --&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">service</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">services</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">container</span>&gt;</span></pre>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
        </div>
            <div role="tabpanel" id="configuration-block-tabpanel-df264bfe96af54255f0d2788b0a0ed72f99a42cd" aria-label="PHP" class="configuration-codeblock" data-language="php" style="display: none">
            <div translate="no" class="highlight-php notranslate">
    <table class="highlighttable">
        <tbody>
            <tr>
                <td class="linenos">
                    <div class="linenodiv">
                        <pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17</pre>
                    </div>
                </td>
                <td class="code">
                    <div class="highlight">
                        <pre class="hljs php"><span class="hljs-comment">// config/services.php</span>
<span class="hljs-keyword">namespace</span> <span class="hljs-title">Symfony</span>\<span class="hljs-title">Component</span>\<span class="hljs-title">DependencyInjection</span>\<span class="hljs-title">Loader</span>\<span class="hljs-title">Configurator</span>;

<span class="hljs-keyword">use</span> <span class="hljs-title">App</span>\<span class="hljs-title">DataCollector</span>\<span class="hljs-title">RequestCollector</span>;

<span class="hljs-keyword">return</span> <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(ContainerConfigurator <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>containerConfigurator</span>)</span> </span>{
    <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>services</span> = <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>containerConfigurator</span><span class="hljs-operator">-&gt;</span>services();

    <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>services</span><span class="hljs-operator">-&gt;</span>set(RequestCollector<span class="hljs-operator">::</span>class)
        <span class="hljs-operator">-&gt;</span>tag(<span class="hljs-string">'data_collector'</span>, [
            <span class="hljs-string">'id'</span> =&gt; RequestCollector<span class="hljs-operator">::</span>class,
            <span class="hljs-comment">// optional template (it has more priority than the value returned by getTemplate())</span>
            <span class="hljs-string">'template'</span> =&gt; <span class="hljs-string">'data_collector/template.html.twig'</span>,
            <span class="hljs-comment">// optional priority (positive or negative integer; default = 0)</span>
            <span class="hljs-comment">// 'priority' =&gt; 300,</span>
        ]);
};</pre>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
        </div>
    </div>
</div>
</div>
</div>

                            </div>                    </div>
                                    </div>        </div>

    </section>

</div>


<script type="text/javascript" src="assets/js/theme.js"></script>
<script type="text/javascript" src="assets/js/badge_only.js"></script>

 
</body>
</html>