        
<!DOCTYPE html>
<!--[if IE 8]>
<html class="no-js lt-ie9" lang="en"> <![endif]-->
<!--[if gt IE 8]><!-->
<html class="no-js" lang="en"> <!--<![endif]-->
<head><base href="/">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
            
                                
    
    <link rel="stylesheet" href="assets/css/theme.css" type="text/css" />
    <link rel="stylesheet" href="assets/css/highlightjs.css" type="text/css" />
    <link rel="stylesheet" href="assets/css/badge_only.css" type="text/css" />

</head>

<body class="wy-body-for-nav">
 <div class="wy-grid-for-nav">

        <nav data-toggle="wy-nav-shift" class="wy-nav-side">
        <div class="wy-side-scroll">
            <div class="wy-side-nav-search">
                
                                                                                                    
                                                                                                                                                                        </div>

            <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
                                                                                                                                                                                                                                                                                                                            </div>
        </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

                                                        

        <div class="wy-nav-content">                <div class="rst-content">
                                        <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">                            <div itemprop="articleBody">
                                    <div class="section">
<h1 id="defining-services-dependencies-automatically-autowiring">
    Defining Services Dependencies Automatically (Autowiring)
    <a class="headerlink" href="#defining-services-dependencies-automatically-autowiring" title="Permalink to this headline">¶</a>
</h1>
<p>Autowiring allows you to manage services in the container with minimal
configuration. It reads the type-hints on your constructor (or other methods)
and automatically passes the correct services to each method. Symfony's
autowiring is designed to be predictable: if it is not absolutely clear which
dependency should be passed, you'll see an actionable exception.</p>
<div class="admonition admonition-tip ">
    <p class="admonition-title">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" width="24" height="24" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z" /></svg>
                <span>Tip</span>
    </p><p>Thanks to Symfony's compiled container, there is no runtime overhead for using
autowiring.</p>
</div>
<div class="section">
<h2 id="an-autowiring-example">
    An Autowiring Example
    <a class="headerlink" href="#an-autowiring-example" title="Permalink to this headline">¶</a>
</h2>
<p>Imagine you're building an API to publish statuses on a Twitter feed, obfuscated
with <a href="https://en.wikipedia.org/wiki/ROT13" class="reference external" rel="external noopener noreferrer" target="_blank">ROT13</a>, a fun encoder that shifts all characters 13 letters forward in
the alphabet.</p>
<p>Start by creating a ROT13 transformer class:</p>
<div translate="no" class="highlight-php notranslate">
    <table class="highlighttable">
        <tbody>
            <tr>
                <td class="linenos">
                    <div class="linenodiv">
                        <pre>1
2
3
4
5
6
7
8
9
10</pre>
                    </div>
                </td>
                <td class="code">
                    <div class="highlight">
                        <pre class="hljs php"><span class="hljs-comment">// src/Util/Rot13Transformer.php</span>
<span class="hljs-keyword">namespace</span> <span class="hljs-title">App</span>\<span class="hljs-title">Util</span>;

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Rot13Transformer</span>
</span>{
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">transform</span><span class="hljs-params">(string <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>value</span>)</span>: <span class="hljs-title">string</span>
    </span>{
        <span class="hljs-keyword">return</span> str_rot13(<span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>value</span>);
    }
}</pre>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
<p>And now a Twitter client using this transformer:</p>
<div translate="no" class="highlight-php notranslate">
    <table class="highlighttable">
        <tbody>
            <tr>
                <td class="linenos">
                    <div class="linenodiv">
                        <pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20</pre>
                    </div>
                </td>
                <td class="code">
                    <div class="highlight">
                        <pre class="hljs php"><span class="hljs-comment">// src/Service/TwitterClient.php</span>
<span class="hljs-keyword">namespace</span> <span class="hljs-title">App</span>\<span class="hljs-title">Service</span>;

<span class="hljs-keyword">use</span> <span class="hljs-title">App</span>\<span class="hljs-title">Util</span>\<span class="hljs-title">Rot13Transformer</span>;
<span class="hljs-comment">// ...</span>

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">TwitterClient</span>
</span>{
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">__construct</span><span class="hljs-params">(
        private Rot13Transformer <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>transformer</span>,
    )</span> </span>{
    }

    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">tweet</span><span class="hljs-params">(User <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>user</span>, string <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>key</span>, string <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>status</span>)</span>: <span class="hljs-title">void</span>
    </span>{
        <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>transformedStatus</span> = <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>this</span><span class="hljs-operator">-&gt;</span>transformer<span class="hljs-operator">-&gt;</span>transform(<span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>status</span>);

        <span class="hljs-comment">// ... connect to Twitter and send the encoded status</span>
    }
}</pre>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
<p>If you're using the <a href="../service_container.html#service-container-services-load-example" class="reference internal">default services.yaml configuration</a>,
<strong>both classes are automatically registered as services and configured to be autowired</strong>.
This means you can use them immediately without <em>any</em> configuration.</p>
<p>However, to understand autowiring better, the following examples explicitly configure
both services:</p>
<div class="configuration-block">
    <div role="tablist" aria-label="Configuration formats" class="configuration-tabs configuration-tabs-length-3">
                    <button role="tab" type="button" data-language="yaml"
                aria-controls="configuration-block-tabpanel-36e7965cb18b46dbb467dccec296ef546a3a85ae" aria-selected="true"
                data-active="true" >
                <span>YAML</span>
            </button>
                    <button role="tab" type="button" data-language="xml"
                aria-controls="configuration-block-tabpanel-d3d566506fb1b6867f53f5f517dce40a6cd8d938" aria-selected="false"
                 tabindex="-1">
                <span>XML</span>
            </button>
                    <button role="tab" type="button" data-language="php"
                aria-controls="configuration-block-tabpanel-259c98a0132514f9476bbff294356b3638075246" aria-selected="false"
                 tabindex="-1">
                <span>PHP</span>
            </button>
            </div>

            <div role="tabpanel" id="configuration-block-tabpanel-36e7965cb18b46dbb467dccec296ef546a3a85ae" aria-label="YAML" class="configuration-codeblock" data-language="yaml" style="">
            <div translate="no" class="highlight-yaml notranslate">
    <table class="highlighttable">
        <tbody>
            <tr>
                <td class="linenos">
                    <div class="linenodiv">
                        <pre>1
2
3
4
5
6
7
8
9
10
11
12
13</pre>
                    </div>
                </td>
                <td class="code">
                    <div class="highlight">
                        <pre class="hljs yaml"><span class="hljs-comment"># config/services.yaml</span>
<span class="hljs-attr">services:</span>
    <span class="hljs-attr">_defaults:</span>
        <span class="hljs-attr">autowire:</span> <span class="hljs-literal">true</span>
        <span class="hljs-attr">autoconfigure:</span> <span class="hljs-literal">true</span>
    <span class="hljs-comment"># ...</span>

    <span class="hljs-string">App\Service\TwitterClient:</span>
        <span class="hljs-comment"># redundant thanks to _defaults, but value is overridable on each service</span>
        <span class="hljs-attr">autowire:</span> <span class="hljs-literal">true</span>

    <span class="hljs-string">App\Util\Rot13Transformer:</span>
        <span class="hljs-attr">autowire:</span> <span class="hljs-literal">true</span></pre>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
        </div>
            <div role="tabpanel" id="configuration-block-tabpanel-d3d566506fb1b6867f53f5f517dce40a6cd8d938" aria-label="XML" class="configuration-codeblock" data-language="xml" style="display: none">
            <div translate="no" class="highlight-xml notranslate">
    <table class="highlighttable">
        <tbody>
            <tr>
                <td class="linenos">
                    <div class="linenodiv">
                        <pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16</pre>
                    </div>
                </td>
                <td class="code">
                    <div class="highlight">
                        <pre class="hljs xml"><span class="hljs-comment">&lt;!-- config/services.xml --&gt;</span>
<span class="hljs-meta">&lt;?xml version="1.0" encoding="UTF-8" ?&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">container</span> <span class="hljs-attr">xmlns</span>=<span class="hljs-string">"http://symfony.com/schema/dic/services"</span>
    <span class="hljs-attr">xmlns:xsi</span>=<span class="hljs-string">"http://www.w3.org/2001/XMLSchema-instance"</span>
    <span class="hljs-attr">xsi:schemaLocation</span>=<span class="hljs-string">"http://symfony.com/schema/dic/services https://symfony.com/schema/dic/services/services-1.0.xsd"</span>&gt;</span>

    <span class="hljs-tag">&lt;<span class="hljs-name">services</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">defaults</span> <span class="hljs-attr">autowire</span>=<span class="hljs-string">"true"</span> <span class="hljs-attr">autoconfigure</span>=<span class="hljs-string">"true"</span>/&gt;</span>
        <span class="hljs-comment">&lt;!-- ... --&gt;</span>

        <span class="hljs-comment">&lt;!-- autowire is redundant thanks to defaults, but value is overridable on each service --&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">service</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"App\Service\TwitterClient"</span> <span class="hljs-attr">autowire</span>=<span class="hljs-string">"true"</span>/&gt;</span>

        <span class="hljs-tag">&lt;<span class="hljs-name">service</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"App\Util\Rot13Transformer"</span> <span class="hljs-attr">autowire</span>=<span class="hljs-string">"true"</span>/&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">services</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">container</span>&gt;</span></pre>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
        </div>
            <div role="tabpanel" id="configuration-block-tabpanel-259c98a0132514f9476bbff294356b3638075246" aria-label="PHP" class="configuration-codeblock" data-language="php" style="display: none">
            <div translate="no" class="highlight-php notranslate">
    <table class="highlighttable">
        <tbody>
            <tr>
                <td class="linenos">
                    <div class="linenodiv">
                        <pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15</pre>
                    </div>
                </td>
                <td class="code">
                    <div class="highlight">
                        <pre class="hljs php"><span class="hljs-comment">// config/services.php</span>
<span class="hljs-keyword">return</span> <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(ContainerConfigurator <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>containerConfigurator</span>)</span> </span>{
    <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>services</span> = <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>containerConfigurator</span><span class="hljs-operator">-&gt;</span>services()
        <span class="hljs-operator">-&gt;</span>defaults()
            <span class="hljs-operator">-&gt;</span>autowire()
            <span class="hljs-operator">-&gt;</span>autoconfigure()
    ;

    <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>services</span><span class="hljs-operator">-&gt;</span>set(TwitterClient<span class="hljs-operator">::</span>class)
        <span class="hljs-comment">// redundant thanks to defaults, but value is overridable on each service</span>
        <span class="hljs-operator">-&gt;</span>autowire();

    <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>services</span><span class="hljs-operator">-&gt;</span>set(Rot13Transformer<span class="hljs-operator">::</span>class)
        <span class="hljs-operator">-&gt;</span>autowire();
};</pre>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
        </div>
    </div>
<p>Now, you can use the <code translate="no" class="notranslate">TwitterClient</code> service immediately in a controller:</p>
<div translate="no" class="highlight-php notranslate">
    <table class="highlighttable">
        <tbody>
            <tr>
                <td class="linenos">
                    <div class="linenodiv">
                        <pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21</pre>
                    </div>
                </td>
                <td class="code">
                    <div class="highlight">
                        <pre class="hljs php"><span class="hljs-comment">// src/Controller/DefaultController.php</span>
<span class="hljs-keyword">namespace</span> <span class="hljs-title">App</span>\<span class="hljs-title">Controller</span>;

<span class="hljs-keyword">use</span> <span class="hljs-title">App</span>\<span class="hljs-title">Service</span>\<span class="hljs-title">TwitterClient</span>;
<span class="hljs-keyword">use</span> <span class="hljs-title">Symfony</span>\<span class="hljs-title">Bundle</span>\<span class="hljs-title">FrameworkBundle</span>\<span class="hljs-title">Controller</span>\<span class="hljs-title">AbstractController</span>;
<span class="hljs-keyword">use</span> <span class="hljs-title">Symfony</span>\<span class="hljs-title">Component</span>\<span class="hljs-title">HttpFoundation</span>\<span class="hljs-title">Request</span>;
<span class="hljs-keyword">use</span> <span class="hljs-title">Symfony</span>\<span class="hljs-title">Component</span>\<span class="hljs-title">HttpFoundation</span>\<span class="hljs-title">Response</span>;
<span class="hljs-keyword">use</span> <span class="hljs-title">Symfony</span>\<span class="hljs-title">Component</span>\<span class="hljs-title">Routing</span>\<span class="hljs-title">Annotation</span>\<span class="hljs-title">Route</span>;

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">DefaultController</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">AbstractController</span>
</span>{
    <span class="hljs-comment">#[Route('/tweet')]</span>
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">tweet</span><span class="hljs-params">(TwitterClient <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>twitterClient</span>, Request <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>request</span>)</span>: <span class="hljs-title">Response</span>
    </span>{
        <span class="hljs-comment">// fetch $user, $key, $status from the POST'ed data</span>

        <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>twitterClient</span><span class="hljs-operator">-&gt;</span>tweet(<span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>user</span>, <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>key</span>, <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>status</span>);

        <span class="hljs-comment">// ...</span>
    }
}</pre>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
<p>This works automatically! The container knows to pass the <code translate="no" class="notranslate">Rot13Transformer</code> service
as the first argument when creating the <code translate="no" class="notranslate">TwitterClient</code> service.</p>
<span id="autowiring-logic-explained"></span>
</div>
<div class="section">
<h2 id="autowiring-logic-explained">
    Autowiring Logic Explained
    <a class="headerlink" href="#autowiring-logic-explained" title="Permalink to this headline">¶</a>
</h2>
<p>Autowiring works by reading the <code translate="no" class="notranslate">Rot13Transformer</code> <em>type-hint</em> in <code translate="no" class="notranslate">TwitterClient</code>:</p>
<div translate="no" class="highlight-php notranslate">
    <table class="highlighttable">
        <tbody>
            <tr>
                <td class="linenos">
                    <div class="linenodiv">
                        <pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15</pre>
                    </div>
                </td>
                <td class="code">
                    <div class="highlight">
                        <pre class="hljs php"><span class="hljs-comment">// src/Service/TwitterClient.php</span>
<span class="hljs-keyword">namespace</span> <span class="hljs-title">App</span>\<span class="hljs-title">Service</span>;

<span class="hljs-comment">// ...</span>
<span class="hljs-keyword">use</span> <span class="hljs-title">App</span>\<span class="hljs-title">Util</span>\<span class="hljs-title">Rot13Transformer</span>;

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">TwitterClient</span>
</span>{
    <span class="hljs-comment">// ...</span>

    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">__construct</span><span class="hljs-params">(
        private Rot13Transformer <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>transformer</span>,
    )</span> </span>{
    }
}</pre>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
<p>The autowiring system <strong>looks for a service whose id exactly matches the type-hint</strong>:
so <code translate="no" class="notranslate">App\Util\Rot13Transformer</code>. In this case, that exists! When you configured
the <code translate="no" class="notranslate">Rot13Transformer</code> service, you used its fully-qualified class name as its
id. Autowiring isn't magic: it looks for a service whose id matches the type-hint.
If you <a href="../service_container.html#service-container-services-load-example" class="reference internal">load services automatically</a>,
each service's id is its class name.</p>
<p>If there is <em>not</em> a service whose id exactly matches the type, a clear exception
will be thrown.</p>
<p>Autowiring is a great way to automate configuration, and Symfony tries to be as
<em>predictable</em> and as clear as possible.</p>
<span id="service-autowiring-alias"></span>
</div>
<div class="section">
<h2 id="using-aliases-to-enable-autowiring">
    Using Aliases to Enable Autowiring
    <a class="headerlink" href="#using-aliases-to-enable-autowiring" title="Permalink to this headline">¶</a>
</h2>
<p>The main way to configure autowiring is to create a service whose id exactly matches
its class. In the previous example, the service's id is <code translate="no" class="notranslate">App\Util\Rot13Transformer</code>,
which allows us to autowire this type automatically.</p>
<p>This can also be accomplished using an <a href="alias_private.html#services-alias" class="reference internal">alias</a>. Suppose that
for some reason, the id of the service was instead <code translate="no" class="notranslate">app.rot13.transformer</code>. In
this case, any arguments type-hinted with the class name (<code translate="no" class="notranslate">App\Util\Rot13Transformer</code>)
can no longer be autowired.</p>
<p>No problem! To fix this, you can <em>create</em> a service whose id matches the class by
adding a service alias:</p>
<div class="configuration-block">
    <div role="tablist" aria-label="Configuration formats" class="configuration-tabs configuration-tabs-length-3">
                    <button role="tab" type="button" data-language="yaml"
                aria-controls="configuration-block-tabpanel-9c44f49f4a44143aabd41dbf850cba5011decb49" aria-selected="true"
                data-active="true" >
                <span>YAML</span>
            </button>
                    <button role="tab" type="button" data-language="xml"
                aria-controls="configuration-block-tabpanel-cf1272645a86db925f677837b8201ad4e6aeb3e7" aria-selected="false"
                 tabindex="-1">
                <span>XML</span>
            </button>
                    <button role="tab" type="button" data-language="php"
                aria-controls="configuration-block-tabpanel-4b0265645110872dc05d361253a4dc5f3ce31b4d" aria-selected="false"
                 tabindex="-1">
                <span>PHP</span>
            </button>
            </div>

            <div role="tabpanel" id="configuration-block-tabpanel-9c44f49f4a44143aabd41dbf850cba5011decb49" aria-label="YAML" class="configuration-codeblock" data-language="yaml" style="">
            <div translate="no" class="highlight-yaml notranslate">
    <table class="highlighttable">
        <tbody>
            <tr>
                <td class="linenos">
                    <div class="linenodiv">
                        <pre>1
2
3
4
5
6
7
8
9
10
11
12
13</pre>
                    </div>
                </td>
                <td class="code">
                    <div class="highlight">
                        <pre class="hljs yaml"><span class="hljs-comment"># config/services.yaml</span>
<span class="hljs-attr">services:</span>
    <span class="hljs-comment"># ...</span>

    <span class="hljs-comment"># the id is not a class, so it won't be used for autowiring</span>
    <span class="hljs-attr">app.rot13.transformer:</span>
        <span class="hljs-attr">class:</span> <span class="hljs-string">App\Util\Rot13Transformer</span>
        <span class="hljs-comment"># ...</span>

    <span class="hljs-comment"># but this fixes it!</span>
    <span class="hljs-comment"># the ``app.rot13.transformer`` service will be injected when</span>
    <span class="hljs-comment"># an ``App\Util\Rot13Transformer`` type-hint is detected</span>
    <span class="hljs-string">App\Util\Rot13Transformer:</span> <span class="hljs-string">'@app.rot13.transformer'</span></pre>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
        </div>
            <div role="tabpanel" id="configuration-block-tabpanel-cf1272645a86db925f677837b8201ad4e6aeb3e7" aria-label="XML" class="configuration-codeblock" data-language="xml" style="display: none">
            <div translate="no" class="highlight-xml notranslate">
    <table class="highlighttable">
        <tbody>
            <tr>
                <td class="linenos">
                    <div class="linenodiv">
                        <pre>1
2
3
4
5
6
7
8
9
10
11
12
13</pre>
                    </div>
                </td>
                <td class="code">
                    <div class="highlight">
                        <pre class="hljs xml"><span class="hljs-comment">&lt;!-- config/services.xml --&gt;</span>
<span class="hljs-meta">&lt;?xml version="1.0" encoding="UTF-8" ?&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">container</span> <span class="hljs-attr">xmlns</span>=<span class="hljs-string">"http://symfony.com/schema/dic/services"</span>
    <span class="hljs-attr">xmlns:xsi</span>=<span class="hljs-string">"http://www.w3.org/2001/XMLSchema-instance"</span>
    <span class="hljs-attr">xsi:schemaLocation</span>=<span class="hljs-string">"http://symfony.com/schema/dic/services https://symfony.com/schema/dic/services/services-1.0.xsd"</span>&gt;</span>

    <span class="hljs-tag">&lt;<span class="hljs-name">services</span>&gt;</span>
        <span class="hljs-comment">&lt;!-- ... --&gt;</span>

        <span class="hljs-tag">&lt;<span class="hljs-name">service</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"app.rot13.transformer"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"App\Util\Rot13Transformer"</span> <span class="hljs-attr">autowire</span>=<span class="hljs-string">"true"</span>/&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">service</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"App\Util\Rot13Transformer"</span> <span class="hljs-attr">alias</span>=<span class="hljs-string">"app.rot13.transformer"</span>/&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">services</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">container</span>&gt;</span></pre>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
        </div>
            <div role="tabpanel" id="configuration-block-tabpanel-4b0265645110872dc05d361253a4dc5f3ce31b4d" aria-label="PHP" class="configuration-codeblock" data-language="php" style="display: none">
            <div translate="no" class="highlight-php notranslate">
    <table class="highlighttable">
        <tbody>
            <tr>
                <td class="linenos">
                    <div class="linenodiv">
                        <pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17</pre>
                    </div>
                </td>
                <td class="code">
                    <div class="highlight">
                        <pre class="hljs php"><span class="hljs-comment">// config/services.php</span>
<span class="hljs-keyword">namespace</span> <span class="hljs-title">Symfony</span>\<span class="hljs-title">Component</span>\<span class="hljs-title">DependencyInjection</span>\<span class="hljs-title">Loader</span>\<span class="hljs-title">Configurator</span>;

<span class="hljs-keyword">use</span> <span class="hljs-title">App</span>\<span class="hljs-title">Util</span>\<span class="hljs-title">Rot13Transformer</span>;

<span class="hljs-keyword">return</span> <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(ContainerConfigurator <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>containerConfigurator</span>)</span> </span>{
    <span class="hljs-comment">// ...</span>

    <span class="hljs-comment">// the id is not a class, so it won't be used for autowiring</span>
    <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>services</span><span class="hljs-operator">-&gt;</span>set(<span class="hljs-string">'app.rot13.transformer'</span>, Rot13Transformer<span class="hljs-operator">::</span>class)
        <span class="hljs-operator">-&gt;</span>autowire();

    <span class="hljs-comment">// but this fixes it!</span>
    <span class="hljs-comment">// the ``app.rot13.transformer`` service will be injected when</span>
    <span class="hljs-comment">// an ``App\Util\Rot13Transformer`` type-hint is detected</span>
    <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>services</span><span class="hljs-operator">-&gt;</span>alias(Rot13Transformer<span class="hljs-operator">::</span>class, <span class="hljs-string">'app.rot13.transformer'</span>);
};</pre>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
        </div>
    </div>
<p>This creates a service &quot;alias&quot;, whose id is <code translate="no" class="notranslate">App\Util\Rot13Transformer</code>.
Thanks to this, autowiring sees this and uses it whenever the <code translate="no" class="notranslate">Rot13Transformer</code>
class is type-hinted.</p>
<div class="admonition admonition-tip ">
    <p class="admonition-title">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" width="24" height="24" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z" /></svg>
                <span>Tip</span>
    </p><p>Aliases are used by the core bundles to allow services to be autowired. For
example, MonologBundle creates a service whose id is <code translate="no" class="notranslate">logger</code>. But it also
adds an alias: <code translate="no" class="notranslate">Psr\Log\LoggerInterface</code> that points to the <code translate="no" class="notranslate">logger</code> service.
This is why arguments type-hinted with <code translate="no" class="notranslate">Psr\Log\LoggerInterface</code> can be autowired.</p>
</div>
<span id="autowiring-interface-alias"></span>
</div>
<div class="section">
<h2 id="working-with-interfaces">
    Working with Interfaces
    <a class="headerlink" href="#working-with-interfaces" title="Permalink to this headline">¶</a>
</h2>
<p>You might also find yourself type-hinting abstractions (e.g. interfaces) instead
of concrete classes as it replaces your dependencies with other objects.</p>
<p>To follow this best practice, suppose you decide to create a <code translate="no" class="notranslate">TransformerInterface</code>:</p>
<div translate="no" class="highlight-php notranslate">
    <table class="highlighttable">
        <tbody>
            <tr>
                <td class="linenos">
                    <div class="linenodiv">
                        <pre>1
2
3
4
5
6
7</pre>
                    </div>
                </td>
                <td class="code">
                    <div class="highlight">
                        <pre class="hljs php"><span class="hljs-comment">// src/Util/TransformerInterface.php</span>
<span class="hljs-keyword">namespace</span> <span class="hljs-title">App</span>\<span class="hljs-title">Util</span>;

<span class="hljs-class"><span class="hljs-keyword">interface</span> <span class="hljs-title">TransformerInterface</span>
</span>{
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">transform</span><span class="hljs-params">(string <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>value</span>)</span>: <span class="hljs-title">string</span></span>;
}</pre>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
<p>Then, you update <code translate="no" class="notranslate">Rot13Transformer</code> to implement it:</p>
<div translate="no" class="highlight-php notranslate">
    <table class="highlighttable">
        <tbody>
            <tr>
                <td class="linenos">
                    <div class="linenodiv">
                        <pre>1
2
3
4
5</pre>
                    </div>
                </td>
                <td class="code">
                    <div class="highlight">
                        <pre class="hljs php"><span class="hljs-comment">// ...</span>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Rot13Transformer</span> <span class="hljs-keyword">implements</span> <span class="hljs-title">TransformerInterface</span>
</span>{
    <span class="hljs-comment">// ...</span>
}</pre>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
<p>Now that you have an interface, you should use this as your type-hint:</p>
<div translate="no" class="highlight-php notranslate">
    <table class="highlighttable">
        <tbody>
            <tr>
                <td class="linenos">
                    <div class="linenodiv">
                        <pre>1
2
3
4
5
6
7
8
9
10</pre>
                    </div>
                </td>
                <td class="code">
                    <div class="highlight">
                        <pre class="hljs php"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">TwitterClient</span>
</span>{
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">__construct</span><span class="hljs-params">(
        private TransformerInterface <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>transformer</span>,
    )</span> </span>{
        <span class="hljs-comment">// ...</span>
    }

    <span class="hljs-comment">// ...</span>
}</pre>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
<p>But now, the type-hint (<code translate="no" class="notranslate">App\Util\TransformerInterface</code>) no longer matches
the id of the service (<code translate="no" class="notranslate">App\Util\Rot13Transformer</code>). This means that the
argument can no longer be autowired.</p>
<p>To fix that, add an <a href="autowiring.html#service-autowiring-alias" class="reference internal">alias</a>:</p>
<div class="configuration-block">
    <div role="tablist" aria-label="Configuration formats" class="configuration-tabs configuration-tabs-length-3">
                    <button role="tab" type="button" data-language="yaml"
                aria-controls="configuration-block-tabpanel-e220620fe5e8c26f171aa7160a1e322664ae66b5" aria-selected="true"
                data-active="true" >
                <span>YAML</span>
            </button>
                    <button role="tab" type="button" data-language="xml"
                aria-controls="configuration-block-tabpanel-6185065179b6dc278656770a88a781c5828a0cd6" aria-selected="false"
                 tabindex="-1">
                <span>XML</span>
            </button>
                    <button role="tab" type="button" data-language="php"
                aria-controls="configuration-block-tabpanel-cdee1bdcd04d097c53465bc5b5a7bd4c0b4907ef" aria-selected="false"
                 tabindex="-1">
                <span>PHP</span>
            </button>
            </div>

            <div role="tabpanel" id="configuration-block-tabpanel-e220620fe5e8c26f171aa7160a1e322664ae66b5" aria-label="YAML" class="configuration-codeblock" data-language="yaml" style="">
            <div translate="no" class="highlight-yaml notranslate">
    <table class="highlighttable">
        <tbody>
            <tr>
                <td class="linenos">
                    <div class="linenodiv">
                        <pre>1
2
3
4
5
6
7
8
9</pre>
                    </div>
                </td>
                <td class="code">
                    <div class="highlight">
                        <pre class="hljs yaml"><span class="hljs-comment"># config/services.yaml</span>
<span class="hljs-attr">services:</span>
    <span class="hljs-comment"># ...</span>

    <span class="hljs-string">App\Util\Rot13Transformer:</span> <span class="hljs-string">~</span>

    <span class="hljs-comment"># the ``App\Util\Rot13Transformer`` service will be injected when</span>
    <span class="hljs-comment"># an ``App\Util\TransformerInterface`` type-hint is detected</span>
    <span class="hljs-string">App\Util\TransformerInterface:</span> <span class="hljs-string">'@App\Util\Rot13Transformer'</span></pre>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
        </div>
            <div role="tabpanel" id="configuration-block-tabpanel-6185065179b6dc278656770a88a781c5828a0cd6" aria-label="XML" class="configuration-codeblock" data-language="xml" style="display: none">
            <div translate="no" class="highlight-xml notranslate">
    <table class="highlighttable">
        <tbody>
            <tr>
                <td class="linenos">
                    <div class="linenodiv">
                        <pre>1
2
3
4
5
6
7
8
9
10
11
12
13</pre>
                    </div>
                </td>
                <td class="code">
                    <div class="highlight">
                        <pre class="hljs xml"><span class="hljs-comment">&lt;!-- config/services.xml --&gt;</span>
<span class="hljs-meta">&lt;?xml version="1.0" encoding="UTF-8" ?&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">container</span> <span class="hljs-attr">xmlns</span>=<span class="hljs-string">"http://symfony.com/schema/dic/services"</span>
    <span class="hljs-attr">xmlns:xsi</span>=<span class="hljs-string">"http://www.w3.org/2001/XMLSchema-instance"</span>
    <span class="hljs-attr">xsi:schemaLocation</span>=<span class="hljs-string">"http://symfony.com/schema/dic/services https://symfony.com/schema/dic/services/services-1.0.xsd"</span>&gt;</span>

    <span class="hljs-tag">&lt;<span class="hljs-name">services</span>&gt;</span>
        <span class="hljs-comment">&lt;!-- ... --&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">service</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"App\Util\Rot13Transformer"</span>/&gt;</span>

        <span class="hljs-tag">&lt;<span class="hljs-name">service</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"App\Util\TransformerInterface"</span> <span class="hljs-attr">alias</span>=<span class="hljs-string">"App\Util\Rot13Transformer"</span>/&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">services</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">container</span>&gt;</span></pre>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
        </div>
            <div role="tabpanel" id="configuration-block-tabpanel-cdee1bdcd04d097c53465bc5b5a7bd4c0b4907ef" aria-label="PHP" class="configuration-codeblock" data-language="php" style="display: none">
            <div translate="no" class="highlight-php notranslate">
    <table class="highlighttable">
        <tbody>
            <tr>
                <td class="linenos">
                    <div class="linenodiv">
                        <pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15</pre>
                    </div>
                </td>
                <td class="code">
                    <div class="highlight">
                        <pre class="hljs php"><span class="hljs-comment">// config/services.php</span>
<span class="hljs-keyword">namespace</span> <span class="hljs-title">Symfony</span>\<span class="hljs-title">Component</span>\<span class="hljs-title">DependencyInjection</span>\<span class="hljs-title">Loader</span>\<span class="hljs-title">Configurator</span>;

<span class="hljs-keyword">use</span> <span class="hljs-title">App</span>\<span class="hljs-title">Util</span>\<span class="hljs-title">Rot13Transformer</span>;
<span class="hljs-keyword">use</span> <span class="hljs-title">App</span>\<span class="hljs-title">Util</span>\<span class="hljs-title">TransformerInterface</span>;

<span class="hljs-keyword">return</span> <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(ContainerConfigurator <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>containerConfigurator</span>)</span> </span>{
    <span class="hljs-comment">// ...</span>

    <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>services</span><span class="hljs-operator">-&gt;</span>set(Rot13Transformer<span class="hljs-operator">::</span>class);

    <span class="hljs-comment">// the ``App\Util\Rot13Transformer`` service will be injected when</span>
    <span class="hljs-comment">// an ``App\Util\TransformerInterface`` type-hint is detected</span>
    <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>services</span><span class="hljs-operator">-&gt;</span>alias(TransformerInterface<span class="hljs-operator">::</span>class, Rot13Transformer<span class="hljs-operator">::</span>class);
};</pre>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
        </div>
    </div>
<p>Thanks to the <code translate="no" class="notranslate">App\Util\TransformerInterface</code> alias, the autowiring subsystem
knows that the <code translate="no" class="notranslate">App\Util\Rot13Transformer</code> service should be injected when
dealing with the <code translate="no" class="notranslate">TransformerInterface</code>.</p>
<div class="admonition admonition-tip ">
    <p class="admonition-title">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" width="24" height="24" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z" /></svg>
                <span>Tip</span>
    </p><p>When using a <a href="https://symfony.com/blog/new-in-symfony-3-3-psr-4-based-service-discovery" class="reference external">service definition prototype</a>, if only one service is
discovered that implements an interface, configuring the alias is not mandatory
and Symfony will automatically create one.</p>
</div>
<div class="admonition admonition-tip ">
    <p class="admonition-title">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" width="24" height="24" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z" /></svg>
                <span>Tip</span>
    </p><p>Autowiring is powerful enough to guess which service to inject even when using
union and intersection types. This means you're able to type-hint argument with
complex types like this:</p>
<div translate="no" class="highlight-php notranslate">
    <table class="highlighttable">
        <tbody>
            <tr>
                <td class="linenos">
                    <div class="linenodiv">
                        <pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14</pre>
                    </div>
                </td>
                <td class="code">
                    <div class="highlight">
                        <pre class="hljs php"><span class="hljs-keyword">use</span> <span class="hljs-title">Symfony</span>\<span class="hljs-title">Component</span>\<span class="hljs-title">Serializer</span>\<span class="hljs-title">Normalizer</span>\<span class="hljs-title">DenormalizerInterface</span>;
<span class="hljs-keyword">use</span> <span class="hljs-title">Symfony</span>\<span class="hljs-title">Component</span>\<span class="hljs-title">Serializer</span>\<span class="hljs-title">Normalizer</span>\<span class="hljs-title">NormalizerInterface</span>;
<span class="hljs-keyword">use</span> <span class="hljs-title">Symfony</span>\<span class="hljs-title">Component</span>\<span class="hljs-title">Serializer</span>\<span class="hljs-title">SerializerInterface</span>;

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">DataFormatter</span>
</span>{
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">__construct</span><span class="hljs-params">(
        private <span class="hljs-params">(NormalizerInterface&amp;DenormalizerInterface)</span>|SerializerInterface <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>transformer</span>,
    )</span> </span>{
        <span class="hljs-comment">// ...</span>
    }

    <span class="hljs-comment">// ...</span>
}</pre>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
</div>
<span id="autowiring-multiple-implementations-same-type"></span>
</div>
<div class="section">
<h2 id="dealing-with-multiple-implementations-of-the-same-type">
    Dealing with Multiple Implementations of the Same Type
    <a class="headerlink" href="#dealing-with-multiple-implementations-of-the-same-type" title="Permalink to this headline">¶</a>
</h2>
<p>Suppose you create a second class - <code translate="no" class="notranslate">UppercaseTransformer</code> that implements
<code translate="no" class="notranslate">TransformerInterface</code>:</p>
<div translate="no" class="highlight-php notranslate">
    <table class="highlighttable">
        <tbody>
            <tr>
                <td class="linenos">
                    <div class="linenodiv">
                        <pre>1
2
3
4
5
6
7
8
9
10</pre>
                    </div>
                </td>
                <td class="code">
                    <div class="highlight">
                        <pre class="hljs php"><span class="hljs-comment">// src/Util/UppercaseTransformer.php</span>
<span class="hljs-keyword">namespace</span> <span class="hljs-title">App</span>\<span class="hljs-title">Util</span>;

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">UppercaseTransformer</span> <span class="hljs-keyword">implements</span> <span class="hljs-title">TransformerInterface</span>
</span>{
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">transform</span><span class="hljs-params">(string <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>value</span>)</span>: <span class="hljs-title">string</span>
    </span>{
        <span class="hljs-keyword">return</span> strtoupper(<span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>value</span>);
    }
}</pre>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
<p>If you register this as a service, you now have <em>two</em> services that implement the
<code translate="no" class="notranslate">App\Util\TransformerInterface</code> type. Autowiring subsystem can not decide
which one to use. Remember, autowiring isn't magic; it looks for a service
whose id matches the type-hint. So you need to choose one by creating an alias
from the type to the correct service id (see <a href="autowiring.html#autowiring-interface-alias" class="reference internal">Defining Services Dependencies Automatically (Autowiring)</a>).
Additionally, you can define several named autowiring aliases if you want to use
one implementation in some cases, and another implementation in some
other cases.</p>
<p>For instance, you may want to use the <code translate="no" class="notranslate">Rot13Transformer</code>
implementation by default when the <code translate="no" class="notranslate">TransformerInterface</code> interface is
type hinted, but use the <code translate="no" class="notranslate">UppercaseTransformer</code> implementation in some
specific cases. To do so, you can create a normal alias from the
<code translate="no" class="notranslate">TransformerInterface</code> interface to <code translate="no" class="notranslate">Rot13Transformer</code>, and then
create a <em>named autowiring alias</em> from a special string containing the
interface followed by a variable name matching the one you use when doing
the injection:</p>
<div translate="no" class="highlight-php notranslate">
    <table class="highlighttable">
        <tbody>
            <tr>
                <td class="linenos">
                    <div class="linenodiv">
                        <pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19</pre>
                    </div>
                </td>
                <td class="code">
                    <div class="highlight">
                        <pre class="hljs php"><span class="hljs-comment">// src/Service/MastodonClient.php</span>
<span class="hljs-keyword">namespace</span> <span class="hljs-title">App</span>\<span class="hljs-title">Service</span>;

<span class="hljs-keyword">use</span> <span class="hljs-title">App</span>\<span class="hljs-title">Util</span>\<span class="hljs-title">TransformerInterface</span>;

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MastodonClient</span>
</span>{
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">__construct</span><span class="hljs-params">(
        private TransformerInterface <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>shoutyTransformer</span>,
    )</span> </span>{
    }

    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">toot</span><span class="hljs-params">(User <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>user</span>, string <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>key</span>, string <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>status</span>)</span>: <span class="hljs-title">void</span>
    </span>{
        <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>transformedStatus</span> = <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>this</span><span class="hljs-operator">-&gt;</span>transformer<span class="hljs-operator">-&gt;</span>transform(<span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>status</span>);

        <span class="hljs-comment">// ... connect to Mastodon and send the transformed status</span>
    }
}</pre>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
<div class="configuration-block">
    <div role="tablist" aria-label="Configuration formats" class="configuration-tabs configuration-tabs-length-3">
                    <button role="tab" type="button" data-language="yaml"
                aria-controls="configuration-block-tabpanel-59f9e59a337b0d42978fcb50046e788cab18c88e" aria-selected="true"
                data-active="true" >
                <span>YAML</span>
            </button>
                    <button role="tab" type="button" data-language="xml"
                aria-controls="configuration-block-tabpanel-0f92b4537e1fb93649b97ccba5509f0ea877a339" aria-selected="false"
                 tabindex="-1">
                <span>XML</span>
            </button>
                    <button role="tab" type="button" data-language="php"
                aria-controls="configuration-block-tabpanel-fb6235897c6b8ebdf2a6db6d7953f5fa821aa658" aria-selected="false"
                 tabindex="-1">
                <span>PHP</span>
            </button>
            </div>

            <div role="tabpanel" id="configuration-block-tabpanel-59f9e59a337b0d42978fcb50046e788cab18c88e" aria-label="YAML" class="configuration-codeblock" data-language="yaml" style="">
            <div translate="no" class="highlight-yaml notranslate">
    <table class="highlighttable">
        <tbody>
            <tr>
                <td class="linenos">
                    <div class="linenodiv">
                        <pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26</pre>
                    </div>
                </td>
                <td class="code">
                    <div class="highlight">
                        <pre class="hljs yaml"><span class="hljs-comment"># config/services.yaml</span>
<span class="hljs-attr">services:</span>
    <span class="hljs-comment"># ...</span>

    <span class="hljs-string">App\Util\Rot13Transformer:</span> <span class="hljs-string">~</span>
    <span class="hljs-string">App\Util\UppercaseTransformer:</span> <span class="hljs-string">~</span>

    <span class="hljs-comment"># the ``App\Util\UppercaseTransformer`` service will be</span>
    <span class="hljs-comment"># injected when an ``App\Util\TransformerInterface``</span>
    <span class="hljs-comment"># type-hint for a ``$shoutyTransformer`` argument is detected.</span>
    <span class="hljs-string">App\Util\TransformerInterface</span> <span class="hljs-string">$shoutyTransformer:</span> <span class="hljs-string">'@App\Util\UppercaseTransformer'</span>

    <span class="hljs-comment"># If the argument used for injection does not match, but the</span>
    <span class="hljs-comment"># type-hint still matches, the ``App\Util\Rot13Transformer``</span>
    <span class="hljs-comment"># service will be injected.</span>
    <span class="hljs-string">App\Util\TransformerInterface:</span> <span class="hljs-string">'@App\Util\Rot13Transformer'</span>

    <span class="hljs-string">App\Service\TwitterClient:</span>
        <span class="hljs-comment"># the Rot13Transformer will be passed as the $transformer argument</span>
        <span class="hljs-attr">autowire:</span> <span class="hljs-literal">true</span>

        <span class="hljs-comment"># If you wanted to choose the non-default service and do not</span>
        <span class="hljs-comment"># want to use a named autowiring alias, wire it manually:</span>
        <span class="hljs-comment"># arguments:</span>
        <span class="hljs-comment">#     $transformer: '@App\Util\UppercaseTransformer'</span>
        <span class="hljs-comment"># ...</span></pre>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
        </div>
            <div role="tabpanel" id="configuration-block-tabpanel-0f92b4537e1fb93649b97ccba5509f0ea877a339" aria-label="XML" class="configuration-codeblock" data-language="xml" style="display: none">
            <div translate="no" class="highlight-xml notranslate">
    <table class="highlighttable">
        <tbody>
            <tr>
                <td class="linenos">
                    <div class="linenodiv">
                        <pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21</pre>
                    </div>
                </td>
                <td class="code">
                    <div class="highlight">
                        <pre class="hljs xml"><span class="hljs-comment">&lt;!-- config/services.xml --&gt;</span>
<span class="hljs-meta">&lt;?xml version="1.0" encoding="UTF-8" ?&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">container</span> <span class="hljs-attr">xmlns</span>=<span class="hljs-string">"http://symfony.com/schema/dic/services"</span>
    <span class="hljs-attr">xmlns:xsi</span>=<span class="hljs-string">"http://www.w3.org/2001/XMLSchema-instance"</span>
    <span class="hljs-attr">xsi:schemaLocation</span>=<span class="hljs-string">"http://symfony.com/schema/dic/services https://symfony.com/schema/dic/services/services-1.0.xsd"</span>&gt;</span>

    <span class="hljs-tag">&lt;<span class="hljs-name">services</span>&gt;</span>
        <span class="hljs-comment">&lt;!-- ... --&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">service</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"App\Util\Rot13Transformer"</span>/&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">service</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"App\Util\UppercaseTransformer"</span>/&gt;</span>

        <span class="hljs-tag">&lt;<span class="hljs-name">service</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"App\Util\TransformerInterface"</span> <span class="hljs-attr">alias</span>=<span class="hljs-string">"App\Util\Rot13Transformer"</span>/&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">service</span>
            <span class="hljs-attr">id</span>=<span class="hljs-string">"App\Util\TransformerInterface $shoutyTransformer"</span>
            <span class="hljs-attr">alias</span>=<span class="hljs-string">"App\Util\UppercaseTransformer"</span>/&gt;</span>

        <span class="hljs-tag">&lt;<span class="hljs-name">service</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"App\Service\TwitterClient"</span> <span class="hljs-attr">autowire</span>=<span class="hljs-string">"true"</span>&gt;</span>
            <span class="hljs-comment">&lt;!-- &lt;argument key="$transformer" type="service" id="App\Util\UppercaseTransformer"/&gt; --&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">service</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">services</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">container</span>&gt;</span></pre>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
        </div>
            <div role="tabpanel" id="configuration-block-tabpanel-fb6235897c6b8ebdf2a6db6d7953f5fa821aa658" aria-label="PHP" class="configuration-codeblock" data-language="php" style="display: none">
            <div translate="no" class="highlight-php notranslate">
    <table class="highlighttable">
        <tbody>
            <tr>
                <td class="linenos">
                    <div class="linenodiv">
                        <pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35</pre>
                    </div>
                </td>
                <td class="code">
                    <div class="highlight">
                        <pre class="hljs php"><span class="hljs-comment">// config/services.php</span>
<span class="hljs-keyword">namespace</span> <span class="hljs-title">Symfony</span>\<span class="hljs-title">Component</span>\<span class="hljs-title">DependencyInjection</span>\<span class="hljs-title">Loader</span>\<span class="hljs-title">Configurator</span>;

<span class="hljs-keyword">use</span> <span class="hljs-title">App</span>\<span class="hljs-title">Service</span>\<span class="hljs-title">MastodonClient</span>;
<span class="hljs-keyword">use</span> <span class="hljs-title">App</span>\<span class="hljs-title">Service</span>\<span class="hljs-title">TwitterClient</span>;
<span class="hljs-keyword">use</span> <span class="hljs-title">App</span>\<span class="hljs-title">Util</span>\<span class="hljs-title">Rot13Transformer</span>;
<span class="hljs-keyword">use</span> <span class="hljs-title">App</span>\<span class="hljs-title">Util</span>\<span class="hljs-title">TransformerInterface</span>;
<span class="hljs-keyword">use</span> <span class="hljs-title">App</span>\<span class="hljs-title">Util</span>\<span class="hljs-title">UppercaseTransformer</span>;

<span class="hljs-keyword">return</span> <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(ContainerConfigurator <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>containerConfigurator</span>)</span> </span>{
    <span class="hljs-comment">// ...</span>

    <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>services</span><span class="hljs-operator">-&gt;</span>set(Rot13Transformer<span class="hljs-operator">::</span>class)<span class="hljs-operator">-&gt;</span>autowire();
    <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>services</span><span class="hljs-operator">-&gt;</span>set(UppercaseTransformer<span class="hljs-operator">::</span>class)<span class="hljs-operator">-&gt;</span>autowire();

    <span class="hljs-comment">// the ``App\Util\UppercaseTransformer`` service will be</span>
    <span class="hljs-comment">// injected when an ``App\Util\TransformerInterface``</span>
    <span class="hljs-comment">// type-hint for a ``$shoutyTransformer`` argument is detected.</span>
    <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>services</span><span class="hljs-operator">-&gt;</span>alias(TransformerInterface<span class="hljs-operator">::</span>class.<span class="hljs-string">' $shoutyTransformer'</span>, UppercaseTransformer<span class="hljs-operator">::</span>class);

    <span class="hljs-comment">// If the argument used for injection does not match, but the</span>
    <span class="hljs-comment">// type-hint still matches, the ``App\Util\Rot13Transformer``</span>
    <span class="hljs-comment">// service will be injected.</span>
    <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>services</span><span class="hljs-operator">-&gt;</span>alias(TransformerInterface<span class="hljs-operator">::</span>class, Rot13Transformer<span class="hljs-operator">::</span>class);

    <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>services</span><span class="hljs-operator">-&gt;</span>set(TwitterClient<span class="hljs-operator">::</span>class)
        <span class="hljs-comment">// the Rot13Transformer will be passed as the $transformer argument</span>
        <span class="hljs-operator">-&gt;</span>autowire()

        <span class="hljs-comment">// If you wanted to choose the non-default service and do not</span>
        <span class="hljs-comment">// want to use a named autowiring alias, wire it manually:</span>
        <span class="hljs-comment">//     -&gt;arg('$transformer', service(UppercaseTransformer::class))</span>
        <span class="hljs-comment">// ...</span>
    ;
};</pre>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
        </div>
    </div>
<p>Thanks to the <code translate="no" class="notranslate">App\Util\TransformerInterface</code> alias, any argument type-hinted
with this interface will be passed the <code translate="no" class="notranslate">App\Util\Rot13Transformer</code> service.
If the argument is named <code translate="no" class="notranslate">$shoutyTransformer</code>,
<code translate="no" class="notranslate">App\Util\UppercaseTransformer</code> will be used instead.
But, you can also manually wire any <em>other</em> service by specifying the argument
under the arguments key.</p>
<p>Another possibility is to use the <code translate="no" class="notranslate">#[Target]</code> attribute. By using this attribute
on the argument you want to autowire, you can define exactly which service to inject
by using its alias. Thanks to this, you're able to have multiple services implementing
the same interface and keep the argument name decorrelated of any implementation name
(like shown in the example above).</p>
<p>Let's say you defined the <code translate="no" class="notranslate">app.uppercase_transformer</code> alias for the
<code translate="no" class="notranslate">App\Util\UppercaseTransformer</code> service. You would be able to use the <code translate="no" class="notranslate">#[Target]</code>
attribute like this:</p>
<div translate="no" class="highlight-php notranslate">
    <table class="highlighttable">
        <tbody>
            <tr>
                <td class="linenos">
                    <div class="linenodiv">
                        <pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14</pre>
                    </div>
                </td>
                <td class="code">
                    <div class="highlight">
                        <pre class="hljs php"><span class="hljs-comment">// src/Service/MastodonClient.php</span>
<span class="hljs-keyword">namespace</span> <span class="hljs-title">App</span>\<span class="hljs-title">Service</span>;

<span class="hljs-keyword">use</span> <span class="hljs-title">App</span>\<span class="hljs-title">Util</span>\<span class="hljs-title">TransformerInterface</span>;
<span class="hljs-keyword">use</span> <span class="hljs-title">Symfony</span>\<span class="hljs-title">Component</span>\<span class="hljs-title">DependencyInjection</span>\<span class="hljs-title">Attribute</span>\<span class="hljs-title">Target</span>;

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MastodonClient</span>
</span>{
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">__construct</span><span class="hljs-params">(
        #[Target<span class="hljs-params">(<span class="hljs-string">'app.uppercase_transformer'</span>)</span>]
        private TransformerInterface <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>transformer</span>
    )</span></span>{
    }
}</pre>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
<span id="autowire-attribute"></span>
</div>
<div class="section">
<h2 id="fixing-non-autowireable-arguments">
    Fixing Non-Autowireable Arguments
    <a class="headerlink" href="#fixing-non-autowireable-arguments" title="Permalink to this headline">¶</a>
</h2>
<p>Autowiring only works when your argument is an <em>object</em>. But if you have a scalar
argument (e.g. a string), this cannot be autowired: Symfony will throw a clear
exception.</p>
<p>To fix this, you can <a href="../service_container.html#services-manually-wire-args" class="reference internal">manually wire the problematic argument</a>
in the service configuration. You wire up only the difficult arguments,
Symfony takes care of the rest.</p>
<p>You can also use the <code translate="no" class="notranslate">#[Autowire]</code> parameter attribute to instruct the autowiring
logic about those arguments:</p>
<div translate="no" class="highlight-php notranslate">
    <table class="highlighttable">
        <tbody>
            <tr>
                <td class="linenos">
                    <div class="linenodiv">
                        <pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14</pre>
                    </div>
                </td>
                <td class="code">
                    <div class="highlight">
                        <pre class="hljs php"><span class="hljs-comment">// src/Service/MessageGenerator.php</span>
<span class="hljs-keyword">namespace</span> <span class="hljs-title">App</span>\<span class="hljs-title">Service</span>;

<span class="hljs-keyword">use</span> <span class="hljs-title">Psr</span>\<span class="hljs-title">Log</span>\<span class="hljs-title">LoggerInterface</span>;
<span class="hljs-keyword">use</span> <span class="hljs-title">Symfony</span>\<span class="hljs-title">Component</span>\<span class="hljs-title">DependencyInjection</span>\<span class="hljs-title">Attribute</span>\<span class="hljs-title">Autowire</span>;

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MessageGenerator</span>
</span>{
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">__construct</span><span class="hljs-params">(
        #[Autowire<span class="hljs-params">(service: <span class="hljs-string">'monolog.logger.request'</span>)</span>] LoggerInterface <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>logger</span>
    )</span> </span>{
        <span class="hljs-comment">// ...</span>
    }
}</pre>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
<div class="admonition admonition-versionadded ">
    <p class="admonition-title">
                                    <span>6.1</span>
    </p><p>The <code translate="no" class="notranslate">#[Autowire]</code> attribute was introduced in Symfony 6.1.</p>
</div>
<p>The <code translate="no" class="notranslate">#[Autowire]</code> attribute can also be used for <a href="../service_container.html#service-parameters" class="reference internal">parameters</a>,
<a href="expression_language.html" class="reference internal">complex expressions</a> and even
<a href="../configuration.html#config-env-vars" class="reference internal">environment variables</a>:</p>
<div translate="no" class="highlight-php notranslate">
    <table class="highlighttable">
        <tbody>
            <tr>
                <td class="linenos">
                    <div class="linenodiv">
                        <pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28</pre>
                    </div>
                </td>
                <td class="code">
                    <div class="highlight">
                        <pre class="hljs php"><span class="hljs-comment">// src/Service/MessageGenerator.php</span>
<span class="hljs-keyword">namespace</span> <span class="hljs-title">App</span>\<span class="hljs-title">Service</span>;

<span class="hljs-keyword">use</span> <span class="hljs-title">Psr</span>\<span class="hljs-title">Log</span>\<span class="hljs-title">LoggerInterface</span>;
<span class="hljs-keyword">use</span> <span class="hljs-title">Symfony</span>\<span class="hljs-title">Component</span>\<span class="hljs-title">DependencyInjection</span>\<span class="hljs-title">Attribute</span>\<span class="hljs-title">Autowire</span>;

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MessageGenerator</span>
</span>{
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">__construct</span><span class="hljs-params">(
        // use the %...% syntax for parameters
        #[Autowire<span class="hljs-params">(<span class="hljs-string">'%kernel.project_dir%/data'</span>)</span>]
        string <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>dataDir</span>,

        // or use argument <span class="hljs-string">"param"</span>
        #[Autowire<span class="hljs-params">(param: <span class="hljs-string">'kernel.debug'</span>)</span>]
        bool <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>debugMode</span>,

        // expressions
        #[Autowire<span class="hljs-params">(expression: <span class="hljs-string">'service("App\\\Mail\\\MailerConfiguration").getMailerMethod()'</span>)</span>]
        string <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>mailerMethod</span>

        // environment variables
        #[Autowire<span class="hljs-params">(env: <span class="hljs-string">'SOME_ENV_VAR'</span>)</span>]
        string <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>senderName</span>
    )</span> </span>{
    }
    <span class="hljs-comment">// ...</span>
}</pre>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
<div class="admonition admonition-versionadded ">
    <p class="admonition-title">
                                    <span>6.3</span>
    </p><p>The <code translate="no" class="notranslate">param</code> and <code translate="no" class="notranslate">env</code> arguments were introduced in Symfony 6.3.</p>
</div>
<span id="autowiring-calls"></span>
</div>
<div class="section">
<h2 id="autowiring-other-methods-e-g-setters-and-public-typed-properties">
    Autowiring other Methods (e.g. Setters and Public Typed Properties)
    <a class="headerlink" href="#autowiring-other-methods-e-g-setters-and-public-typed-properties" title="Permalink to this headline">¶</a>
</h2>
<p>When autowiring is enabled for a service, you can <em>also</em> configure the container
to call methods on your class when it's instantiated. For example, suppose you want
to inject the <code translate="no" class="notranslate">logger</code> service, and decide to use setter-injection:</p>
<div class="configuration-block">
    <div role="tablist" aria-label="Configuration formats" class="configuration-tabs configuration-tabs-length-1">
                    <button role="tab" type="button" data-language="php-attributes"
                aria-controls="configuration-block-tabpanel-a8361aa32fe23c80da145ea8499fa0f49ca9e2ee" aria-selected="true"
                data-active="true" >
                <span>Attributes</span>
            </button>
            </div>

            <div role="tabpanel" id="configuration-block-tabpanel-a8361aa32fe23c80da145ea8499fa0f49ca9e2ee" aria-label="Attributes" class="configuration-codeblock" data-language="php-attributes" style="">
            <div translate="no" class="highlight-php-attributes highlight-php notranslate">
    <table class="highlighttable">
        <tbody>
            <tr>
                <td class="linenos">
                    <div class="linenodiv">
                        <pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21</pre>
                    </div>
                </td>
                <td class="code">
                    <div class="highlight">
                        <pre class="hljs php-attributes php"><span class="hljs-comment">// src/Util/Rot13Transformer.php</span>
<span class="hljs-keyword">namespace</span> <span class="hljs-title">App</span>\<span class="hljs-title">Util</span>;

<span class="hljs-keyword">use</span> <span class="hljs-title">Symfony</span>\<span class="hljs-title">Contracts</span>\<span class="hljs-title">Service</span>\<span class="hljs-title">Attribute</span>\<span class="hljs-title">Required</span>;

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Rot13Transformer</span>
</span>{
    <span class="hljs-keyword">private</span> <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>logger</span>;

    <span class="hljs-comment">#[Required]</span>
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">setLogger</span><span class="hljs-params">(LoggerInterface <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>logger</span>)</span>: <span class="hljs-title">void</span>
    </span>{
        <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>this</span><span class="hljs-operator">-&gt;</span>logger = <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>logger</span>;
    }

    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">transform</span><span class="hljs-params">(<span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>value</span>)</span>: <span class="hljs-title">string</span>
    </span>{
        <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>this</span><span class="hljs-operator">-&gt;</span>logger<span class="hljs-operator">-&gt;</span>info(<span class="hljs-string">'Transforming '</span>.<span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>value</span>);
        <span class="hljs-comment">// ...</span>
    }
}</pre>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
        </div>
    </div>
<p>Autowiring will automatically call <em>any</em> method with the <code translate="no" class="notranslate">#[Required]</code> attribute
above it, autowiring each argument. If you need to manually wire some of the arguments
to a method, you can always explicitly <a href="calls.html" class="reference internal">configure the method call</a>.</p>
<p>Despite property injection having some <a href="injection_types.html#property-injection" class="reference internal">drawbacks</a>,
autowiring with <code translate="no" class="notranslate">#[Required]</code> can also be applied to public
typed properties:</p>
<div class="configuration-block">
    <div role="tablist" aria-label="Configuration formats" class="configuration-tabs configuration-tabs-length-1">
                    <button role="tab" type="button" data-language="php-attributes"
                aria-controls="configuration-block-tabpanel-d6027ea6cd1a9a7f2d8d71d673d4ce3a7909cd66" aria-selected="true"
                data-active="true" >
                <span>Attributes</span>
            </button>
            </div>

            <div role="tabpanel" id="configuration-block-tabpanel-d6027ea6cd1a9a7f2d8d71d673d4ce3a7909cd66" aria-label="Attributes" class="configuration-codeblock" data-language="php-attributes" style="">
            <div translate="no" class="highlight-php-attributes highlight-php notranslate">
    <table class="highlighttable">
        <tbody>
            <tr>
                <td class="linenos">
                    <div class="linenodiv">
                        <pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15</pre>
                    </div>
                </td>
                <td class="code">
                    <div class="highlight">
                        <pre class="hljs php-attributes php"><span class="hljs-keyword">namespace</span> <span class="hljs-title">App</span>\<span class="hljs-title">Util</span>;

<span class="hljs-keyword">use</span> <span class="hljs-title">Symfony</span>\<span class="hljs-title">Contracts</span>\<span class="hljs-title">Service</span>\<span class="hljs-title">Attribute</span>\<span class="hljs-title">Required</span>;

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Rot13Transformer</span>
</span>{
    <span class="hljs-comment">#[Required]</span>
    <span class="hljs-keyword">public</span> LoggerInterface <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>logger</span>;

    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">transform</span><span class="hljs-params">(<span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>value</span>)</span>
    </span>{
        <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>this</span><span class="hljs-operator">-&gt;</span>logger<span class="hljs-operator">-&gt;</span>info(<span class="hljs-string">'Transforming '</span>.<span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>value</span>);
        <span class="hljs-comment">// ...</span>
    }
}</pre>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
        </div>
    </div>
</div>
<div class="section">
<h2 id="autowiring-controller-action-methods">
    Autowiring Controller Action Methods
    <a class="headerlink" href="#autowiring-controller-action-methods" title="Permalink to this headline">¶</a>
</h2>
<p>If you're using the Symfony Framework, you can also autowire arguments to your controller
action methods. This is a special case for autowiring, which exists for convenience.
See <a href="../controller.html#controller-accessing-services" class="reference internal">Controller</a> for more details.</p>
</div>
<div class="section">
<h2 id="performance-consequences">
    Performance Consequences
    <a class="headerlink" href="#performance-consequences" title="Permalink to this headline">¶</a>
</h2>
<p>Thanks to Symfony's compiled container, there is <em>no</em> performance penalty for using
autowiring. However, there is a small performance penalty in the <code translate="no" class="notranslate">dev</code> environment,
as the container may be rebuilt more often as you modify classes. If rebuilding
your container is slow (possible on very large projects), you may not be able to
use autowiring.</p>
</div>
<div class="section">
<h2 id="public-and-reusable-bundles">
    Public and Reusable Bundles
    <a class="headerlink" href="#public-and-reusable-bundles" title="Permalink to this headline">¶</a>
</h2>
<p>Public bundles should explicitly configure their services and not rely on autowiring.
Autowiring depends on the services that are available in the container and bundles have
no control over the service container of applications they are included in. You can use
autowiring when building reusable bundles within your company, as you have full control
over all code.</p>
</div>
</div>

                            </div>                    </div>
                                    </div>        </div>

    </section>

</div>


<script type="text/javascript" src="assets/js/theme.js"></script>
<script type="text/javascript" src="assets/js/badge_only.js"></script>

 
</body>
</html>